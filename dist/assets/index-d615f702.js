(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Cl(t){const e=Object.create(null);for(const n of t.split(","))e[n]=1;return n=>n in e}const Le={},js=[],an=()=>{},OE=()=>!1,Do=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),th=t=>t.startsWith("onUpdate:"),Ye=Object.assign,nh=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},DE=Object.prototype.hasOwnProperty,qe=(t,e)=>DE.call(t,e),fe=Array.isArray,$s=t=>mi(t)==="[object Map]",vs=t=>mi(t)==="[object Set]",pf=t=>mi(t)==="[object Date]",VE=t=>mi(t)==="[object RegExp]",be=t=>typeof t=="function",Xe=t=>typeof t=="string",wn=t=>typeof t=="symbol",Ge=t=>t!==null&&typeof t=="object",rh=t=>(Ge(t)||be(t))&&be(t.then)&&be(t.catch),Dm=Object.prototype.toString,mi=t=>Dm.call(t),NE=t=>mi(t).slice(8,-1),kl=t=>mi(t)==="[object Object]",sh=t=>Xe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Hs=Cl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ol=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},xE=/-(\w)/g,Dt=Ol(t=>t.replace(xE,(e,n)=>n?n.toUpperCase():"")),ME=/\B([A-Z])/g,Xt=Ol(t=>t.replace(ME,"-$1").toLowerCase()),Vo=Ol(t=>t.charAt(0).toUpperCase()+t.slice(1)),Qi=Ol(t=>t?`on${Vo(t)}`:""),zt=(t,e)=>!Object.is(t,e),qs=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},iu=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Ya=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Ja=t=>{const e=Xe(t)?Number(t):NaN;return isNaN(e)?t:e};let mf;const Dl=()=>mf||(mf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),LE="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",FE=Cl(LE);function No(t){if(fe(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=Xe(r)?$E(r):No(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(Xe(t)||Ge(t))return t}const UE=/;(?![^(]*\))/g,BE=/:([^]+)/,jE=/\/\*[^]*?\*\//g;function $E(t){const e={};return t.replace(jE,"").split(UE).forEach(n=>{if(n){const r=n.split(BE);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function gi(t){let e="";if(Xe(t))e=t;else if(fe(t))for(let n=0;n<t.length;n++){const r=gi(t[n]);r&&(e+=r+" ")}else if(Ge(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function HE(t){if(!t)return null;let{class:e,style:n}=t;return e&&!Xe(e)&&(t.class=gi(e)),n&&(t.style=No(n)),t}const qE="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",WE=Cl(qE);function Vm(t){return!!t||t===""}function KE(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Ur(t[r],e[r]);return n}function Ur(t,e){if(t===e)return!0;let n=pf(t),r=pf(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=wn(t),r=wn(e),n||r)return t===e;if(n=fe(t),r=fe(e),n||r)return n&&r?KE(t,e):!1;if(n=Ge(t),r=Ge(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const l=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(l&&!c||!l&&c||!Ur(t[o],e[o]))return!1}}return String(t)===String(e)}function Vl(t,e){return t.findIndex(n=>Ur(n,e))}const Nm=t=>!!(t&&t.__v_isRef===!0),Te=t=>Xe(t)?t:t==null?"":fe(t)||Ge(t)&&(t.toString===Dm||!be(t.toString))?Nm(t)?Te(t.value):JSON.stringify(t,xm,2):String(t),xm=(t,e)=>Nm(e)?xm(t,e.value):$s(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Dc(r,i)+" =>"]=s,n),{})}:vs(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Dc(n))}:wn(e)?Dc(e):Ge(e)&&!fe(e)&&!kl(e)?String(e):e,Dc=(t,e="")=>{var n;return wn(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};function zE(t){return t==null?"initial":typeof t=="string"?t===""?" ":t:String(t)}/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ut;class ih{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ut,!e&&Ut&&(this.index=(Ut.scopes||(Ut.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].pause();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,n;if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].resume();for(e=0,n=this.effects.length;e<n;e++)this.effects[e].resume()}}run(e){if(this._active){const n=Ut;try{return Ut=this,e()}finally{Ut=n}}}on(){++this._on===1&&(this.prevScope=Ut,Ut=this)}off(){this._on>0&&--this._on===0&&(Ut=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function GE(t){return new ih(t)}function Mm(){return Ut}function QE(t,e=!1){Ut&&Ut.cleanups.push(t)}let Je;const Vc=new WeakSet;class uo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ut&&Ut.active&&Ut.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Vc.has(this)&&(Vc.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Fm(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,gf(this),Um(this);const e=Je,n=vn;Je=this,vn=!0;try{return this.fn()}finally{Bm(this),Je=e,vn=n,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)lh(e);this.deps=this.depsTail=void 0,gf(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Vc.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ou(this)&&this.run()}get dirty(){return ou(this)}}let Lm=0,Yi,Ji;function Fm(t,e=!1){if(t.flags|=8,e){t.next=Ji,Ji=t;return}t.next=Yi,Yi=t}function oh(){Lm++}function ah(){if(--Lm>0)return;if(Ji){let e=Ji;for(Ji=void 0;e;){const n=e.next;e.next=void 0,e.flags&=-9,e=n}}let t;for(;Yi;){let e=Yi;for(Yi=void 0;e;){const n=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=n}}if(t)throw t}function Um(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Bm(t){let e,n=t.depsTail,r=n;for(;r;){const s=r.prevDep;r.version===-1?(r===n&&(n=s),lh(r),YE(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=s}t.deps=e,t.depsTail=n}function ou(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(jm(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function jm(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ho)||(t.globalVersion=ho,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!ou(t))))return;t.flags|=2;const e=t.dep,n=Je,r=vn;Je=t,vn=!0;try{Um(t);const s=t.fn(t._value);(e.version===0||zt(s,t._value))&&(t.flags|=128,t._value=s,e.version++)}catch(s){throw e.version++,s}finally{Je=n,vn=r,Bm(t),t.flags&=-3}}function lh(t,e=!1){const{dep:n,prevSub:r,nextSub:s}=t;if(r&&(r.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=r,t.nextSub=void 0),n.subs===t&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let i=n.computed.deps;i;i=i.nextDep)lh(i,!0)}!e&&!--n.sc&&n.map&&n.map.delete(n.key)}function YE(t){const{prevDep:e,nextDep:n}=t;e&&(e.nextDep=n,t.prevDep=void 0),n&&(n.prevDep=e,t.nextDep=void 0)}function JE(t,e){t.effect instanceof uo&&(t=t.effect.fn);const n=new uo(t);e&&Ye(n,e);try{n.run()}catch(s){throw n.stop(),s}const r=n.run.bind(n);return r.effect=n,r}function XE(t){t.effect.stop()}let vn=!0;const $m=[];function tr(){$m.push(vn),vn=!1}function nr(){const t=$m.pop();vn=t===void 0?!0:t}function gf(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const n=Je;Je=void 0;try{e()}finally{Je=n}}}let ho=0;class ZE{constructor(e,n){this.sub=e,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Nl{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!Je||!vn||Je===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Je)n=this.activeLink=new ZE(Je,this),Je.deps?(n.prevDep=Je.depsTail,Je.depsTail.nextDep=n,Je.depsTail=n):Je.deps=Je.depsTail=n,Hm(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Je.depsTail,n.nextDep=void 0,Je.depsTail.nextDep=n,Je.depsTail=n,Je.deps===n&&(Je.deps=r)}return n}trigger(e){this.version++,ho++,this.notify(e)}notify(e){oh();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{ah()}}}function Hm(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)Hm(r)}const n=t.dep.subs;n!==t&&(t.prevSub=n,n&&(n.nextSub=t)),t.dep.subs=t}}const Xa=new WeakMap,is=Symbol(""),au=Symbol(""),fo=Symbol("");function jt(t,e,n){if(vn&&Je){let r=Xa.get(t);r||Xa.set(t,r=new Map);let s=r.get(n);s||(r.set(n,s=new Nl),s.map=r,s.key=n),s.track()}}function Kn(t,e,n,r,s,i){const o=Xa.get(t);if(!o){ho++;return}const l=c=>{c&&c.trigger()};if(oh(),e==="clear")o.forEach(l);else{const c=fe(t),h=c&&sh(n);if(c&&n==="length"){const u=Number(r);o.forEach((f,g)=>{(g==="length"||g===fo||!wn(g)&&g>=u)&&l(f)})}else switch((n!==void 0||o.has(void 0))&&l(o.get(n)),h&&l(o.get(fo)),e){case"add":c?h&&l(o.get("length")):(l(o.get(is)),$s(t)&&l(o.get(au)));break;case"delete":c||(l(o.get(is)),$s(t)&&l(o.get(au)));break;case"set":$s(t)&&l(o.get(is));break}}ah()}function e0(t,e){const n=Xa.get(t);return n&&n.get(e)}function Os(t){const e=Ue(t);return e===t?e:(jt(e,"iterate",fo),ln(t)?e:e.map(Pt))}function xl(t){return jt(t=Ue(t),"iterate",fo),t}const t0={__proto__:null,[Symbol.iterator](){return Nc(this,Symbol.iterator,Pt)},concat(...t){return Os(this).concat(...t.map(e=>fe(e)?Os(e):e))},entries(){return Nc(this,"entries",t=>(t[1]=Pt(t[1]),t))},every(t,e){return Hn(this,"every",t,e,void 0,arguments)},filter(t,e){return Hn(this,"filter",t,e,n=>n.map(Pt),arguments)},find(t,e){return Hn(this,"find",t,e,Pt,arguments)},findIndex(t,e){return Hn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Hn(this,"findLast",t,e,Pt,arguments)},findLastIndex(t,e){return Hn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Hn(this,"forEach",t,e,void 0,arguments)},includes(...t){return xc(this,"includes",t)},indexOf(...t){return xc(this,"indexOf",t)},join(t){return Os(this).join(t)},lastIndexOf(...t){return xc(this,"lastIndexOf",t)},map(t,e){return Hn(this,"map",t,e,void 0,arguments)},pop(){return xi(this,"pop")},push(...t){return xi(this,"push",t)},reduce(t,...e){return _f(this,"reduce",t,e)},reduceRight(t,...e){return _f(this,"reduceRight",t,e)},shift(){return xi(this,"shift")},some(t,e){return Hn(this,"some",t,e,void 0,arguments)},splice(...t){return xi(this,"splice",t)},toReversed(){return Os(this).toReversed()},toSorted(t){return Os(this).toSorted(t)},toSpliced(...t){return Os(this).toSpliced(...t)},unshift(...t){return xi(this,"unshift",t)},values(){return Nc(this,"values",Pt)}};function Nc(t,e,n){const r=xl(t),s=r[e]();return r!==t&&!ln(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=n(i.value)),i}),s}const n0=Array.prototype;function Hn(t,e,n,r,s,i){const o=xl(t),l=o!==t&&!ln(t),c=o[e];if(c!==n0[e]){const f=c.apply(t,i);return l?Pt(f):f}let h=n;o!==t&&(l?h=function(f,g){return n.call(this,Pt(f),g,t)}:n.length>2&&(h=function(f,g){return n.call(this,f,g,t)}));const u=c.call(o,h,r);return l&&s?s(u):u}function _f(t,e,n,r){const s=xl(t);let i=n;return s!==t&&(ln(t)?n.length>3&&(i=function(o,l,c){return n.call(this,o,l,c,t)}):i=function(o,l,c){return n.call(this,o,Pt(l),c,t)}),s[e](i,...r)}function xc(t,e,n){const r=Ue(t);jt(r,"iterate",fo);const s=r[e](...n);return(s===-1||s===!1)&&Fl(n[0])?(n[0]=Ue(n[0]),r[e](...n)):s}function xi(t,e,n=[]){tr(),oh();const r=Ue(t)[e].apply(t,n);return ah(),nr(),r}const r0=Cl("__proto__,__v_isRef,__isVue"),qm=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(wn));function s0(t){wn(t)||(t=String(t));const e=Ue(this);return jt(e,"has",t),e.hasOwnProperty(t)}class Wm{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){if(n==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?Jm:Ym:i?Qm:Gm).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=fe(e);if(!s){let c;if(o&&(c=t0[n]))return c;if(n==="hasOwnProperty")return s0}const l=Reflect.get(e,n,Et(e)?e:r);return(wn(n)?qm.has(n):r0(n))||(s||jt(e,"get",n),i)?l:Et(l)?o&&sh(n)?l:l.value:Ge(l)?s?uh(l):xo(l):l}}class Km extends Wm{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const c=rr(i);if(!ln(r)&&!rr(r)&&(i=Ue(i),r=Ue(r)),!fe(e)&&Et(i)&&!Et(r))return c?!1:(i.value=r,!0)}const o=fe(e)&&sh(n)?Number(n)<e.length:qe(e,n),l=Reflect.set(e,n,r,Et(e)?e:s);return e===Ue(s)&&(o?zt(r,i)&&Kn(e,"set",n,r):Kn(e,"add",n,r)),l}deleteProperty(e,n){const r=qe(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Kn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!wn(n)||!qm.has(n))&&jt(e,"has",n),r}ownKeys(e){return jt(e,"iterate",fe(e)?"length":is),Reflect.ownKeys(e)}}class zm extends Wm{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const i0=new Km,o0=new zm,a0=new Km(!0),l0=new zm(!0),lu=t=>t,va=t=>Reflect.getPrototypeOf(t);function c0(t,e,n){return function(...r){const s=this.__v_raw,i=Ue(s),o=$s(i),l=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,h=s[t](...r),u=n?lu:e?Za:Pt;return!e&&jt(i,"iterate",c?au:is),{next(){const{value:f,done:g}=h.next();return g?{value:f,done:g}:{value:l?[u(f[0]),u(f[1])]:u(f),done:g}},[Symbol.iterator](){return this}}}}function Ea(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function u0(t,e){const n={get(s){const i=this.__v_raw,o=Ue(i),l=Ue(s);t||(zt(s,l)&&jt(o,"get",s),jt(o,"get",l));const{has:c}=va(o),h=e?lu:t?Za:Pt;if(c.call(o,s))return h(i.get(s));if(c.call(o,l))return h(i.get(l));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&jt(Ue(s),"iterate",is),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=Ue(i),l=Ue(s);return t||(zt(s,l)&&jt(o,"has",s),jt(o,"has",l)),s===l?i.has(s):i.has(s)||i.has(l)},forEach(s,i){const o=this,l=o.__v_raw,c=Ue(l),h=e?lu:t?Za:Pt;return!t&&jt(c,"iterate",is),l.forEach((u,f)=>s.call(i,h(u),h(f),o))}};return Ye(n,t?{add:Ea("add"),set:Ea("set"),delete:Ea("delete"),clear:Ea("clear")}:{add(s){!e&&!ln(s)&&!rr(s)&&(s=Ue(s));const i=Ue(this);return va(i).has.call(i,s)||(i.add(s),Kn(i,"add",s,s)),this},set(s,i){!e&&!ln(i)&&!rr(i)&&(i=Ue(i));const o=Ue(this),{has:l,get:c}=va(o);let h=l.call(o,s);h||(s=Ue(s),h=l.call(o,s));const u=c.call(o,s);return o.set(s,i),h?zt(i,u)&&Kn(o,"set",s,i):Kn(o,"add",s,i),this},delete(s){const i=Ue(this),{has:o,get:l}=va(i);let c=o.call(i,s);c||(s=Ue(s),c=o.call(i,s)),l&&l.call(i,s);const h=i.delete(s);return c&&Kn(i,"delete",s,void 0),h},clear(){const s=Ue(this),i=s.size!==0,o=s.clear();return i&&Kn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{n[s]=c0(s,t,e)}),n}function Ml(t,e){const n=u0(t,e);return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(qe(n,s)&&s in r?n:r,s,i)}const h0={get:Ml(!1,!1)},d0={get:Ml(!1,!0)},f0={get:Ml(!0,!1)},p0={get:Ml(!0,!0)},Gm=new WeakMap,Qm=new WeakMap,Ym=new WeakMap,Jm=new WeakMap;function m0(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function g0(t){return t.__v_skip||!Object.isExtensible(t)?0:m0(NE(t))}function xo(t){return rr(t)?t:Ll(t,!1,i0,h0,Gm)}function ch(t){return Ll(t,!1,a0,d0,Qm)}function uh(t){return Ll(t,!0,o0,f0,Ym)}function _0(t){return Ll(t,!0,l0,p0,Jm)}function Ll(t,e,n,r,s){if(!Ge(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=g0(t);if(i===0)return t;const o=s.get(t);if(o)return o;const l=new Proxy(t,i===2?r:n);return s.set(t,l),l}function Dr(t){return rr(t)?Dr(t.__v_raw):!!(t&&t.__v_isReactive)}function rr(t){return!!(t&&t.__v_isReadonly)}function ln(t){return!!(t&&t.__v_isShallow)}function Fl(t){return t?!!t.__v_raw:!1}function Ue(t){const e=t&&t.__v_raw;return e?Ue(e):t}function Xm(t){return!qe(t,"__v_skip")&&Object.isExtensible(t)&&iu(t,"__v_skip",!0),t}const Pt=t=>Ge(t)?xo(t):t,Za=t=>Ge(t)?uh(t):t;function Et(t){return t?t.__v_isRef===!0:!1}function Ws(t){return Zm(t,!1)}function hh(t){return Zm(t,!0)}function Zm(t,e){return Et(t)?t:new y0(t,e)}class y0{constructor(e,n){this.dep=new Nl,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?e:Ue(e),this._value=n?e:Pt(e),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(e){const n=this._rawValue,r=this.__v_isShallow||ln(e)||rr(e);e=r?e:Ue(e),zt(e,n)&&(this._rawValue=e,this._value=r?e:Pt(e),this.dep.trigger())}}function v0(t){t.dep&&t.dep.trigger()}function Xn(t){return Et(t)?t.value:t}function E0(t){return be(t)?t():Xn(t)}const w0={get:(t,e,n)=>e==="__v_raw"?t:Xn(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return Et(s)&&!Et(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function dh(t){return Dr(t)?t:new Proxy(t,w0)}class T0{constructor(e){this.__v_isRef=!0,this._value=void 0;const n=this.dep=new Nl,{get:r,set:s}=e(n.track.bind(n),n.trigger.bind(n));this._get=r,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function eg(t){return new T0(t)}function b0(t){const e=fe(t)?new Array(t.length):{};for(const n in t)e[n]=tg(t,n);return e}class I0{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return e0(Ue(this._object),this._key)}}class A0{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function R0(t,e,n){return Et(t)?t:be(t)?new A0(t):Ge(t)&&arguments.length>1?tg(t,e,n):Ws(t)}function tg(t,e,n){const r=t[e];return Et(r)?r:new I0(t,e,n)}class S0{constructor(e,n,r){this.fn=e,this.setter=n,this._value=void 0,this.dep=new Nl(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ho-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Je!==this)return Fm(this,!0),!0}get value(){const e=this.dep.track();return jm(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function P0(t,e,n=!1){let r,s;return be(t)?r=t:(r=t.get,s=t.set),new S0(r,s,n)}const C0={GET:"get",HAS:"has",ITERATE:"iterate"},k0={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},wa={},el=new WeakMap;let wr;function O0(){return wr}function ng(t,e=!1,n=wr){if(n){let r=el.get(n);r||el.set(n,r=[]),r.push(t)}}function D0(t,e,n=Le){const{immediate:r,deep:s,once:i,scheduler:o,augmentJob:l,call:c}=n,h=V=>s?V:ln(V)||s===!1||s===0?zn(V,1):zn(V);let u,f,g,y,O=!1,N=!1;if(Et(t)?(f=()=>t.value,O=ln(t)):Dr(t)?(f=()=>h(t),O=!0):fe(t)?(N=!0,O=t.some(V=>Dr(V)||ln(V)),f=()=>t.map(V=>{if(Et(V))return V.value;if(Dr(V))return h(V);if(be(V))return c?c(V,2):V()})):be(t)?e?f=c?()=>c(t,2):t:f=()=>{if(g){tr();try{g()}finally{nr()}}const V=wr;wr=u;try{return c?c(t,3,[y]):t(y)}finally{wr=V}}:f=an,e&&s){const V=f,B=s===!0?1/0:s;f=()=>zn(V(),B)}const F=Mm(),$=()=>{u.stop(),F&&F.active&&nh(F.effects,u)};if(i&&e){const V=e;e=(...B)=>{V(...B),$()}}let L=N?new Array(t.length).fill(wa):wa;const S=V=>{if(!(!(u.flags&1)||!u.dirty&&!V))if(e){const B=u.run();if(s||O||(N?B.some((H,A)=>zt(H,L[A])):zt(B,L))){g&&g();const H=wr;wr=u;try{const A=[B,L===wa?void 0:N&&L[0]===wa?[]:L,y];L=B,c?c(e,3,A):e(...A)}finally{wr=H}}}else u.run()};return l&&l(S),u=new uo(f),u.scheduler=o?()=>o(S,!1):S,y=V=>ng(V,!1,u),g=u.onStop=()=>{const V=el.get(u);if(V){if(c)c(V,4);else for(const B of V)B();el.delete(u)}},e?r?S(!0):L=u.run():o?o(S.bind(null,!0),!0):u.run(),$.pause=u.pause.bind(u),$.resume=u.resume.bind(u),$.stop=$,$}function zn(t,e=1/0,n){if(e<=0||!Ge(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,Et(t))zn(t.value,e,n);else if(fe(t))for(let r=0;r<t.length;r++)zn(t[r],e,n);else if(vs(t)||$s(t))t.forEach(r=>{zn(r,e,n)});else if(kl(t)){for(const r in t)zn(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&zn(t[r],e,n)}return t}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const rg=[];function V0(t){rg.push(t)}function N0(){rg.pop()}function x0(t,e){}const M0={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},L0={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function _i(t,e,n,r){try{return r?t(...r):t()}catch(s){Es(s,e,n)}}function mn(t,e,n,r){if(be(t)){const s=_i(t,e,n,r);return s&&rh(s)&&s.catch(i=>{Es(i,e,n)}),s}if(fe(t)){const s=[];for(let i=0;i<t.length;i++)s.push(mn(t[i],e,n,r));return s}}function Es(t,e,n,r=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Le;if(e){let l=e.parent;const c=e.proxy,h=`https://vuejs.org/error-reference/#runtime-${n}`;for(;l;){const u=l.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,c,h)===!1)return}l=l.parent}if(i){tr(),_i(i,null,10,[t,c,h]),nr();return}}F0(t,n,s,r,o)}function F0(t,e,n,r=!0,s=!1){if(s)throw t;console.error(t)}const Gt=[];let Cn=-1;const Ks=[];let Tr=null,Vs=0;const sg=Promise.resolve();let tl=null;function Mo(t){const e=tl||sg;return t?e.then(this?t.bind(this):t):e}function U0(t){let e=Cn+1,n=Gt.length;for(;e<n;){const r=e+n>>>1,s=Gt[r],i=mo(s);i<t||i===t&&s.flags&2?e=r+1:n=r}return e}function fh(t){if(!(t.flags&1)){const e=mo(t),n=Gt[Gt.length-1];!n||!(t.flags&2)&&e>=mo(n)?Gt.push(t):Gt.splice(U0(e),0,t),t.flags|=1,ig()}}function ig(){tl||(tl=sg.then(og))}function po(t){fe(t)?Ks.push(...t):Tr&&t.id===-1?Tr.splice(Vs+1,0,t):t.flags&1||(Ks.push(t),t.flags|=1),ig()}function yf(t,e,n=Cn+1){for(;n<Gt.length;n++){const r=Gt[n];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;Gt.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function nl(t){if(Ks.length){const e=[...new Set(Ks)].sort((n,r)=>mo(n)-mo(r));if(Ks.length=0,Tr){Tr.push(...e);return}for(Tr=e,Vs=0;Vs<Tr.length;Vs++){const n=Tr[Vs];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}Tr=null,Vs=0}}const mo=t=>t.id==null?t.flags&2?-1:1/0:t.id;function og(t){const e=an;try{for(Cn=0;Cn<Gt.length;Cn++){const n=Gt[Cn];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),_i(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;Cn<Gt.length;Cn++){const n=Gt[Cn];n&&(n.flags&=-2)}Cn=-1,Gt.length=0,nl(),tl=null,(Gt.length||Ks.length)&&og()}}let Ns,Ta=[];function ag(t,e){var n,r;Ns=t,Ns?(Ns.enabled=!0,Ta.forEach(({event:s,args:i})=>Ns.emit(s,...i)),Ta=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{ag(i,e)}),setTimeout(()=>{Ns||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Ta=[])},3e3)):Ta=[]}let Ot=null,Ul=null;function go(t){const e=Ot;return Ot=t,Ul=t&&t.type.__scopeId||null,e}function B0(t){Ul=t}function j0(){Ul=null}const $0=t=>cn;function cn(t,e=Ot,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&gu(-1);const i=go(e);let o;try{o=t(...s)}finally{go(i),r._d&&gu(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function hn(t,e){if(Ot===null)return t;const n=jo(Ot),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,l,c=Le]=e[s];i&&(be(i)&&(i={mounted:i,updated:i}),i.deep&&zn(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:c}))}return t}function kn(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const l=s[o];i&&(l.oldValue=i[o].value);let c=l.dir[r];c&&(tr(),mn(c,n,8,[t.el,l,t,e]),nr())}}const lg=Symbol("_vte"),cg=t=>t.__isTeleport,Xi=t=>t&&(t.disabled||t.disabled===""),vf=t=>t&&(t.defer||t.defer===""),Ef=t=>typeof SVGElement<"u"&&t instanceof SVGElement,wf=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,cu=(t,e)=>{const n=t&&t.to;return Xe(n)?e?e(n):null:n},ug={name:"Teleport",__isTeleport:!0,process(t,e,n,r,s,i,o,l,c,h){const{mc:u,pc:f,pbc:g,o:{insert:y,querySelector:O,createText:N,createComment:F}}=h,$=Xi(e.props);let{shapeFlag:L,children:S,dynamicChildren:V}=e;if(t==null){const B=e.el=N(""),H=e.anchor=N("");y(B,n,r),y(H,n,r);const A=(w,I)=>{L&16&&(s&&s.isCE&&(s.ce._teleportTarget=w),u(S,w,I,s,i,o,l,c))},E=()=>{const w=e.target=cu(e.props,O),I=hg(w,e,N,y);w&&(o!=="svg"&&Ef(w)?o="svg":o!=="mathml"&&wf(w)&&(o="mathml"),$||(A(w,I),xa(e,!1)))};$&&(A(n,H),xa(e,!0)),vf(e.props)?(e.el.__isMounted=!1,vt(()=>{E(),delete e.el.__isMounted},i)):E()}else{if(vf(e.props)&&t.el.__isMounted===!1){vt(()=>{ug.process(t,e,n,r,s,i,o,l,c,h)},i);return}e.el=t.el,e.targetStart=t.targetStart;const B=e.anchor=t.anchor,H=e.target=t.target,A=e.targetAnchor=t.targetAnchor,E=Xi(t.props),w=E?n:H,I=E?B:A;if(o==="svg"||Ef(H)?o="svg":(o==="mathml"||wf(H))&&(o="mathml"),V?(g(t.dynamicChildren,V,w,s,i,o,l),Ih(t,e,!0)):c||f(t,e,w,I,s,i,o,l,!1),$)E?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):ba(e,n,B,h,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const P=e.target=cu(e.props,O);P&&ba(e,P,null,h,0)}else E&&ba(e,H,A,h,1);xa(e,$)}},remove(t,e,n,{um:r,o:{remove:s}},i){const{shapeFlag:o,children:l,anchor:c,targetStart:h,targetAnchor:u,target:f,props:g}=t;if(f&&(s(h),s(u)),i&&s(c),o&16){const y=i||!Xi(g);for(let O=0;O<l.length;O++){const N=l[O];r(N,e,n,y,!!N.dynamicChildren)}}},move:ba,hydrate:H0};function ba(t,e,n,{o:{insert:r},m:s},i=2){i===0&&r(t.targetAnchor,e,n);const{el:o,anchor:l,shapeFlag:c,children:h,props:u}=t,f=i===2;if(f&&r(o,e,n),(!f||Xi(u))&&c&16)for(let g=0;g<h.length;g++)s(h[g],e,n,2);f&&r(l,e,n)}function H0(t,e,n,r,s,i,{o:{nextSibling:o,parentNode:l,querySelector:c,insert:h,createText:u}},f){const g=e.target=cu(e.props,c);if(g){const y=Xi(e.props),O=g._lpa||g.firstChild;if(e.shapeFlag&16)if(y)e.anchor=f(o(t),e,l(t),n,r,s,i),e.targetStart=O,e.targetAnchor=O&&o(O);else{e.anchor=o(t);let N=O;for(;N;){if(N&&N.nodeType===8){if(N.data==="teleport start anchor")e.targetStart=N;else if(N.data==="teleport anchor"){e.targetAnchor=N,g._lpa=e.targetAnchor&&o(e.targetAnchor);break}}N=o(N)}e.targetAnchor||hg(g,e,u,h),f(O&&o(O),e,g,n,r,s,i)}xa(e,y)}return e.anchor&&o(e.anchor)}const q0=ug;function xa(t,e){const n=t.ctx;if(n&&n.ut){let r,s;for(e?(r=t.el,s=t.anchor):(r=t.targetStart,s=t.targetAnchor);r&&r!==s;)r.nodeType===1&&r.setAttribute("data-v-owner",n.uid),r=r.nextSibling;n.ut()}}function hg(t,e,n,r){const s=e.targetStart=n(""),i=e.targetAnchor=n("");return s[lg]=i,t&&(r(s,t),r(i,t)),i}const br=Symbol("_leaveCb"),Ia=Symbol("_enterCb");function ph(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Uo(()=>{t.isMounted=!0}),Hl(()=>{t.isUnmounting=!0}),t}const un=[Function,Array],mh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:un,onEnter:un,onAfterEnter:un,onEnterCancelled:un,onBeforeLeave:un,onLeave:un,onAfterLeave:un,onLeaveCancelled:un,onBeforeAppear:un,onAppear:un,onAfterAppear:un,onAppearCancelled:un},dg=t=>{const e=t.subTree;return e.component?dg(e.component):e},W0={name:"BaseTransition",props:mh,setup(t,{slots:e}){const n=nn(),r=ph();return()=>{const s=e.default&&Bl(e.default(),!0);if(!s||!s.length)return;const i=fg(s),o=Ue(t),{mode:l}=o;if(r.isLeaving)return Mc(i);const c=Tf(i);if(!c)return Mc(i);let h=Zs(c,o,r,n,f=>h=f);c.type!==dt&&sr(c,h);let u=n.subTree&&Tf(n.subTree);if(u&&u.type!==dt&&!yn(c,u)&&dg(n).type!==dt){let f=Zs(u,o,r,n);if(sr(u,f),l==="out-in"&&c.type!==dt)return r.isLeaving=!0,f.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete f.afterLeave,u=void 0},Mc(i);l==="in-out"&&c.type!==dt?f.delayLeave=(g,y,O)=>{const N=mg(r,u);N[String(u.key)]=u,g[br]=()=>{y(),g[br]=void 0,delete h.delayedLeave,u=void 0},h.delayedLeave=()=>{O(),delete h.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return i}}};function fg(t){let e=t[0];if(t.length>1){for(const n of t)if(n.type!==dt){e=n;break}}return e}const pg=W0;function mg(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Zs(t,e,n,r,s){const{appear:i,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:h,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:g,onLeave:y,onAfterLeave:O,onLeaveCancelled:N,onBeforeAppear:F,onAppear:$,onAfterAppear:L,onAppearCancelled:S}=e,V=String(t.key),B=mg(n,t),H=(w,I)=>{w&&mn(w,r,9,I)},A=(w,I)=>{const P=I[1];H(w,I),fe(w)?w.every(b=>b.length<=1)&&P():w.length<=1&&P()},E={mode:o,persisted:l,beforeEnter(w){let I=c;if(!n.isMounted)if(i)I=F||c;else return;w[br]&&w[br](!0);const P=B[V];P&&yn(t,P)&&P.el[br]&&P.el[br](),H(I,[w])},enter(w){let I=h,P=u,b=f;if(!n.isMounted)if(i)I=$||h,P=L||u,b=S||f;else return;let T=!1;const oe=w[Ia]=ce=>{T||(T=!0,ce?H(b,[w]):H(P,[w]),E.delayedLeave&&E.delayedLeave(),w[Ia]=void 0)};I?A(I,[w,oe]):oe()},leave(w,I){const P=String(t.key);if(w[Ia]&&w[Ia](!0),n.isUnmounting)return I();H(g,[w]);let b=!1;const T=w[br]=oe=>{b||(b=!0,I(),oe?H(N,[w]):H(O,[w]),w[br]=void 0,B[P]===t&&delete B[P])};B[P]=t,y?A(y,[w,T]):T()},clone(w){const I=Zs(w,e,n,r,s);return s&&s(I),I}};return E}function Mc(t){if(Fo(t))return t=Ln(t),t.children=null,t}function Tf(t){if(!Fo(t))return cg(t.type)&&t.children?fg(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&be(n.default))return n.default()}}function sr(t,e){t.shapeFlag&6&&t.component?(t.transition=e,sr(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Bl(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===it?(o.patchFlag&128&&s++,r=r.concat(Bl(o.children,e,l))):(e||o.type!==dt)&&r.push(l!=null?Ln(o,{key:l}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function Lo(t,e){return be(t)?(()=>Ye({name:t.name},e,{setup:t}))():t}function K0(){const t=nn();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function gh(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function z0(t){const e=nn(),n=hh(null);if(e){const s=e.refs===Le?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>n.value,set:i=>n.value=i})}return n}function zs(t,e,n,r,s=!1){if(fe(t)){t.forEach((O,N)=>zs(O,e&&(fe(e)?e[N]:e),n,r,s));return}if(Vr(r)&&!s){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&zs(t,e,n,r.component.subTree);return}const i=r.shapeFlag&4?jo(r.component):r.el,o=s?null:i,{i:l,r:c}=t,h=e&&e.r,u=l.refs===Le?l.refs={}:l.refs,f=l.setupState,g=Ue(f),y=f===Le?()=>!1:O=>qe(g,O);if(h!=null&&h!==c&&(Xe(h)?(u[h]=null,y(h)&&(f[h]=null)):Et(h)&&(h.value=null)),be(c))_i(c,l,12,[o,u]);else{const O=Xe(c),N=Et(c);if(O||N){const F=()=>{if(t.f){const $=O?y(c)?f[c]:u[c]:c.value;s?fe($)&&nh($,i):fe($)?$.includes(i)||$.push(i):O?(u[c]=[i],y(c)&&(f[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else O?(u[c]=o,y(c)&&(f[c]=o)):N&&(c.value=o,t.k&&(u[t.k]=o))};o?(F.id=-1,vt(F,n)):F()}}}let bf=!1;const Ds=()=>{bf||(console.error("Hydration completed but contains mismatches."),bf=!0)},G0=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",Q0=t=>t.namespaceURI.includes("MathML"),Aa=t=>{if(t.nodeType===1){if(G0(t))return"svg";if(Q0(t))return"mathml"}},Us=t=>t.nodeType===8;function Y0(t){const{mt:e,p:n,o:{patchProp:r,createText:s,nextSibling:i,parentNode:o,remove:l,insert:c,createComment:h}}=t,u=(S,V)=>{if(!V.hasChildNodes()){n(null,S,V),nl(),V._vnode=S;return}f(V.firstChild,S,null,null,null),nl(),V._vnode=S},f=(S,V,B,H,A,E=!1)=>{E=E||!!V.dynamicChildren;const w=Us(S)&&S.data==="[",I=()=>N(S,V,B,H,A,w),{type:P,ref:b,shapeFlag:T,patchFlag:oe}=V;let ce=S.nodeType;V.el=S,oe===-2&&(E=!1,V.dynamicChildren=null);let Q=null;switch(P){case Nr:ce!==3?V.children===""?(c(V.el=s(""),o(S),S),Q=S):Q=I():(S.data!==V.children&&(Ds(),S.data=V.children),Q=i(S));break;case dt:L(S)?(Q=i(S),$(V.el=S.content.firstChild,S,B)):ce!==8||w?Q=I():Q=i(S);break;case ls:if(w&&(S=i(S),ce=S.nodeType),ce===1||ce===3){Q=S;const ae=!V.children.length;for(let Z=0;Z<V.staticCount;Z++)ae&&(V.children+=Q.nodeType===1?Q.outerHTML:Q.data),Z===V.staticCount-1&&(V.anchor=Q),Q=i(Q);return w?i(Q):Q}else I();break;case it:w?Q=O(S,V,B,H,A,E):Q=I();break;default:if(T&1)(ce!==1||V.type.toLowerCase()!==S.tagName.toLowerCase())&&!L(S)?Q=I():Q=g(S,V,B,H,A,E);else if(T&6){V.slotScopeIds=A;const ae=o(S);if(w?Q=F(S):Us(S)&&S.data==="teleport start"?Q=F(S,S.data,"teleport end"):Q=i(S),e(V,ae,null,B,H,Aa(ae),E),Vr(V)&&!V.type.__asyncResolved){let Z;w?(Z=De(it),Z.anchor=Q?Q.previousSibling:ae.lastChild):Z=S.nodeType===3?mt(""):De("div"),Z.el=S,V.component.subTree=Z}}else T&64?ce!==8?Q=I():Q=V.type.hydrate(S,V,B,H,A,E,t,y):T&128&&(Q=V.type.hydrate(S,V,B,H,Aa(o(S)),A,E,t,f))}return b!=null&&zs(b,null,H,V),Q},g=(S,V,B,H,A,E)=>{E=E||!!V.dynamicChildren;const{type:w,props:I,patchFlag:P,shapeFlag:b,dirs:T,transition:oe}=V,ce=w==="input"||w==="option";if(ce||P!==-1){T&&kn(V,null,B,"created");let Q=!1;if(L(S)){Q=Ug(null,oe)&&B&&B.vnode.props&&B.vnode.props.appear;const Z=S.content.firstChild;if(Q){const Ie=Z.getAttribute("class");Ie&&(Z.$cls=Ie),oe.beforeEnter(Z)}$(Z,S,B),V.el=S=Z}if(b&16&&!(I&&(I.innerHTML||I.textContent))){let Z=y(S.firstChild,V,S,B,H,A,E);for(;Z;){Ra(S,1)||Ds();const Ie=Z;Z=Z.nextSibling,l(Ie)}}else if(b&8){let Z=V.children;Z[0]===`
`&&(S.tagName==="PRE"||S.tagName==="TEXTAREA")&&(Z=Z.slice(1)),S.textContent!==Z&&(Ra(S,0)||Ds(),S.textContent=V.children)}if(I){if(ce||!E||P&48){const Z=S.tagName.includes("-");for(const Ie in I)(ce&&(Ie.endsWith("value")||Ie==="indeterminate")||Do(Ie)&&!Hs(Ie)||Ie[0]==="."||Z)&&r(S,Ie,null,I[Ie],void 0,B)}else if(I.onClick)r(S,"onClick",null,I.onClick,void 0,B);else if(P&4&&Dr(I.style))for(const Z in I.style)I.style[Z]}let ae;(ae=I&&I.onVnodeBeforeMount)&&Yt(ae,B,V),T&&kn(V,null,B,"beforeMount"),((ae=I&&I.onVnodeMounted)||T||Q)&&Gg(()=>{ae&&Yt(ae,B,V),Q&&oe.enter(S),T&&kn(V,null,B,"mounted")},H)}return S.nextSibling},y=(S,V,B,H,A,E,w)=>{w=w||!!V.dynamicChildren;const I=V.children,P=I.length;for(let b=0;b<P;b++){const T=w?I[b]:I[b]=Jt(I[b]),oe=T.type===Nr;S?(oe&&!w&&b+1<P&&Jt(I[b+1]).type===Nr&&(c(s(S.data.slice(T.children.length)),B,i(S)),S.data=T.children),S=f(S,T,H,A,E,w)):oe&&!T.children?c(T.el=s(""),B):(Ra(B,1)||Ds(),n(null,T,B,null,H,A,Aa(B),E))}return S},O=(S,V,B,H,A,E)=>{const{slotScopeIds:w}=V;w&&(A=A?A.concat(w):w);const I=o(S),P=y(i(S),V,I,B,H,A,E);return P&&Us(P)&&P.data==="]"?i(V.anchor=P):(Ds(),c(V.anchor=h("]"),I,P),P)},N=(S,V,B,H,A,E)=>{if(Ra(S.parentElement,1)||Ds(),V.el=null,E){const P=F(S);for(;;){const b=i(S);if(b&&b!==P)l(b);else break}}const w=i(S),I=o(S);return l(S),n(null,V,I,w,B,H,Aa(I),A),B&&(B.vnode.el=V.el,Kl(B,V.el)),w},F=(S,V="[",B="]")=>{let H=0;for(;S;)if(S=i(S),S&&Us(S)&&(S.data===V&&H++,S.data===B)){if(H===0)return i(S);H--}return S},$=(S,V,B)=>{const H=V.parentNode;H&&H.replaceChild(S,V);let A=B;for(;A;)A.vnode.el===V&&(A.vnode.el=A.subTree.el=S),A=A.parent},L=S=>S.nodeType===1&&S.tagName==="TEMPLATE";return[u,f]}const If="data-allow-mismatch",J0={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Ra(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(If);)t=t.parentElement;const n=t&&t.getAttribute(If);if(n==null)return!1;if(n==="")return!0;{const r=n.split(",");return e===0&&r.includes("children")?!0:r.includes(J0[e])}}const X0=Dl().requestIdleCallback||(t=>setTimeout(t,1)),Z0=Dl().cancelIdleCallback||(t=>clearTimeout(t)),ew=(t=1e4)=>e=>{const n=X0(e,{timeout:t});return()=>Z0(n)};function tw(t){const{top:e,left:n,bottom:r,right:s}=t.getBoundingClientRect(),{innerHeight:i,innerWidth:o}=window;return(e>0&&e<i||r>0&&r<i)&&(n>0&&n<o||s>0&&s<o)}const nw=t=>(e,n)=>{const r=new IntersectionObserver(s=>{for(const i of s)if(i.isIntersecting){r.disconnect(),e();break}},t);return n(s=>{if(s instanceof Element){if(tw(s))return e(),r.disconnect(),!1;r.observe(s)}}),()=>r.disconnect()},rw=t=>e=>{if(t){const n=matchMedia(t);if(n.matches)e();else return n.addEventListener("change",e,{once:!0}),()=>n.removeEventListener("change",e)}},sw=(t=[])=>(e,n)=>{Xe(t)&&(t=[t]);let r=!1;const s=o=>{r||(r=!0,i(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},i=()=>{n(o=>{for(const l of t)o.removeEventListener(l,s)})};return n(o=>{for(const l of t)o.addEventListener(l,s,{once:!0})}),i};function iw(t,e){if(Us(t)&&t.data==="["){let n=1,r=t.nextSibling;for(;r;){if(r.nodeType===1){if(e(r)===!1)break}else if(Us(r))if(r.data==="]"){if(--n===0)break}else r.data==="["&&n++;r=r.nextSibling}}else e(t)}const Vr=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function ow(t){be(t)&&(t={loader:t});const{loader:e,loadingComponent:n,errorComponent:r,delay:s=200,hydrate:i,timeout:o,suspensible:l=!0,onError:c}=t;let h=null,u,f=0;const g=()=>(f++,h=null,y()),y=()=>{let O;return h||(O=h=e().catch(N=>{if(N=N instanceof Error?N:new Error(String(N)),c)return new Promise((F,$)=>{c(N,()=>F(g()),()=>$(N),f+1)});throw N}).then(N=>O!==h&&h?h:(N&&(N.__esModule||N[Symbol.toStringTag]==="Module")&&(N=N.default),u=N,N)))};return Lo({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(O,N,F){let $=!1;(N.bu||(N.bu=[])).push(()=>$=!0);const L=()=>{$||F()},S=i?()=>{const V=i(L,B=>iw(O,B));V&&(N.bum||(N.bum=[])).push(V)}:L;u?S():y().then(()=>!N.isUnmounted&&S())},get __asyncResolved(){return u},setup(){const O=Ct;if(gh(O),u)return()=>Lc(u,O);const N=S=>{h=null,Es(S,O,13,!r)};if(l&&O.suspense||ti)return y().then(S=>()=>Lc(S,O)).catch(S=>(N(S),()=>r?De(r,{error:S}):null));const F=Ws(!1),$=Ws(),L=Ws(!!s);return s&&setTimeout(()=>{L.value=!1},s),o!=null&&setTimeout(()=>{if(!F.value&&!$.value){const S=new Error(`Async component timed out after ${o}ms.`);N(S),$.value=S}},o),y().then(()=>{F.value=!0,O.parent&&Fo(O.parent.vnode)&&O.parent.update()}).catch(S=>{N(S),$.value=S}),()=>{if(F.value&&u)return Lc(u,O);if($.value&&r)return De(r,{error:$.value});if(n&&!L.value)return De(n)}}})}function Lc(t,e){const{ref:n,props:r,children:s,ce:i}=e.vnode,o=De(t,r,s);return o.ref=n,o.ce=i,delete e.vnode.ce,o}const Fo=t=>t.type.__isKeepAlive,aw={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const n=nn(),r=n.ctx;if(!r.renderer)return()=>{const L=e.default&&e.default();return L&&L.length===1?L[0]:L};const s=new Map,i=new Set;let o=null;const l=n.suspense,{renderer:{p:c,m:h,um:u,o:{createElement:f}}}=r,g=f("div");r.activate=(L,S,V,B,H)=>{const A=L.component;h(L,S,V,0,l),c(A.vnode,L,S,V,A,l,B,L.slotScopeIds,H),vt(()=>{A.isDeactivated=!1,A.a&&qs(A.a);const E=L.props&&L.props.onVnodeMounted;E&&Yt(E,A.parent,L)},l)},r.deactivate=L=>{const S=L.component;sl(S.m),sl(S.a),h(L,g,null,1,l),vt(()=>{S.da&&qs(S.da);const V=L.props&&L.props.onVnodeUnmounted;V&&Yt(V,S.parent,L),S.isDeactivated=!0},l)};function y(L){Fc(L),u(L,n,l,!0)}function O(L){s.forEach((S,V)=>{const B=wu(S.type);B&&!L(B)&&N(V)})}function N(L){const S=s.get(L);S&&(!o||!yn(S,o))?y(S):o&&Fc(o),s.delete(L),i.delete(L)}as(()=>[t.include,t.exclude],([L,S])=>{L&&O(V=>ji(L,V)),S&&O(V=>!ji(S,V))},{flush:"post",deep:!0});let F=null;const $=()=>{F!=null&&(il(n.subTree.type)?vt(()=>{s.set(F,Sa(n.subTree))},n.subTree.suspense):s.set(F,Sa(n.subTree)))};return Uo($),$l($),Hl(()=>{s.forEach(L=>{const{subTree:S,suspense:V}=n,B=Sa(S);if(L.type===B.type&&L.key===B.key){Fc(B);const H=B.component.da;H&&vt(H,V);return}y(L)})}),()=>{if(F=null,!e.default)return o=null;const L=e.default(),S=L[0];if(L.length>1)return o=null,L;if(!ir(S)||!(S.shapeFlag&4)&&!(S.shapeFlag&128))return o=null,S;let V=Sa(S);if(V.type===dt)return o=null,V;const B=V.type,H=wu(Vr(V)?V.type.__asyncResolved||{}:B),{include:A,exclude:E,max:w}=t;if(A&&(!H||!ji(A,H))||E&&H&&ji(E,H))return V.shapeFlag&=-257,o=V,S;const I=V.key==null?B:V.key,P=s.get(I);return V.el&&(V=Ln(V),S.shapeFlag&128&&(S.ssContent=V)),F=I,P?(V.el=P.el,V.component=P.component,V.transition&&sr(V,V.transition),V.shapeFlag|=512,i.delete(I),i.add(I)):(i.add(I),w&&i.size>parseInt(w,10)&&N(i.values().next().value)),V.shapeFlag|=256,o=V,il(S.type)?S:V}}},lw=aw;function ji(t,e){return fe(t)?t.some(n=>ji(n,e)):Xe(t)?t.split(",").includes(e):VE(t)?(t.lastIndex=0,t.test(e)):!1}function gg(t,e){yg(t,"a",e)}function _g(t,e){yg(t,"da",e)}function yg(t,e,n=Ct){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(jl(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Fo(s.parent.vnode)&&cw(r,e,n,s),s=s.parent}}function cw(t,e,n,r){const s=jl(e,t,r,!0);ql(()=>{nh(r[e],s)},n)}function Fc(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Sa(t){return t.shapeFlag&128?t.ssContent:t}function jl(t,e,n=Ct,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{tr();const l=ds(n),c=mn(e,n,t,o);return l(),nr(),c});return r?s.unshift(i):s.push(i),i}}const hr=t=>(e,n=Ct)=>{(!ti||t==="sp")&&jl(t,(...r)=>e(...r),n)},vg=hr("bm"),Uo=hr("m"),_h=hr("bu"),$l=hr("u"),Hl=hr("bum"),ql=hr("um"),Eg=hr("sp"),wg=hr("rtg"),Tg=hr("rtc");function bg(t,e=Ct){jl("ec",t,e)}const yh="components",uw="directives";function Br(t,e){return vh(yh,t,!0,e)||t}const Ig=Symbol.for("v-ndc");function hw(t){return Xe(t)?vh(yh,t,!1)||t:t||Ig}function dw(t){return vh(uw,t)}function vh(t,e,n=!0,r=!1){const s=Ot||Ct;if(s){const i=s.type;if(t===yh){const l=wu(i,!1);if(l&&(l===e||l===Dt(e)||l===Vo(Dt(e))))return i}const o=Af(s[t]||i[t],e)||Af(s.appContext[t],e);return!o&&r?i:o}}function Af(t,e){return t&&(t[e]||t[Dt(e)]||t[Vo(Dt(e))])}function ei(t,e,n,r){let s;const i=n&&n[r],o=fe(t);if(o||Xe(t)){const l=o&&Dr(t);let c=!1,h=!1;l&&(c=!ln(t),h=rr(t),t=xl(t)),s=new Array(t.length);for(let u=0,f=t.length;u<f;u++)s[u]=e(c?h?Za(Pt(t[u])):Pt(t[u]):t[u],u,void 0,i&&i[u])}else if(typeof t=="number"){s=new Array(t);for(let l=0;l<t;l++)s[l]=e(l+1,l,void 0,i&&i[l])}else if(Ge(t))if(t[Symbol.iterator])s=Array.from(t,(l,c)=>e(l,c,void 0,i&&i[c]));else{const l=Object.keys(t);s=new Array(l.length);for(let c=0,h=l.length;c<h;c++){const u=l[c];s[c]=e(t[u],u,c,i&&i[c])}}else s=[];return n&&(n[r]=s),s}function fw(t,e){for(let n=0;n<e.length;n++){const r=e[n];if(fe(r))for(let s=0;s<r.length;s++)t[r[s].name]=r[s].fn;else r&&(t[r.name]=r.key?(...s)=>{const i=r.fn(...s);return i&&(i.key=r.key),i}:r.fn)}return t}function pw(t,e,n={},r,s){if(Ot.ce||Ot.parent&&Vr(Ot.parent)&&Ot.parent.ce)return e!=="default"&&(n.name=e),Ee(),ol(it,null,[De("slot",n,r&&r())],64);let i=t[e];i&&i._c&&(i._d=!1),Ee();const o=i&&Eh(i(n)),l=n.key||o&&o.key,c=ol(it,{key:(l&&!wn(l)?l:`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function Eh(t){return t.some(e=>ir(e)?!(e.type===dt||e.type===it&&!Eh(e.children)):!0)?t:null}function mw(t,e){const n={};for(const r in t)n[e&&/[A-Z]/.test(r)?`on:${r}`:Qi(r)]=t[r];return n}const uu=t=>t?t_(t)?jo(t):uu(t.parent):null,Zi=Ye(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>uu(t.parent),$root:t=>uu(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>wh(t),$forceUpdate:t=>t.f||(t.f=()=>{fh(t.update)}),$nextTick:t=>t.n||(t.n=Mo.bind(t.proxy)),$watch:t=>zw.bind(t)}),Uc=(t,e)=>t!==Le&&!t.__isScriptSetup&&qe(t,e),hu={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:l,appContext:c}=t;let h;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Uc(r,e))return o[e]=1,r[e];if(s!==Le&&qe(s,e))return o[e]=2,s[e];if((h=t.propsOptions[0])&&qe(h,e))return o[e]=3,i[e];if(n!==Le&&qe(n,e))return o[e]=4,n[e];du&&(o[e]=0)}}const u=Zi[e];let f,g;if(u)return e==="$attrs"&&jt(t.attrs,"get",""),u(t);if((f=l.__cssModules)&&(f=f[e]))return f;if(n!==Le&&qe(n,e))return o[e]=4,n[e];if(g=c.config.globalProperties,qe(g,e))return g[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Uc(s,e)?(s[e]=n,!0):r!==Le&&qe(r,e)?(r[e]=n,!0):qe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let l;return!!n[o]||t!==Le&&qe(t,o)||Uc(e,o)||(l=i[0])&&qe(l,o)||qe(r,o)||qe(Zi,o)||qe(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:qe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}},gw=Ye({},hu,{get(t,e){if(e!==Symbol.unscopables)return hu.get(t,e,t)},has(t,e){return e[0]!=="_"&&!FE(e)}});function _w(){return null}function yw(){return null}function vw(t){}function Ew(t){}function ww(){return null}function Tw(){}function bw(t,e){return null}function Iw(){return Ag().slots}function Aw(){return Ag().attrs}function Ag(t){const e=nn();return e.setupContext||(e.setupContext=s_(e))}function _o(t){return fe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}function Rw(t,e){const n=_o(t);for(const r in e){if(r.startsWith("__skip"))continue;let s=n[r];s?fe(s)||be(s)?s=n[r]={type:s,default:e[r]}:s.default=e[r]:s===null&&(s=n[r]={default:e[r]}),s&&e[`__skip_${r}`]&&(s.skipFactory=!0)}return n}function Sw(t,e){return!t||!e?t||e:fe(t)&&fe(e)?t.concat(e):Ye({},_o(t),_o(e))}function Pw(t,e){const n={};for(const r in t)e.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>t[r]});return n}function Cw(t){const e=nn();let n=t();return yu(),rh(n)&&(n=n.catch(r=>{throw ds(e),r})),[n,()=>ds(e)]}let du=!0;function kw(t){const e=wh(t),n=t.proxy,r=t.ctx;du=!1,e.beforeCreate&&Rf(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:l,provide:c,inject:h,created:u,beforeMount:f,mounted:g,beforeUpdate:y,updated:O,activated:N,deactivated:F,beforeDestroy:$,beforeUnmount:L,destroyed:S,unmounted:V,render:B,renderTracked:H,renderTriggered:A,errorCaptured:E,serverPrefetch:w,expose:I,inheritAttrs:P,components:b,directives:T,filters:oe}=e;if(h&&Ow(h,r,null),o)for(const ae in o){const Z=o[ae];be(Z)&&(r[ae]=Z.bind(n))}if(s){const ae=s.call(n,n);Ge(ae)&&(t.data=xo(ae))}if(du=!0,i)for(const ae in i){const Z=i[ae],Ie=be(Z)?Z.bind(n,n):be(Z.get)?Z.get.bind(n,n):an,Ze=!be(Z)&&be(Z.set)?Z.set.bind(n):an,st=dn({get:Ie,set:Ze});Object.defineProperty(r,ae,{enumerable:!0,configurable:!0,get:()=>st.value,set:Be=>st.value=Be})}if(l)for(const ae in l)Rg(l[ae],r,n,ae);if(c){const ae=be(c)?c.call(n):c;Reflect.ownKeys(ae).forEach(Z=>{eo(Z,ae[Z])})}u&&Rf(u,t,"c");function Q(ae,Z){fe(Z)?Z.forEach(Ie=>ae(Ie.bind(n))):Z&&ae(Z.bind(n))}if(Q(vg,f),Q(Uo,g),Q(_h,y),Q($l,O),Q(gg,N),Q(_g,F),Q(bg,E),Q(Tg,H),Q(wg,A),Q(Hl,L),Q(ql,V),Q(Eg,w),fe(I))if(I.length){const ae=t.exposed||(t.exposed={});I.forEach(Z=>{Object.defineProperty(ae,Z,{get:()=>n[Z],set:Ie=>n[Z]=Ie,enumerable:!0})})}else t.exposed||(t.exposed={});B&&t.render===an&&(t.render=B),P!=null&&(t.inheritAttrs=P),b&&(t.components=b),T&&(t.directives=T),w&&gh(t)}function Ow(t,e,n=an){fe(t)&&(t=fu(t));for(const r in t){const s=t[r];let i;Ge(s)?"default"in s?i=Dn(s.from||r,s.default,!0):i=Dn(s.from||r):i=Dn(s),Et(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Rf(t,e,n){mn(fe(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Rg(t,e,n,r){let s=r.includes(".")?qg(n,r):()=>n[r];if(Xe(t)){const i=e[t];be(i)&&as(s,i)}else if(be(t))as(s,t.bind(n));else if(Ge(t))if(fe(t))t.forEach(i=>Rg(i,e,n,r));else{const i=be(t.handler)?t.handler.bind(n):e[t.handler];be(i)&&as(s,i,t)}}function wh(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let c;return l?c=l:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(h=>rl(c,h,o,!0)),rl(c,e,o)),Ge(e)&&i.set(e,c),c}function rl(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&rl(t,i,n,!0),s&&s.forEach(o=>rl(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const l=Dw[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const Dw={data:Sf,props:Pf,emits:Pf,methods:$i,computed:$i,beforeCreate:Kt,created:Kt,beforeMount:Kt,mounted:Kt,beforeUpdate:Kt,updated:Kt,beforeDestroy:Kt,beforeUnmount:Kt,destroyed:Kt,unmounted:Kt,activated:Kt,deactivated:Kt,errorCaptured:Kt,serverPrefetch:Kt,components:$i,directives:$i,watch:Nw,provide:Sf,inject:Vw};function Sf(t,e){return e?t?function(){return Ye(be(t)?t.call(this,this):t,be(e)?e.call(this,this):e)}:e:t}function Vw(t,e){return $i(fu(t),fu(e))}function fu(t){if(fe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function Kt(t,e){return t?[...new Set([].concat(t,e))]:e}function $i(t,e){return t?Ye(Object.create(null),t,e):e}function Pf(t,e){return t?fe(t)&&fe(e)?[...new Set([...t,...e])]:Ye(Object.create(null),_o(t),_o(e??{})):e}function Nw(t,e){if(!t)return e;if(!e)return t;const n=Ye(Object.create(null),t);for(const r in e)n[r]=Kt(t[r],e[r]);return n}function Sg(){return{app:null,config:{isNativeTag:OE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let xw=0;function Mw(t,e){return function(r,s=null){be(r)||(r=Ye({},r)),s!=null&&!Ge(s)&&(s=null);const i=Sg(),o=new WeakSet,l=[];let c=!1;const h=i.app={_uid:xw++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:o_,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&be(u.install)?(o.add(u),u.install(h,...f)):be(u)&&(o.add(u),u(h,...f))),h},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),h},component(u,f){return f?(i.components[u]=f,h):i.components[u]},directive(u,f){return f?(i.directives[u]=f,h):i.directives[u]},mount(u,f,g){if(!c){const y=h._ceVNode||De(r,s);return y.appContext=i,g===!0?g="svg":g===!1&&(g=void 0),f&&e?e(y,u):t(y,u,g),c=!0,h._container=u,u.__vue_app__=h,jo(y.component)}},onUnmount(u){l.push(u)},unmount(){c&&(mn(l,h._instance,16),t(null,h._container),delete h._container.__vue_app__)},provide(u,f){return i.provides[u]=f,h},runWithContext(u){const f=os;os=h;try{return u()}finally{os=f}}};return h}}let os=null;function eo(t,e){if(Ct){let n=Ct.provides;const r=Ct.parent&&Ct.parent.provides;r===n&&(n=Ct.provides=Object.create(r)),n[t]=e}}function Dn(t,e,n=!1){const r=nn();if(r||os){let s=os?os._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&be(e)?e.call(r&&r.proxy):e}}function Lw(){return!!(nn()||os)}const Pg={},Cg=()=>Object.create(Pg),kg=t=>Object.getPrototypeOf(t)===Pg;function Fw(t,e,n,r=!1){const s={},i=Cg();t.propsDefaults=Object.create(null),Og(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:ch(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function Uw(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,l=Ue(s),[c]=t.propsOptions;let h=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let g=u[f];if(Wl(t.emitsOptions,g))continue;const y=e[g];if(c)if(qe(i,g))y!==i[g]&&(i[g]=y,h=!0);else{const O=Dt(g);s[O]=pu(c,l,O,y,t,!1)}else y!==i[g]&&(i[g]=y,h=!0)}}}else{Og(t,e,s,i)&&(h=!0);let u;for(const f in l)(!e||!qe(e,f)&&((u=Xt(f))===f||!qe(e,u)))&&(c?n&&(n[f]!==void 0||n[u]!==void 0)&&(s[f]=pu(c,l,f,void 0,t,!0)):delete s[f]);if(i!==l)for(const f in i)(!e||!qe(e,f))&&(delete i[f],h=!0)}h&&Kn(t.attrs,"set","")}function Og(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,l;if(e)for(let c in e){if(Hs(c))continue;const h=e[c];let u;s&&qe(s,u=Dt(c))?!i||!i.includes(u)?n[u]=h:(l||(l={}))[u]=h:Wl(t.emitsOptions,c)||(!(c in r)||h!==r[c])&&(r[c]=h,o=!0)}if(i){const c=Ue(n),h=l||Le;for(let u=0;u<i.length;u++){const f=i[u];n[f]=pu(s,c,f,h[f],t,!qe(h,f))}}return o}function pu(t,e,n,r,s,i){const o=t[n];if(o!=null){const l=qe(o,"default");if(l&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&be(c)){const{propsDefaults:h}=s;if(n in h)r=h[n];else{const u=ds(s);r=h[n]=c.call(null,e),u()}}else r=c;s.ce&&s.ce._setProp(n,r)}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===Xt(n))&&(r=!0))}return r}const Bw=new WeakMap;function Dg(t,e,n=!1){const r=n?Bw:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},l=[];let c=!1;if(!be(t)){const u=f=>{c=!0;const[g,y]=Dg(f,e,!0);Ye(o,g),y&&l.push(...y)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return Ge(t)&&r.set(t,js),js;if(fe(i))for(let u=0;u<i.length;u++){const f=Dt(i[u]);Cf(f)&&(o[f]=Le)}else if(i)for(const u in i){const f=Dt(u);if(Cf(f)){const g=i[u],y=o[f]=fe(g)||be(g)?{type:g}:Ye({},g),O=y.type;let N=!1,F=!0;if(fe(O))for(let $=0;$<O.length;++$){const L=O[$],S=be(L)&&L.name;if(S==="Boolean"){N=!0;break}else S==="String"&&(F=!1)}else N=be(O)&&O.name==="Boolean";y[0]=N,y[1]=F,(N||qe(y,"default"))&&l.push(f)}}const h=[o,l];return Ge(t)&&r.set(t,h),h}function Cf(t){return t[0]!=="$"&&!Hs(t)}const Th=t=>t==="_"||t==="__"||t==="_ctx"||t==="$stable",bh=t=>fe(t)?t.map(Jt):[Jt(t)],jw=(t,e,n)=>{if(e._n)return e;const r=cn((...s)=>bh(e(...s)),n);return r._c=!1,r},Vg=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Th(s))continue;const i=t[s];if(be(i))e[s]=jw(s,i,r);else if(i!=null){const o=bh(i);e[s]=()=>o}}},Ng=(t,e)=>{const n=bh(e);t.slots.default=()=>n},xg=(t,e,n)=>{for(const r in e)(n||!Th(r))&&(t[r]=e[r])},$w=(t,e,n)=>{const r=t.slots=Cg();if(t.vnode.shapeFlag&32){const s=e.__;s&&iu(r,"__",s,!0);const i=e._;i?(xg(r,e,n),n&&iu(r,"_",i,!0)):Vg(e,r)}else e&&Ng(t,e)},Hw=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Le;if(r.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:xg(s,e,n):(i=!e.$stable,Vg(e,s)),o=e}else e&&(Ng(t,e),o={default:1});if(i)for(const l in s)!Th(l)&&o[l]==null&&delete s[l]},vt=Gg;function Mg(t){return Fg(t)}function Lg(t){return Fg(t,Y0)}function Fg(t,e){const n=Dl();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:l,createComment:c,setText:h,setElementText:u,parentNode:f,nextSibling:g,setScopeId:y=an,insertStaticContent:O}=t,N=(R,C,U,q=null,K=null,G=null,se=void 0,te=null,ee=!!C.dynamicChildren)=>{if(R===C)return;R&&!yn(R,C)&&(q=W(R),Be(R,K,G,!0),R=null),C.patchFlag===-2&&(ee=!1,C.dynamicChildren=null);const{type:J,ref:ge,shapeFlag:re}=C;switch(J){case Nr:F(R,C,U,q);break;case dt:$(R,C,U,q);break;case ls:R==null&&L(C,U,q,se);break;case it:b(R,C,U,q,K,G,se,te,ee);break;default:re&1?B(R,C,U,q,K,G,se,te,ee):re&6?T(R,C,U,q,K,G,se,te,ee):(re&64||re&128)&&J.process(R,C,U,q,K,G,se,te,ee,de)}ge!=null&&K?zs(ge,R&&R.ref,G,C||R,!C):ge==null&&R&&R.ref!=null&&zs(R.ref,null,G,R,!0)},F=(R,C,U,q)=>{if(R==null)r(C.el=l(C.children),U,q);else{const K=C.el=R.el;C.children!==R.children&&h(K,C.children)}},$=(R,C,U,q)=>{R==null?r(C.el=c(C.children||""),U,q):C.el=R.el},L=(R,C,U,q)=>{[R.el,R.anchor]=O(R.children,C,U,q,R.el,R.anchor)},S=({el:R,anchor:C},U,q)=>{let K;for(;R&&R!==C;)K=g(R),r(R,U,q),R=K;r(C,U,q)},V=({el:R,anchor:C})=>{let U;for(;R&&R!==C;)U=g(R),s(R),R=U;s(C)},B=(R,C,U,q,K,G,se,te,ee)=>{C.type==="svg"?se="svg":C.type==="math"&&(se="mathml"),R==null?H(C,U,q,K,G,se,te,ee):w(R,C,K,G,se,te,ee)},H=(R,C,U,q,K,G,se,te)=>{let ee,J;const{props:ge,shapeFlag:re,transition:pe,dirs:we}=R;if(ee=R.el=o(R.type,G,ge&&ge.is,ge),re&8?u(ee,R.children):re&16&&E(R.children,ee,null,q,K,Bc(R,G),se,te),we&&kn(R,null,q,"created"),A(ee,R,R.scopeId,se,q),ge){for(const Pe in ge)Pe!=="value"&&!Hs(Pe)&&i(ee,Pe,null,ge[Pe],G,q);"value"in ge&&i(ee,"value",null,ge.value,G),(J=ge.onVnodeBeforeMount)&&Yt(J,q,R)}we&&kn(R,null,q,"beforeMount");const ve=Ug(K,pe);ve&&pe.beforeEnter(ee),r(ee,C,U),((J=ge&&ge.onVnodeMounted)||ve||we)&&vt(()=>{J&&Yt(J,q,R),ve&&pe.enter(ee),we&&kn(R,null,q,"mounted")},K)},A=(R,C,U,q,K)=>{if(U&&y(R,U),q)for(let G=0;G<q.length;G++)y(R,q[G]);if(K){let G=K.subTree;if(C===G||il(G.type)&&(G.ssContent===C||G.ssFallback===C)){const se=K.vnode;A(R,se,se.scopeId,se.slotScopeIds,K.parent)}}},E=(R,C,U,q,K,G,se,te,ee=0)=>{for(let J=ee;J<R.length;J++){const ge=R[J]=te?Ir(R[J]):Jt(R[J]);N(null,ge,C,U,q,K,G,se,te)}},w=(R,C,U,q,K,G,se)=>{const te=C.el=R.el;let{patchFlag:ee,dynamicChildren:J,dirs:ge}=C;ee|=R.patchFlag&16;const re=R.props||Le,pe=C.props||Le;let we;if(U&&ts(U,!1),(we=pe.onVnodeBeforeUpdate)&&Yt(we,U,C,R),ge&&kn(C,R,U,"beforeUpdate"),U&&ts(U,!0),(re.innerHTML&&pe.innerHTML==null||re.textContent&&pe.textContent==null)&&u(te,""),J?I(R.dynamicChildren,J,te,U,q,Bc(C,K),G):se||Z(R,C,te,null,U,q,Bc(C,K),G,!1),ee>0){if(ee&16)P(te,re,pe,U,K);else if(ee&2&&re.class!==pe.class&&i(te,"class",null,pe.class,K),ee&4&&i(te,"style",re.style,pe.style,K),ee&8){const ve=C.dynamicProps;for(let Pe=0;Pe<ve.length;Pe++){const Ne=ve[Pe],at=re[Ne],Ke=pe[Ne];(Ke!==at||Ne==="value")&&i(te,Ne,at,Ke,K,U)}}ee&1&&R.children!==C.children&&u(te,C.children)}else!se&&J==null&&P(te,re,pe,U,K);((we=pe.onVnodeUpdated)||ge)&&vt(()=>{we&&Yt(we,U,C,R),ge&&kn(C,R,U,"updated")},q)},I=(R,C,U,q,K,G,se)=>{for(let te=0;te<C.length;te++){const ee=R[te],J=C[te],ge=ee.el&&(ee.type===it||!yn(ee,J)||ee.shapeFlag&198)?f(ee.el):U;N(ee,J,ge,null,q,K,G,se,!0)}},P=(R,C,U,q,K)=>{if(C!==U){if(C!==Le)for(const G in C)!Hs(G)&&!(G in U)&&i(R,G,C[G],null,K,q);for(const G in U){if(Hs(G))continue;const se=U[G],te=C[G];se!==te&&G!=="value"&&i(R,G,te,se,K,q)}"value"in U&&i(R,"value",C.value,U.value,K)}},b=(R,C,U,q,K,G,se,te,ee)=>{const J=C.el=R?R.el:l(""),ge=C.anchor=R?R.anchor:l("");let{patchFlag:re,dynamicChildren:pe,slotScopeIds:we}=C;we&&(te=te?te.concat(we):we),R==null?(r(J,U,q),r(ge,U,q),E(C.children||[],U,ge,K,G,se,te,ee)):re>0&&re&64&&pe&&R.dynamicChildren?(I(R.dynamicChildren,pe,U,K,G,se,te),(C.key!=null||K&&C===K.subTree)&&Ih(R,C,!0)):Z(R,C,U,ge,K,G,se,te,ee)},T=(R,C,U,q,K,G,se,te,ee)=>{C.slotScopeIds=te,R==null?C.shapeFlag&512?K.ctx.activate(C,U,q,se,ee):oe(C,U,q,K,G,se,ee):ce(R,C,ee)},oe=(R,C,U,q,K,G,se)=>{const te=R.component=e_(R,q,K);if(Fo(R)&&(te.ctx.renderer=de),n_(te,!1,se),te.asyncDep){if(K&&K.registerDep(te,Q,se),!R.el){const ee=te.subTree=De(dt);$(null,ee,C,U),R.placeholder=ee.el}}else Q(te,R,C,U,K,G,se)},ce=(R,C,U)=>{const q=C.component=R.component;if(Zw(R,C,U))if(q.asyncDep&&!q.asyncResolved){ae(q,C,U);return}else q.next=C,q.update();else C.el=R.el,q.vnode=C},Q=(R,C,U,q,K,G,se)=>{const te=()=>{if(R.isMounted){let{next:re,bu:pe,u:we,parent:ve,vnode:Pe}=R;{const ut=Bg(R);if(ut){re&&(re.el=Pe.el,ae(R,re,se)),ut.asyncDep.then(()=>{R.isUnmounted||te()});return}}let Ne=re,at;ts(R,!1),re?(re.el=Pe.el,ae(R,re,se)):re=Pe,pe&&qs(pe),(at=re.props&&re.props.onVnodeBeforeUpdate)&&Yt(at,ve,re,Pe),ts(R,!0);const Ke=Ma(R),It=R.subTree;R.subTree=Ke,N(It,Ke,f(It.el),W(It),R,K,G),re.el=Ke.el,Ne===null&&Kl(R,Ke.el),we&&vt(we,K),(at=re.props&&re.props.onVnodeUpdated)&&vt(()=>Yt(at,ve,re,Pe),K)}else{let re;const{el:pe,props:we}=C,{bm:ve,m:Pe,parent:Ne,root:at,type:Ke}=R,It=Vr(C);if(ts(R,!1),ve&&qs(ve),!It&&(re=we&&we.onVnodeBeforeMount)&&Yt(re,Ne,C),ts(R,!0),pe&&je){const ut=()=>{R.subTree=Ma(R),je(pe,R.subTree,R,K,null)};It&&Ke.__asyncHydrate?Ke.__asyncHydrate(pe,R,ut):ut()}else{at.ce&&at.ce._def.shadowRoot!==!1&&at.ce._injectChildStyle(Ke);const ut=R.subTree=Ma(R);N(null,ut,U,q,R,K,G),C.el=ut.el}if(Pe&&vt(Pe,K),!It&&(re=we&&we.onVnodeMounted)){const ut=C;vt(()=>Yt(re,Ne,ut),K)}(C.shapeFlag&256||Ne&&Vr(Ne.vnode)&&Ne.vnode.shapeFlag&256)&&R.a&&vt(R.a,K),R.isMounted=!0,C=U=q=null}};R.scope.on();const ee=R.effect=new uo(te);R.scope.off();const J=R.update=ee.run.bind(ee),ge=R.job=ee.runIfDirty.bind(ee);ge.i=R,ge.id=R.uid,ee.scheduler=()=>fh(ge),ts(R,!0),J()},ae=(R,C,U)=>{C.component=R;const q=R.vnode.props;R.vnode=C,R.next=null,Uw(R,C.props,q,U),Hw(R,C.children,U),tr(),yf(R),nr()},Z=(R,C,U,q,K,G,se,te,ee=!1)=>{const J=R&&R.children,ge=R?R.shapeFlag:0,re=C.children,{patchFlag:pe,shapeFlag:we}=C;if(pe>0){if(pe&128){Ze(J,re,U,q,K,G,se,te,ee);return}else if(pe&256){Ie(J,re,U,q,K,G,se,te,ee);return}}we&8?(ge&16&&xt(J,K,G),re!==J&&u(U,re)):ge&16?we&16?Ze(J,re,U,q,K,G,se,te,ee):xt(J,K,G,!0):(ge&8&&u(U,""),we&16&&E(re,U,q,K,G,se,te,ee))},Ie=(R,C,U,q,K,G,se,te,ee)=>{R=R||js,C=C||js;const J=R.length,ge=C.length,re=Math.min(J,ge);let pe;for(pe=0;pe<re;pe++){const we=C[pe]=ee?Ir(C[pe]):Jt(C[pe]);N(R[pe],we,U,null,K,G,se,te,ee)}J>ge?xt(R,K,G,!0,!1,re):E(C,U,q,K,G,se,te,ee,re)},Ze=(R,C,U,q,K,G,se,te,ee)=>{let J=0;const ge=C.length;let re=R.length-1,pe=ge-1;for(;J<=re&&J<=pe;){const we=R[J],ve=C[J]=ee?Ir(C[J]):Jt(C[J]);if(yn(we,ve))N(we,ve,U,null,K,G,se,te,ee);else break;J++}for(;J<=re&&J<=pe;){const we=R[re],ve=C[pe]=ee?Ir(C[pe]):Jt(C[pe]);if(yn(we,ve))N(we,ve,U,null,K,G,se,te,ee);else break;re--,pe--}if(J>re){if(J<=pe){const we=pe+1,ve=we<ge?C[we].el:q;for(;J<=pe;)N(null,C[J]=ee?Ir(C[J]):Jt(C[J]),U,ve,K,G,se,te,ee),J++}}else if(J>pe)for(;J<=re;)Be(R[J],K,G,!0),J++;else{const we=J,ve=J,Pe=new Map;for(J=ve;J<=pe;J++){const _t=C[J]=ee?Ir(C[J]):Jt(C[J]);_t.key!=null&&Pe.set(_t.key,J)}let Ne,at=0;const Ke=pe-ve+1;let It=!1,ut=0;const gn=new Array(Ke);for(J=0;J<Ke;J++)gn[J]=0;for(J=we;J<=re;J++){const _t=R[J];if(at>=Ke){Be(_t,K,G,!0);continue}let Qt;if(_t.key!=null)Qt=Pe.get(_t.key);else for(Ne=ve;Ne<=pe;Ne++)if(gn[Ne-ve]===0&&yn(_t,C[Ne])){Qt=Ne;break}Qt===void 0?Be(_t,K,G,!0):(gn[Qt-ve]=J+1,Qt>=ut?ut=Qt:It=!0,N(_t,C[Qt],U,null,K,G,se,te,ee),at++)}const Un=It?qw(gn):js;for(Ne=Un.length-1,J=Ke-1;J>=0;J--){const _t=ve+J,Qt=C[_t],lt=C[_t+1],Rn=_t+1<ge?lt.el||lt.placeholder:q;gn[J]===0?N(null,Qt,U,Rn,K,G,se,te,ee):It&&(Ne<0||J!==Un[Ne]?st(Qt,U,Rn,2):Ne--)}}},st=(R,C,U,q,K=null)=>{const{el:G,type:se,transition:te,children:ee,shapeFlag:J}=R;if(J&6){st(R.component.subTree,C,U,q);return}if(J&128){R.suspense.move(C,U,q);return}if(J&64){se.move(R,C,U,de);return}if(se===it){r(G,C,U);for(let re=0;re<ee.length;re++)st(ee[re],C,U,q);r(R.anchor,C,U);return}if(se===ls){S(R,C,U);return}if(q!==2&&J&1&&te)if(q===0)te.beforeEnter(G),r(G,C,U),vt(()=>te.enter(G),K);else{const{leave:re,delayLeave:pe,afterLeave:we}=te,ve=()=>{R.ctx.isUnmounted?s(G):r(G,C,U)},Pe=()=>{re(G,()=>{ve(),we&&we()})};pe?pe(G,ve,Pe):Pe()}else r(G,C,U)},Be=(R,C,U,q=!1,K=!1)=>{const{type:G,props:se,ref:te,children:ee,dynamicChildren:J,shapeFlag:ge,patchFlag:re,dirs:pe,cacheIndex:we}=R;if(re===-2&&(K=!1),te!=null&&(tr(),zs(te,null,U,R,!0),nr()),we!=null&&(C.renderCache[we]=void 0),ge&256){C.ctx.deactivate(R);return}const ve=ge&1&&pe,Pe=!Vr(R);let Ne;if(Pe&&(Ne=se&&se.onVnodeBeforeUnmount)&&Yt(Ne,C,R),ge&6)rn(R.component,U,q);else{if(ge&128){R.suspense.unmount(U,q);return}ve&&kn(R,null,C,"beforeUnmount"),ge&64?R.type.remove(R,C,U,de,q):J&&!J.hasOnce&&(G!==it||re>0&&re&64)?xt(J,C,U,!1,!0):(G===it&&re&384||!K&&ge&16)&&xt(ee,C,U),q&&et(R)}(Pe&&(Ne=se&&se.onVnodeUnmounted)||ve)&&vt(()=>{Ne&&Yt(Ne,C,R),ve&&kn(R,null,C,"unmounted")},U)},et=R=>{const{type:C,el:U,anchor:q,transition:K}=R;if(C===it){An(U,q);return}if(C===ls){V(R);return}const G=()=>{s(U),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(R.shapeFlag&1&&K&&!K.persisted){const{leave:se,delayLeave:te}=K,ee=()=>se(U,G);te?te(R.el,G,ee):ee()}else G()},An=(R,C)=>{let U;for(;R!==C;)U=g(R),s(R),R=U;s(C)},rn=(R,C,U)=>{const{bum:q,scope:K,job:G,subTree:se,um:te,m:ee,a:J,parent:ge,slots:{__:re}}=R;sl(ee),sl(J),q&&qs(q),ge&&fe(re)&&re.forEach(pe=>{ge.renderCache[pe]=void 0}),K.stop(),G&&(G.flags|=8,Be(se,R,C,U)),te&&vt(te,C),vt(()=>{R.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&R.asyncDep&&!R.asyncResolved&&R.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},xt=(R,C,U,q=!1,K=!1,G=0)=>{for(let se=G;se<R.length;se++)Be(R[se],C,U,q,K)},W=R=>{if(R.shapeFlag&6)return W(R.component.subTree);if(R.shapeFlag&128)return R.suspense.next();const C=g(R.anchor||R.el),U=C&&C[lg];return U?g(U):C};let le=!1;const ie=(R,C,U)=>{R==null?C._vnode&&Be(C._vnode,null,null,!0):N(C._vnode||null,R,C,null,null,null,U),C._vnode=R,le||(le=!0,yf(),nl(),le=!1)},de={p:N,um:Be,m:st,r:et,mt:oe,mc:E,pc:Z,pbc:I,n:W,o:t};let Ve,je;return e&&([Ve,je]=e(de)),{render:ie,hydrate:Ve,createApp:Mw(ie,Ve)}}function Bc({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function ts({effect:t,job:e},n){n?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Ug(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ih(t,e,n=!1){const r=t.children,s=e.children;if(fe(r)&&fe(s))for(let i=0;i<r.length;i++){const o=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=Ir(s[i]),l.el=o.el),!n&&l.patchFlag!==-2&&Ih(o,l)),l.type===Nr&&(l.el=o.el),l.type===dt&&!l.el&&(l.el=o.el)}}function qw(t){const e=t.slice(),n=[0];let r,s,i,o,l;const c=t.length;for(r=0;r<c;r++){const h=t[r];if(h!==0){if(s=n[n.length-1],t[s]<h){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,t[n[l]]<h?i=l+1:o=l;h<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function Bg(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Bg(e)}function sl(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const jg=Symbol.for("v-scx"),$g=()=>Dn(jg);function Ww(t,e){return Bo(t,null,e)}function Kw(t,e){return Bo(t,null,{flush:"post"})}function Hg(t,e){return Bo(t,null,{flush:"sync"})}function as(t,e,n){return Bo(t,e,n)}function Bo(t,e,n=Le){const{immediate:r,deep:s,flush:i,once:o}=n,l=Ye({},n),c=e&&r||!e&&i!=="post";let h;if(ti){if(i==="sync"){const y=$g();h=y.__watcherHandles||(y.__watcherHandles=[])}else if(!c){const y=()=>{};return y.stop=an,y.resume=an,y.pause=an,y}}const u=Ct;l.call=(y,O,N)=>mn(y,u,O,N);let f=!1;i==="post"?l.scheduler=y=>{vt(y,u&&u.suspense)}:i!=="sync"&&(f=!0,l.scheduler=(y,O)=>{O?y():fh(y)}),l.augmentJob=y=>{e&&(y.flags|=4),f&&(y.flags|=2,u&&(y.id=u.uid,y.i=u))};const g=D0(t,e,l);return ti&&(h?h.push(g):c&&g()),g}function zw(t,e,n){const r=this.proxy,s=Xe(t)?t.includes(".")?qg(r,t):()=>r[t]:t.bind(r,r);let i;be(e)?i=e:(i=e.handler,n=e);const o=ds(this),l=Bo(s,i.bind(r),n);return o(),l}function qg(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function Gw(t,e,n=Le){const r=nn(),s=Dt(e),i=Xt(e),o=Wg(t,s),l=eg((c,h)=>{let u,f=Le,g;return Hg(()=>{const y=t[s];zt(u,y)&&(u=y,h())}),{get(){return c(),n.get?n.get(u):u},set(y){const O=n.set?n.set(y):y;if(!zt(O,u)&&!(f!==Le&&zt(y,f)))return;const N=r.vnode.props;N&&(e in N||s in N||i in N)&&(`onUpdate:${e}`in N||`onUpdate:${s}`in N||`onUpdate:${i}`in N)||(u=y,h()),r.emit(`update:${e}`,O),zt(y,O)&&zt(y,f)&&!zt(O,g)&&h(),f=y,g=O}}});return l[Symbol.iterator]=()=>{let c=0;return{next(){return c<2?{value:c++?o||Le:l,done:!1}:{done:!0}}}},l}const Wg=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Dt(e)}Modifiers`]||t[`${Xt(e)}Modifiers`];function Qw(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Le;let s=n;const i=e.startsWith("update:"),o=i&&Wg(r,e.slice(7));o&&(o.trim&&(s=n.map(u=>Xe(u)?u.trim():u)),o.number&&(s=n.map(Ya)));let l,c=r[l=Qi(e)]||r[l=Qi(Dt(e))];!c&&i&&(c=r[l=Qi(Xt(e))]),c&&mn(c,t,6,s);const h=r[l+"Once"];if(h){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,mn(h,t,6,s)}}function Kg(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},l=!1;if(!be(t)){const c=h=>{const u=Kg(h,e,!0);u&&(l=!0,Ye(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!l?(Ge(t)&&r.set(t,null),null):(fe(i)?i.forEach(c=>o[c]=null):Ye(o,i),Ge(t)&&r.set(t,o),o)}function Wl(t,e){return!t||!Do(e)?!1:(e=e.slice(2).replace(/Once$/,""),qe(t,e[0].toLowerCase()+e.slice(1))||qe(t,Xt(e))||qe(t,e))}function Ma(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:l,emit:c,render:h,renderCache:u,props:f,data:g,setupState:y,ctx:O,inheritAttrs:N}=t,F=go(t);let $,L;try{if(n.shapeFlag&4){const V=s||r,B=V;$=Jt(h.call(B,V,u,f,y,g,O)),L=l}else{const V=e;$=Jt(V.length>1?V(f,{attrs:l,slots:o,emit:c}):V(f,null)),L=e.props?l:Jw(l)}}catch(V){to.length=0,Es(V,t,1),$=De(dt)}let S=$;if(L&&N!==!1){const V=Object.keys(L),{shapeFlag:B}=S;V.length&&B&7&&(i&&V.some(th)&&(L=Xw(L,i)),S=Ln(S,L,!1,!0))}return n.dirs&&(S=Ln(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&sr(S,n.transition),$=S,go(F),$}function Yw(t,e=!0){let n;for(let r=0;r<t.length;r++){const s=t[r];if(ir(s)){if(s.type!==dt||s.children==="v-if"){if(n)return;n=s}}else return}return n}const Jw=t=>{let e;for(const n in t)(n==="class"||n==="style"||Do(n))&&((e||(e={}))[n]=t[n]);return e},Xw=(t,e)=>{const n={};for(const r in t)(!th(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function Zw(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:l,patchFlag:c}=e,h=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?kf(r,o,h):!!o;if(c&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const g=u[f];if(o[g]!==r[g]&&!Wl(h,g))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?kf(r,o,h):!0:!!o;return!1}function kf(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!Wl(n,i))return!0}return!1}function Kl({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const il=t=>t.__isSuspense;let mu=0;const eT={name:"Suspense",__isSuspense:!0,process(t,e,n,r,s,i,o,l,c,h){if(t==null)nT(e,n,r,s,i,o,l,c,h);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}rT(t,e,n,r,s,o,l,c,h)}},hydrate:sT,normalize:iT},tT=eT;function yo(t,e){const n=t.props&&t.props[e];be(n)&&n()}function nT(t,e,n,r,s,i,o,l,c){const{p:h,o:{createElement:u}}=c,f=u("div"),g=t.suspense=zg(t,s,r,e,f,n,i,o,l,c);h(null,g.pendingBranch=t.ssContent,f,null,r,g,i,o),g.deps>0?(yo(t,"onPending"),yo(t,"onFallback"),h(null,t.ssFallback,e,n,r,null,i,o),Gs(g,t.ssFallback)):g.resolve(!1,!0)}function rT(t,e,n,r,s,i,o,l,{p:c,um:h,o:{createElement:u}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const g=e.ssContent,y=e.ssFallback,{activeBranch:O,pendingBranch:N,isInFallback:F,isHydrating:$}=f;if(N)f.pendingBranch=g,yn(g,N)?(c(N,g,f.hiddenContainer,null,s,f,i,o,l),f.deps<=0?f.resolve():F&&($||(c(O,y,n,r,s,null,i,o,l),Gs(f,y)))):(f.pendingId=mu++,$?(f.isHydrating=!1,f.activeBranch=N):h(N,s,f),f.deps=0,f.effects.length=0,f.hiddenContainer=u("div"),F?(c(null,g,f.hiddenContainer,null,s,f,i,o,l),f.deps<=0?f.resolve():(c(O,y,n,r,s,null,i,o,l),Gs(f,y))):O&&yn(g,O)?(c(O,g,n,r,s,f,i,o,l),f.resolve(!0)):(c(null,g,f.hiddenContainer,null,s,f,i,o,l),f.deps<=0&&f.resolve()));else if(O&&yn(g,O))c(O,g,n,r,s,f,i,o,l),Gs(f,g);else if(yo(e,"onPending"),f.pendingBranch=g,g.shapeFlag&512?f.pendingId=g.component.suspenseId:f.pendingId=mu++,c(null,g,f.hiddenContainer,null,s,f,i,o,l),f.deps<=0)f.resolve();else{const{timeout:L,pendingId:S}=f;L>0?setTimeout(()=>{f.pendingId===S&&f.fallback(y)},L):L===0&&f.fallback(y)}}function zg(t,e,n,r,s,i,o,l,c,h,u=!1){const{p:f,m:g,um:y,n:O,o:{parentNode:N,remove:F}}=h;let $;const L=oT(t);L&&e&&e.pendingBranch&&($=e.pendingId,e.deps++);const S=t.props?Ja(t.props.timeout):void 0,V=i,B={vnode:t,parent:e,parentComponent:n,namespace:o,container:r,hiddenContainer:s,deps:0,pendingId:mu++,timeout:typeof S=="number"?S:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(H=!1,A=!1){const{vnode:E,activeBranch:w,pendingBranch:I,pendingId:P,effects:b,parentComponent:T,container:oe}=B;let ce=!1;B.isHydrating?B.isHydrating=!1:H||(ce=w&&I.transition&&I.transition.mode==="out-in",ce&&(w.transition.afterLeave=()=>{P===B.pendingId&&(g(I,oe,i===V?O(w):i,0),po(b))}),w&&(N(w.el)===oe&&(i=O(w)),y(w,T,B,!0)),ce||g(I,oe,i,0)),Gs(B,I),B.pendingBranch=null,B.isInFallback=!1;let Q=B.parent,ae=!1;for(;Q;){if(Q.pendingBranch){Q.effects.push(...b),ae=!0;break}Q=Q.parent}!ae&&!ce&&po(b),B.effects=[],L&&e&&e.pendingBranch&&$===e.pendingId&&(e.deps--,e.deps===0&&!A&&e.resolve()),yo(E,"onResolve")},fallback(H){if(!B.pendingBranch)return;const{vnode:A,activeBranch:E,parentComponent:w,container:I,namespace:P}=B;yo(A,"onFallback");const b=O(E),T=()=>{B.isInFallback&&(f(null,H,I,b,w,null,P,l,c),Gs(B,H))},oe=H.transition&&H.transition.mode==="out-in";oe&&(E.transition.afterLeave=T),B.isInFallback=!0,y(E,w,null,!0),oe||T()},move(H,A,E){B.activeBranch&&g(B.activeBranch,H,A,E),B.container=H},next(){return B.activeBranch&&O(B.activeBranch)},registerDep(H,A,E){const w=!!B.pendingBranch;w&&B.deps++;const I=H.vnode.el;H.asyncDep.catch(P=>{Es(P,H,0)}).then(P=>{if(H.isUnmounted||B.isUnmounted||B.pendingId!==H.suspenseId)return;H.asyncResolved=!0;const{vnode:b}=H;vu(H,P,!1),I&&(b.el=I);const T=!I&&H.subTree.el;A(H,b,N(I||H.subTree.el),I?null:O(H.subTree),B,o,E),T&&F(T),Kl(H,b.el),w&&--B.deps===0&&B.resolve()})},unmount(H,A){B.isUnmounted=!0,B.activeBranch&&y(B.activeBranch,n,H,A),B.pendingBranch&&y(B.pendingBranch,n,H,A)}};return B}function sT(t,e,n,r,s,i,o,l,c){const h=e.suspense=zg(e,r,n,t.parentNode,document.createElement("div"),null,s,i,o,l,!0),u=c(t,h.pendingBranch=e.ssContent,n,h,i,o);return h.deps===0&&h.resolve(!1,!0),u}function iT(t){const{shapeFlag:e,children:n}=t,r=e&32;t.ssContent=Of(r?n.default:n),t.ssFallback=r?Of(n.fallback):De(dt)}function Of(t){let e;if(be(t)){const n=hs&&t._c;n&&(t._d=!1,Ee()),t=t(),n&&(t._d=!0,e=Ht,Qg())}return fe(t)&&(t=Yw(t)),t=Jt(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(n=>n!==t)),t}function Gg(t,e){e&&e.pendingBranch?fe(t)?e.effects.push(...t):e.effects.push(t):po(t)}function Gs(t,e){t.activeBranch=e;const{vnode:n,parentComponent:r}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;n.el=s,r&&r.subTree===n&&(r.vnode.el=s,Kl(r,s))}function oT(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const it=Symbol.for("v-fgt"),Nr=Symbol.for("v-txt"),dt=Symbol.for("v-cmt"),ls=Symbol.for("v-stc"),to=[];let Ht=null;function Ee(t=!1){to.push(Ht=t?null:[])}function Qg(){to.pop(),Ht=to[to.length-1]||null}let hs=1;function gu(t,e=!1){hs+=t,t<0&&Ht&&e&&(Ht.hasOnce=!0)}function Yg(t){return t.dynamicChildren=hs>0?Ht||js:null,Qg(),hs>0&&Ht&&Ht.push(t),t}function Ae(t,e,n,r,s,i){return Yg(D(t,e,n,r,s,i,!0))}function ol(t,e,n,r,s){return Yg(De(t,e,n,r,s,!0))}function ir(t){return t?t.__v_isVNode===!0:!1}function yn(t,e){return t.type===e.type&&t.key===e.key}function aT(t){}const Jg=({key:t})=>t??null,La=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Xe(t)||Et(t)||be(t)?{i:Ot,r:t,k:e,f:!!n}:t:null);function D(t,e=null,n=null,r=0,s=null,i=t===it?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Jg(e),ref:e&&La(e),scopeId:Ul,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Ot};return l?(Ah(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=Xe(n)?8:16),hs>0&&!o&&Ht&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Ht.push(c),c}const De=lT;function lT(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Ig)&&(t=dt),ir(t)){const l=Ln(t,e,!0);return n&&Ah(l,n),hs>0&&!i&&Ht&&(l.shapeFlag&6?Ht[Ht.indexOf(t)]=l:Ht.push(l)),l.patchFlag=-2,l}if(gT(t)&&(t=t.__vccOpts),e){e=Xg(e);let{class:l,style:c}=e;l&&!Xe(l)&&(e.class=gi(l)),Ge(c)&&(Fl(c)&&!fe(c)&&(c=Ye({},c)),e.style=No(c))}const o=Xe(t)?1:il(t)?128:cg(t)?64:Ge(t)?4:be(t)?2:0;return D(t,e,n,r,s,o,i,!0)}function Xg(t){return t?Fl(t)||kg(t)?Ye({},t):t:null}function Ln(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:l,transition:c}=t,h=e?Zg(s||{},e):s,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:h,key:h&&Jg(h),ref:e&&e.ref?n&&i?fe(i)?i.concat(La(e)):[i,La(e)]:La(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==it?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ln(t.ssContent),ssFallback:t.ssFallback&&Ln(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&sr(u,c.clone(u)),u}function mt(t=" ",e=0){return De(Nr,null,t,e)}function cT(t,e){const n=De(ls,null,t);return n.staticCount=e,n}function bt(t="",e=!1){return e?(Ee(),ol(dt,null,t)):De(dt,null,t)}function Jt(t){return t==null||typeof t=="boolean"?De(dt):fe(t)?De(it,null,t.slice()):ir(t)?Ir(t):De(Nr,null,String(t))}function Ir(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ln(t)}function Ah(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(fe(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),Ah(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!kg(e)?e._ctx=Ot:s===3&&Ot&&(Ot.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else be(e)?(e={default:e,_ctx:Ot},n=32):(e=String(e),r&64?(n=16,e=[mt(e)]):n=8);t.children=e,t.shapeFlag|=n}function Zg(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=gi([e.class,r.class]));else if(s==="style")e.style=No([e.style,r.style]);else if(Do(s)){const i=e[s],o=r[s];o&&i!==o&&!(fe(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Yt(t,e,n,r=null){mn(t,e,7,[n,r])}const uT=Sg();let hT=0;function e_(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||uT,i={uid:hT++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ih(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Dg(r,s),emitsOptions:Kg(r,s),emit:null,emitted:null,propsDefaults:Le,inheritAttrs:r.inheritAttrs,ctx:Le,data:Le,props:Le,attrs:Le,slots:Le,refs:Le,setupState:Le,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Qw.bind(null,i),t.ce&&t.ce(i),i}let Ct=null;const nn=()=>Ct||Ot;let al,_u;{const t=Dl(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};al=e("__VUE_INSTANCE_SETTERS__",n=>Ct=n),_u=e("__VUE_SSR_SETTERS__",n=>ti=n)}const ds=t=>{const e=Ct;return al(t),t.scope.on(),()=>{t.scope.off(),al(e)}},yu=()=>{Ct&&Ct.scope.off(),al(null)};function t_(t){return t.vnode.shapeFlag&4}let ti=!1;function n_(t,e=!1,n=!1){e&&_u(e);const{props:r,children:s}=t.vnode,i=t_(t);Fw(t,r,i,e),$w(t,s,n||e);const o=i?dT(t,e):void 0;return e&&_u(!1),o}function dT(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,hu);const{setup:r}=n;if(r){tr();const s=t.setupContext=r.length>1?s_(t):null,i=ds(t),o=_i(r,t,0,[t.props,s]),l=rh(o);if(nr(),i(),(l||t.sp)&&!Vr(t)&&gh(t),l){if(o.then(yu,yu),e)return o.then(c=>{vu(t,c,e)}).catch(c=>{Es(c,t,0)});t.asyncDep=o}else vu(t,o,e)}else r_(t,e)}function vu(t,e,n){be(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ge(e)&&(t.setupState=dh(e)),r_(t,n)}let ll,Eu;function fT(t){ll=t,Eu=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,gw))}}const pT=()=>!ll;function r_(t,e,n){const r=t.type;if(!t.render){if(!e&&ll&&!r.render){const s=r.template||wh(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:l,compilerOptions:c}=r,h=Ye(Ye({isCustomElement:i,delimiters:l},o),c);r.render=ll(s,h)}}t.render=r.render||an,Eu&&Eu(t)}{const s=ds(t);tr();try{kw(t)}finally{nr(),s()}}}const mT={get(t,e){return jt(t,"get",""),t[e]}};function s_(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,mT),slots:t.slots,emit:t.emit,expose:e}}function jo(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(dh(Xm(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Zi)return Zi[n](t)},has(e,n){return n in e||n in Zi}})):t.proxy}function wu(t,e=!0){return be(t)?t.displayName||t.name:t.name||e&&t.__name}function gT(t){return be(t)&&"__vccOpts"in t}const dn=(t,e)=>P0(t,e,ti);function zl(t,e,n){const r=arguments.length;return r===2?Ge(e)&&!fe(e)?ir(e)?De(t,null,[e]):De(t,e):De(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ir(n)&&(n=[n]),De(t,e,n))}function _T(){}function yT(t,e,n,r){const s=n[r];if(s&&i_(s,t))return s;const i=e();return i.memo=t.slice(),i.cacheIndex=r,n[r]=i}function i_(t,e){const n=t.memo;if(n.length!=e.length)return!1;for(let r=0;r<n.length;r++)if(zt(n[r],e[r]))return!1;return hs>0&&Ht&&Ht.push(t),!0}const o_="3.5.18",vT=an,ET=L0,wT=Ns,TT=ag,bT={createComponentInstance:e_,setupComponent:n_,renderComponentRoot:Ma,setCurrentRenderingInstance:go,isVNode:ir,normalizeVNode:Jt,getComponentPublicInstance:jo,ensureValidVNode:Eh,pushWarningContext:V0,popWarningContext:N0},IT=bT,AT=null,RT=null,ST=null;/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Tu;const Df=typeof window<"u"&&window.trustedTypes;if(Df)try{Tu=Df.createPolicy("vue",{createHTML:t=>t})}catch{}const a_=Tu?t=>Tu.createHTML(t):t=>t,PT="http://www.w3.org/2000/svg",CT="http://www.w3.org/1998/Math/MathML",Wn=typeof document<"u"?document:null,Vf=Wn&&Wn.createElement("template"),kT={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Wn.createElementNS(PT,t):e==="mathml"?Wn.createElementNS(CT,t):n?Wn.createElement(t,{is:n}):Wn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Wn.createTextNode(t),createComment:t=>Wn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Wn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Vf.innerHTML=a_(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const l=Vf.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},_r="transition",Mi="animation",ni=Symbol("_vtc"),l_={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},c_=Ye({},mh,l_),OT=t=>(t.displayName="Transition",t.props=c_,t),DT=OT((t,{slots:e})=>zl(pg,u_(t),e)),ns=(t,e=[])=>{fe(t)?t.forEach(n=>n(...e)):t&&t(...e)},Nf=t=>t?fe(t)?t.some(e=>e.length>1):t.length>1:!1;function u_(t){const e={};for(const b in t)b in l_||(e[b]=t[b]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:h=o,appearToClass:u=l,leaveFromClass:f=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:y=`${n}-leave-to`}=t,O=VT(s),N=O&&O[0],F=O&&O[1],{onBeforeEnter:$,onEnter:L,onEnterCancelled:S,onLeave:V,onLeaveCancelled:B,onBeforeAppear:H=$,onAppear:A=L,onAppearCancelled:E=S}=e,w=(b,T,oe,ce)=>{b._enterCancelled=ce,Er(b,T?u:l),Er(b,T?h:o),oe&&oe()},I=(b,T)=>{b._isLeaving=!1,Er(b,f),Er(b,y),Er(b,g),T&&T()},P=b=>(T,oe)=>{const ce=b?A:L,Q=()=>w(T,b,oe);ns(ce,[T,Q]),xf(()=>{Er(T,b?c:i),Pn(T,b?u:l),Nf(ce)||Mf(T,r,N,Q)})};return Ye(e,{onBeforeEnter(b){ns($,[b]),Pn(b,i),Pn(b,o)},onBeforeAppear(b){ns(H,[b]),Pn(b,c),Pn(b,h)},onEnter:P(!1),onAppear:P(!0),onLeave(b,T){b._isLeaving=!0;const oe=()=>I(b,T);Pn(b,f),b._enterCancelled?(Pn(b,g),bu()):(bu(),Pn(b,g)),xf(()=>{b._isLeaving&&(Er(b,f),Pn(b,y),Nf(V)||Mf(b,r,F,oe))}),ns(V,[b,oe])},onEnterCancelled(b){w(b,!1,void 0,!0),ns(S,[b])},onAppearCancelled(b){w(b,!0,void 0,!0),ns(E,[b])},onLeaveCancelled(b){I(b),ns(B,[b])}})}function VT(t){if(t==null)return null;if(Ge(t))return[jc(t.enter),jc(t.leave)];{const e=jc(t);return[e,e]}}function jc(t){return Ja(t)}function Pn(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[ni]||(t[ni]=new Set)).add(e)}function Er(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[ni];n&&(n.delete(e),n.size||(t[ni]=void 0))}function xf(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let NT=0;function Mf(t,e,n,r){const s=t._endId=++NT,i=()=>{s===t._endId&&r()};if(n!=null)return setTimeout(i,n);const{type:o,timeout:l,propCount:c}=h_(t,e);if(!o)return r();const h=o+"end";let u=0;const f=()=>{t.removeEventListener(h,g),i()},g=y=>{y.target===t&&++u>=c&&f()};setTimeout(()=>{u<c&&f()},l+1),t.addEventListener(h,g)}function h_(t,e){const n=window.getComputedStyle(t),r=O=>(n[O]||"").split(", "),s=r(`${_r}Delay`),i=r(`${_r}Duration`),o=Lf(s,i),l=r(`${Mi}Delay`),c=r(`${Mi}Duration`),h=Lf(l,c);let u=null,f=0,g=0;e===_r?o>0&&(u=_r,f=o,g=i.length):e===Mi?h>0&&(u=Mi,f=h,g=c.length):(f=Math.max(o,h),u=f>0?o>h?_r:Mi:null,g=u?u===_r?i.length:c.length:0);const y=u===_r&&/\b(transform|all)(,|$)/.test(r(`${_r}Property`).toString());return{type:u,timeout:f,propCount:g,hasTransform:y}}function Lf(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Ff(n)+Ff(t[r])))}function Ff(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function bu(){return document.body.offsetHeight}function xT(t,e,n){const r=t[ni];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const cl=Symbol("_vod"),d_=Symbol("_vsh"),f_={beforeMount(t,{value:e},{transition:n}){t[cl]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Li(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Li(t,!0),r.enter(t)):r.leave(t,()=>{Li(t,!1)}):Li(t,e))},beforeUnmount(t,{value:e}){Li(t,e)}};function Li(t,e){t.style.display=e?t[cl]:"none",t[d_]=!e}function MT(){f_.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const p_=Symbol("");function LT(t){const e=nn();if(!e)return;const n=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>ul(i,s))},r=()=>{const s=t(e.proxy);e.ce?ul(e.ce,s):Iu(e.subTree,s),n(s)};_h(()=>{po(r)}),Uo(()=>{as(r,an,{flush:"post"});const s=new MutationObserver(r);s.observe(e.subTree.el.parentNode,{childList:!0}),ql(()=>s.disconnect())})}function Iu(t,e){if(t.shapeFlag&128){const n=t.suspense;t=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Iu(n.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)ul(t.el,e);else if(t.type===it)t.children.forEach(n=>Iu(n,e));else if(t.type===ls){let{el:n,anchor:r}=t;for(;n&&(ul(n,e),n!==r);)n=n.nextSibling}}function ul(t,e){if(t.nodeType===1){const n=t.style;let r="";for(const s in e){const i=zE(e[s]);n.setProperty(`--${s}`,i),r+=`--${s}: ${i};`}n[p_]=r}}const FT=/(^|;)\s*display\s*:/;function UT(t,e,n){const r=t.style,s=Xe(n);let i=!1;if(n&&!s){if(e)if(Xe(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&Fa(r,l,"")}else for(const o in e)n[o]==null&&Fa(r,o,"");for(const o in n)o==="display"&&(i=!0),Fa(r,o,n[o])}else if(s){if(e!==n){const o=r[p_];o&&(n+=";"+o),r.cssText=n,i=FT.test(n)}}else e&&t.removeAttribute("style");cl in t&&(t[cl]=i?r.display:"",t[d_]&&(r.display="none"))}const Uf=/\s*!important$/;function Fa(t,e,n){if(fe(n))n.forEach(r=>Fa(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=BT(t,e);Uf.test(n)?t.setProperty(Xt(r),n.replace(Uf,""),"important"):t[r]=n}}const Bf=["Webkit","Moz","ms"],$c={};function BT(t,e){const n=$c[e];if(n)return n;let r=Dt(e);if(r!=="filter"&&r in t)return $c[e]=r;r=Vo(r);for(let s=0;s<Bf.length;s++){const i=Bf[s]+r;if(i in t)return $c[e]=i}return e}const jf="http://www.w3.org/1999/xlink";function $f(t,e,n,r,s,i=WE(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(jf,e.slice(6,e.length)):t.setAttributeNS(jf,e,n):n==null||i&&!Vm(n)?t.removeAttribute(e):t.setAttribute(e,i?"":wn(n)?String(n):n)}function Hf(t,e,n,r,s){if(e==="innerHTML"||e==="textContent"){n!=null&&(t[e]=e==="innerHTML"?a_(n):n);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const l=i==="OPTION"?t.getAttribute("value")||"":t.value,c=n==null?t.type==="checkbox"?"on":"":String(n);(l!==c||!("_value"in t))&&(t.value=c),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const l=typeof t[e];l==="boolean"?n=Vm(n):n==null&&l==="string"?(n="",o=!0):l==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(s||e)}function Gn(t,e,n,r){t.addEventListener(e,n,r)}function jT(t,e,n,r){t.removeEventListener(e,n,r)}const qf=Symbol("_vei");function $T(t,e,n,r,s=null){const i=t[qf]||(t[qf]={}),o=i[e];if(r&&o)o.value=r;else{const[l,c]=HT(e);if(r){const h=i[e]=KT(r,s);Gn(t,l,h,c)}else o&&(jT(t,l,o,c),i[e]=void 0)}}const Wf=/(?:Once|Passive|Capture)$/;function HT(t){let e;if(Wf.test(t)){e={};let r;for(;r=t.match(Wf);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Xt(t.slice(2)),e]}let Hc=0;const qT=Promise.resolve(),WT=()=>Hc||(qT.then(()=>Hc=0),Hc=Date.now());function KT(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;mn(zT(r,n.value),e,5,[r])};return n.value=t,n.attached=WT(),n}function zT(t,e){if(fe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Kf=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,GT=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?xT(t,r,o):e==="style"?UT(t,n,r):Do(e)?th(e)||$T(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):QT(t,e,r,o))?(Hf(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&$f(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Xe(r))?Hf(t,Dt(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),$f(t,e,r,o))};function QT(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&Kf(e)&&be(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return Kf(e)&&Xe(n)?!1:e in t}const zf={};/*! #__NO_SIDE_EFFECTS__ */function m_(t,e,n){const r=Lo(t,e);kl(r)&&Ye(r,e);class s extends Gl{constructor(o){super(r,o,n)}}return s.def=r,s}/*! #__NO_SIDE_EFFECTS__ */const YT=(t,e)=>m_(t,e,R_),JT=typeof HTMLElement<"u"?HTMLElement:class{};class Gl extends JT{constructor(e,n={},r=dl){super(),this._def=e,this._props=n,this._createApp=r,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&r!==dl?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this}connectedCallback(){if(!this.isConnected)return;!this.shadowRoot&&!this._resolved&&this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof Gl){this._parent=e;break}this._instance||(this._resolved?this._mount(this._def):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._inheritParentContext(e))}_inheritParentContext(e=this._parent){e&&this._app&&Object.setPrototypeOf(this._app._context.provides,e._instance.provides)}disconnectedCallback(){this._connected=!1,Mo(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);this._ob=new MutationObserver(r=>{for(const s of r)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(r,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:o}=r;let l;if(i&&!fe(i))for(const c in i){const h=i[c];(h===Number||h&&h.type===Number)&&(c in this._props&&(this._props[c]=Ja(this._props[c])),(l||(l=Object.create(null)))[Dt(c)]=!0)}this._numberProps=l,this._resolveProps(r),this.shadowRoot&&this._applyStyles(o),this._mount(r)},n=this._def.__asyncLoader;n?this._pendingResolve=n().then(r=>{r.configureApp=this._def.configureApp,e(this._def=r,!0)}):e(this._def)}_mount(e){this._app=this._createApp(e),this._inheritParentContext(),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const n=this._instance&&this._instance.exposed;if(n)for(const r in n)qe(this,r)||Object.defineProperty(this,r,{get:()=>Xn(n[r])})}_resolveProps(e){const{props:n}=e,r=fe(n)?n:Object.keys(n||{});for(const s of Object.keys(this))s[0]!=="_"&&r.includes(s)&&this._setProp(s,this[s]);for(const s of r.map(Dt))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(i){this._setProp(s,i,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const n=this.hasAttribute(e);let r=n?this.getAttribute(e):zf;const s=Dt(e);n&&this._numberProps&&this._numberProps[s]&&(r=Ja(r)),this._setProp(s,r,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,n,r=!0,s=!1){if(n!==this._props[e]&&(n===zf?delete this._props[e]:(this._props[e]=n,e==="key"&&this._app&&(this._app._ceVNode.key=n)),s&&this._instance&&this._update(),r)){const i=this._ob;i&&i.disconnect(),n===!0?this.setAttribute(Xt(e),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Xt(e),n+""):n||this.removeAttribute(Xt(e)),i&&i.observe(this,{attributes:!0})}}_update(){const e=this._createVNode();this._app&&(e.appContext=this._app._context),A_(e,this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const n=De(this._def,Ye(e,this._props));return this._instance||(n.ce=r=>{this._instance=r,r.ce=this,r.isCE=!0;const s=(i,o)=>{this.dispatchEvent(new CustomEvent(i,kl(o[0])?Ye({detail:o},o[0]):{detail:o}))};r.emit=(i,...o)=>{s(i,o),Xt(i)!==i&&s(Xt(i),o)},this._setParent()}),n}_applyStyles(e,n){if(!e)return;if(n){if(n===this._def||this._styleChildren.has(n))return;this._styleChildren.add(n)}const r=this._nonce;for(let s=e.length-1;s>=0;s--){const i=document.createElement("style");r&&i.setAttribute("nonce",r),i.textContent=e[s],this.shadowRoot.prepend(i)}}_parseSlots(){const e=this._slots={};let n;for(;n=this.firstChild;){const r=n.nodeType===1&&n.getAttribute("slot")||"default";(e[r]||(e[r]=[])).push(n),this.removeChild(n)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),n=this._instance.type.__scopeId;for(let r=0;r<e.length;r++){const s=e[r],i=s.getAttribute("name")||"default",o=this._slots[i],l=s.parentNode;if(o)for(const c of o){if(n&&c.nodeType===1){const h=n+"-s",u=document.createTreeWalker(c,1);c.setAttribute(h,"");let f;for(;f=u.nextNode();)f.setAttribute(h,"")}l.insertBefore(c,s)}else for(;s.firstChild;)l.insertBefore(s.firstChild,s);l.removeChild(s)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function g_(t){const e=nn(),n=e&&e.ce;return n||null}function XT(){const t=g_();return t&&t.shadowRoot}function ZT(t="$style"){{const e=nn();if(!e)return Le;const n=e.type.__cssModules;if(!n)return Le;const r=n[t];return r||Le}}const __=new WeakMap,y_=new WeakMap,hl=Symbol("_moveCb"),Gf=Symbol("_enterCb"),eb=t=>(delete t.props.mode,t),tb=eb({name:"TransitionGroup",props:Ye({},c_,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=nn(),r=ph();let s,i;return $l(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!ob(s[0].el,n.vnode.el,o)){s=[];return}s.forEach(rb),s.forEach(sb);const l=s.filter(ib);bu(),l.forEach(c=>{const h=c.el,u=h.style;Pn(h,o),u.transform=u.webkitTransform=u.transitionDuration="";const f=h[hl]=g=>{g&&g.target!==h||(!g||/transform$/.test(g.propertyName))&&(h.removeEventListener("transitionend",f),h[hl]=null,Er(h,o))};h.addEventListener("transitionend",f)}),s=[]}),()=>{const o=Ue(t),l=u_(o);let c=o.tag||it;if(s=[],i)for(let h=0;h<i.length;h++){const u=i[h];u.el&&u.el instanceof Element&&(s.push(u),sr(u,Zs(u,l,r,n)),__.set(u,u.el.getBoundingClientRect()))}i=e.default?Bl(e.default()):[];for(let h=0;h<i.length;h++){const u=i[h];u.key!=null&&sr(u,Zs(u,l,r,n))}return De(c,null,i)}}}),nb=tb;function rb(t){const e=t.el;e[hl]&&e[hl](),e[Gf]&&e[Gf]()}function sb(t){y_.set(t,t.el.getBoundingClientRect())}function ib(t){const e=__.get(t),n=y_.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",t}}function ob(t,e,n){const r=t.cloneNode(),s=t[ni];s&&s.forEach(l=>{l.split(/\s+/).forEach(c=>c&&r.classList.remove(c))}),n.split(/\s+/).forEach(l=>l&&r.classList.add(l)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=h_(r);return i.removeChild(r),o}const jr=t=>{const e=t.props["onUpdate:modelValue"]||!1;return fe(e)?n=>qs(e,n):e};function ab(t){t.target.composing=!0}function Qf(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const fn=Symbol("_assign"),Zt={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[fn]=jr(s);const i=r||s.props&&s.props.type==="number";Gn(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),i&&(l=Ya(l)),t[fn](l)}),n&&Gn(t,"change",()=>{t.value=t.value.trim()}),e||(Gn(t,"compositionstart",ab),Gn(t,"compositionend",Qf),Gn(t,"change",Qf))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[fn]=jr(o),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?Ya(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===c)||(t.value=c))}},Rh={deep:!0,created(t,e,n){t[fn]=jr(n),Gn(t,"change",()=>{const r=t._modelValue,s=ri(t),i=t.checked,o=t[fn];if(fe(r)){const l=Vl(r,s),c=l!==-1;if(i&&!c)o(r.concat(s));else if(!i&&c){const h=[...r];h.splice(l,1),o(h)}}else if(vs(r)){const l=new Set(r);i?l.add(s):l.delete(s),o(l)}else o(v_(t,i))})},mounted:Yf,beforeUpdate(t,e,n){t[fn]=jr(n),Yf(t,e,n)}};function Yf(t,{value:e,oldValue:n},r){t._modelValue=e;let s;if(fe(e))s=Vl(e,r.props.value)>-1;else if(vs(e))s=e.has(r.props.value);else{if(e===n)return;s=Ur(e,v_(t,!0))}t.checked!==s&&(t.checked=s)}const Sh={created(t,{value:e},n){t.checked=Ur(e,n.props.value),t[fn]=jr(n),Gn(t,"change",()=>{t[fn](ri(t))})},beforeUpdate(t,{value:e,oldValue:n},r){t[fn]=jr(r),e!==n&&(t.checked=Ur(e,r.props.value))}},Ph={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=vs(e);Gn(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?Ya(ri(o)):ri(o));t[fn](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,Mo(()=>{t._assigning=!1})}),t[fn]=jr(r)},mounted(t,{value:e}){Jf(t,e)},beforeUpdate(t,e,n){t[fn]=jr(n)},updated(t,{value:e}){t._assigning||Jf(t,e)}};function Jf(t,e){const n=t.multiple,r=fe(e);if(!(n&&!r&&!vs(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],l=ri(o);if(n)if(r){const c=typeof l;c==="string"||c==="number"?o.selected=e.some(h=>String(h)===String(l)):o.selected=Vl(e,l)>-1}else o.selected=e.has(l);else if(Ur(ri(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ri(t){return"_value"in t?t._value:t.value}function v_(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const E_={created(t,e,n){Pa(t,e,n,null,"created")},mounted(t,e,n){Pa(t,e,n,null,"mounted")},beforeUpdate(t,e,n,r){Pa(t,e,n,r,"beforeUpdate")},updated(t,e,n,r){Pa(t,e,n,r,"updated")}};function w_(t,e){switch(t){case"SELECT":return Ph;case"TEXTAREA":return Zt;default:switch(e){case"checkbox":return Rh;case"radio":return Sh;default:return Zt}}}function Pa(t,e,n,r,s){const o=w_(t.tagName,n.props&&n.props.type)[s];o&&o(t,e,n,r)}function lb(){Zt.getSSRProps=({value:t})=>({value:t}),Sh.getSSRProps=({value:t},e)=>{if(e.props&&Ur(e.props.value,t))return{checked:!0}},Rh.getSSRProps=({value:t},e)=>{if(fe(t)){if(e.props&&Vl(t,e.props.value)>-1)return{checked:!0}}else if(vs(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},E_.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const n=w_(e.type.toUpperCase(),e.props&&e.props.type);if(n.getSSRProps)return n.getSSRProps(t,e)}}const cb=["ctrl","shift","alt","meta"],ub={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>cb.some(n=>t[`${n}Key`]&&!e.includes(n))},kr=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const l=ub[e[o]];if(l&&l(s,e))return}return t(s,...i)})},hb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},db=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Xt(s.key);if(e.some(o=>o===i||hb[o]===i))return t(s)})},T_=Ye({patchProp:GT},kT);let no,Xf=!1;function b_(){return no||(no=Mg(T_))}function I_(){return no=Xf?no:Lg(T_),Xf=!0,no}const A_=(...t)=>{b_().render(...t)},fb=(...t)=>{I_().hydrate(...t)},dl=(...t)=>{const e=b_().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=P_(r);if(!s)return;const i=e._component;!be(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=n(s,!1,S_(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},R_=(...t)=>{const e=I_().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=P_(r);if(s)return n(s,!0,S_(s))},e};function S_(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function P_(t){return Xe(t)?document.querySelector(t):t}let Zf=!1;const pb=()=>{Zf||(Zf=!0,lb(),MT())};/**
* vue v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const mb=()=>{},gb=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:pg,BaseTransitionPropsValidators:mh,Comment:dt,DeprecationTypes:ST,EffectScope:ih,ErrorCodes:M0,ErrorTypeStrings:ET,Fragment:it,KeepAlive:lw,ReactiveEffect:uo,Static:ls,Suspense:tT,Teleport:q0,Text:Nr,TrackOpTypes:C0,Transition:DT,TransitionGroup:nb,TriggerOpTypes:k0,VueElement:Gl,assertNumber:x0,callWithAsyncErrorHandling:mn,callWithErrorHandling:_i,camelize:Dt,capitalize:Vo,cloneVNode:Ln,compatUtils:RT,compile:mb,computed:dn,createApp:dl,createBlock:ol,createCommentVNode:bt,createElementBlock:Ae,createElementVNode:D,createHydrationRenderer:Lg,createPropsRestProxy:Pw,createRenderer:Mg,createSSRApp:R_,createSlots:fw,createStaticVNode:cT,createTextVNode:mt,createVNode:De,customRef:eg,defineAsyncComponent:ow,defineComponent:Lo,defineCustomElement:m_,defineEmits:yw,defineExpose:vw,defineModel:Tw,defineOptions:Ew,defineProps:_w,defineSSRCustomElement:YT,defineSlots:ww,devtools:wT,effect:JE,effectScope:GE,getCurrentInstance:nn,getCurrentScope:Mm,getCurrentWatcher:O0,getTransitionRawChildren:Bl,guardReactiveProps:Xg,h:zl,handleError:Es,hasInjectionContext:Lw,hydrate:fb,hydrateOnIdle:ew,hydrateOnInteraction:sw,hydrateOnMediaQuery:rw,hydrateOnVisible:nw,initCustomFormatter:_T,initDirectivesForSSR:pb,inject:Dn,isMemoSame:i_,isProxy:Fl,isReactive:Dr,isReadonly:rr,isRef:Et,isRuntimeOnly:pT,isShallow:ln,isVNode:ir,markRaw:Xm,mergeDefaults:Rw,mergeModels:Sw,mergeProps:Zg,nextTick:Mo,normalizeClass:gi,normalizeProps:HE,normalizeStyle:No,onActivated:gg,onBeforeMount:vg,onBeforeUnmount:Hl,onBeforeUpdate:_h,onDeactivated:_g,onErrorCaptured:bg,onMounted:Uo,onRenderTracked:Tg,onRenderTriggered:wg,onScopeDispose:QE,onServerPrefetch:Eg,onUnmounted:ql,onUpdated:$l,onWatcherCleanup:ng,openBlock:Ee,popScopeId:j0,provide:eo,proxyRefs:dh,pushScopeId:B0,queuePostFlushCb:po,reactive:xo,readonly:uh,ref:Ws,registerRuntimeCompiler:fT,render:A_,renderList:ei,renderSlot:pw,resolveComponent:Br,resolveDirective:dw,resolveDynamicComponent:hw,resolveFilter:AT,resolveTransitionHooks:Zs,setBlockTracking:gu,setDevtoolsHook:TT,setTransitionHooks:sr,shallowReactive:ch,shallowReadonly:_0,shallowRef:hh,ssrContextKey:jg,ssrUtils:IT,stop:XE,toDisplayString:Te,toHandlerKey:Qi,toHandlers:mw,toRaw:Ue,toRef:R0,toRefs:b0,toValue:E0,transformVNodeArgs:aT,triggerRef:v0,unref:Xn,useAttrs:Aw,useCssModule:ZT,useCssVars:LT,useHost:g_,useId:K0,useModel:Gw,useSSRContext:$g,useShadowRoot:XT,useSlots:Iw,useTemplateRef:z0,useTransitionState:ph,vModelCheckbox:Rh,vModelDynamic:E_,vModelRadio:Sh,vModelSelect:Ph,vModelText:Zt,vShow:f_,version:o_,warn:vT,watch:as,watchEffect:Ww,watchPostEffect:Kw,watchSyncEffect:Hg,withAsyncContext:Cw,withCtx:cn,withDefaults:bw,withDirectives:hn,withKeys:db,withMemo:yT,withModifiers:kr,withScopeId:$0},Symbol.toStringTag,{value:"Module"}));/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const xs=typeof document<"u";function C_(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function _b(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&C_(t.default)}const We=Object.assign;function qc(t,e){const n={};for(const r in e){const s=e[r];n[r]=Tn(s)?s.map(t):t(s)}return n}const ro=()=>{},Tn=Array.isArray,k_=/#/g,yb=/&/g,vb=/\//g,Eb=/=/g,wb=/\?/g,O_=/\+/g,Tb=/%5B/g,bb=/%5D/g,D_=/%5E/g,Ib=/%60/g,V_=/%7B/g,Ab=/%7C/g,N_=/%7D/g,Rb=/%20/g;function Ch(t){return encodeURI(""+t).replace(Ab,"|").replace(Tb,"[").replace(bb,"]")}function Sb(t){return Ch(t).replace(V_,"{").replace(N_,"}").replace(D_,"^")}function Au(t){return Ch(t).replace(O_,"%2B").replace(Rb,"+").replace(k_,"%23").replace(yb,"%26").replace(Ib,"`").replace(V_,"{").replace(N_,"}").replace(D_,"^")}function Pb(t){return Au(t).replace(Eb,"%3D")}function Cb(t){return Ch(t).replace(k_,"%23").replace(wb,"%3F")}function kb(t){return t==null?"":Cb(t).replace(vb,"%2F")}function vo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Ob=/\/$/,Db=t=>t.replace(Ob,"");function Wc(t,e,n="/"){let r,s={},i="",o="";const l=e.indexOf("#");let c=e.indexOf("?");return l<c&&l>=0&&(c=-1),c>-1&&(r=e.slice(0,c),i=e.slice(c+1,l>-1?l:e.length),s=t(i)),l>-1&&(r=r||e.slice(0,l),o=e.slice(l,e.length)),r=Mb(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:vo(o)}}function Vb(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ep(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function Nb(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&si(e.matched[r],n.matched[s])&&x_(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function si(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function x_(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!xb(t[n],e[n]))return!1;return!0}function xb(t,e){return Tn(t)?tp(t,e):Tn(e)?tp(e,t):t===e}function tp(t,e){return Tn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function Mb(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,l;for(o=0;o<r.length;o++)if(l=r[o],l!==".")if(l==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const yr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Eo;(function(t){t.pop="pop",t.push="push"})(Eo||(Eo={}));var so;(function(t){t.back="back",t.forward="forward",t.unknown=""})(so||(so={}));function Lb(t){if(!t)if(xs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Db(t)}const Fb=/^[^#]+#/;function Ub(t,e){return t.replace(Fb,"#")+e}function Bb(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Ql=()=>({left:window.scrollX,top:window.scrollY});function jb(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=Bb(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function np(t,e){return(history.state?history.state.position-e:-1)+t}const Ru=new Map;function $b(t,e){Ru.set(t,e)}function Hb(t){const e=Ru.get(t);return Ru.delete(t),e}let qb=()=>location.protocol+"//"+location.host;function M_(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let l=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(l);return c[0]!=="/"&&(c="/"+c),ep(c,"")}return ep(n,t)+r+s}function Wb(t,e,n,r){let s=[],i=[],o=null;const l=({state:g})=>{const y=M_(t,location),O=n.value,N=e.value;let F=0;if(g){if(n.value=y,e.value=g,o&&o===O){o=null;return}F=N?g.position-N.position:0}else r(y);s.forEach($=>{$(n.value,O,{delta:F,type:Eo.pop,direction:F?F>0?so.forward:so.back:so.unknown})})};function c(){o=n.value}function h(g){s.push(g);const y=()=>{const O=s.indexOf(g);O>-1&&s.splice(O,1)};return i.push(y),y}function u(){const{history:g}=window;g.state&&g.replaceState(We({},g.state,{scroll:Ql()}),"")}function f(){for(const g of i)g();i=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:h,destroy:f}}function rp(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Ql():null}}function Kb(t){const{history:e,location:n}=window,r={value:M_(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,h,u){const f=t.indexOf("#"),g=f>-1?(n.host&&document.querySelector("base")?t:t.slice(f))+c:qb()+t+c;try{e[u?"replaceState":"pushState"](h,"",g),s.value=h}catch(y){console.error(y),n[u?"replace":"assign"](g)}}function o(c,h){const u=We({},e.state,rp(s.value.back,c,s.value.forward,!0),h,{position:s.value.position});i(c,u,!0),r.value=c}function l(c,h){const u=We({},s.value,e.state,{forward:c,scroll:Ql()});i(u.current,u,!0);const f=We({},rp(r.value,c,null),{position:u.position+1},h);i(c,f,!1),r.value=c}return{location:r,state:s,push:l,replace:o}}function zb(t){t=Lb(t);const e=Kb(t),n=Wb(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=We({location:"",base:t,go:r,createHref:Ub.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function Gb(t){return typeof t=="string"||t&&typeof t=="object"}function L_(t){return typeof t=="string"||typeof t=="symbol"}const F_=Symbol("");var sp;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(sp||(sp={}));function ii(t,e){return We(new Error,{type:t,[F_]:!0},e)}function qn(t,e){return t instanceof Error&&F_ in t&&(e==null||!!(t.type&e))}const ip="[^/]+?",Qb={sensitive:!1,strict:!1,start:!0,end:!0},Yb=/[.+*?^${}()[\]/\\]/g;function Jb(t,e){const n=We({},Qb,e),r=[];let s=n.start?"^":"";const i=[];for(const h of t){const u=h.length?[]:[90];n.strict&&!h.length&&(s+="/");for(let f=0;f<h.length;f++){const g=h[f];let y=40+(n.sensitive?.25:0);if(g.type===0)f||(s+="/"),s+=g.value.replace(Yb,"\\$&"),y+=40;else if(g.type===1){const{value:O,repeatable:N,optional:F,regexp:$}=g;i.push({name:O,repeatable:N,optional:F});const L=$||ip;if(L!==ip){y+=10;try{new RegExp(`(${L})`)}catch(V){throw new Error(`Invalid custom RegExp for param "${O}" (${L}): `+V.message)}}let S=N?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;f||(S=F&&h.length<2?`(?:/${S})`:"/"+S),F&&(S+="?"),s+=S,y+=20,F&&(y+=-8),N&&(y+=-20),L===".*"&&(y+=-50)}u.push(y)}r.push(u)}if(n.strict&&n.end){const h=r.length-1;r[h][r[h].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function l(h){const u=h.match(o),f={};if(!u)return null;for(let g=1;g<u.length;g++){const y=u[g]||"",O=i[g-1];f[O.name]=y&&O.repeatable?y.split("/"):y}return f}function c(h){let u="",f=!1;for(const g of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const y of g)if(y.type===0)u+=y.value;else if(y.type===1){const{value:O,repeatable:N,optional:F}=y,$=O in h?h[O]:"";if(Tn($)&&!N)throw new Error(`Provided param "${O}" is an array but it is not repeatable (* or + modifiers)`);const L=Tn($)?$.join("/"):$;if(!L)if(F)g.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${O}"`);u+=L}}return u||"/"}return{re:o,score:r,keys:i,parse:l,stringify:c}}function Xb(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function U_(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=Xb(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(op(r))return 1;if(op(s))return-1}return s.length-r.length}function op(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Zb={type:0,value:""},eI=/[a-zA-Z0-9_]/;function tI(t){if(!t)return[[]];if(t==="/")return[[Zb]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${n})/"${h}": ${y}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let l=0,c,h="",u="";function f(){h&&(n===0?i.push({type:0,value:h}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${h}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:h,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),h="")}function g(){h+=c}for(;l<t.length;){if(c=t[l++],c==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:c==="/"?(h&&f(),o()):c===":"?(f(),n=1):g();break;case 4:g(),n=r;break;case 1:c==="("?n=2:eI.test(c)?g():(f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:f(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&l--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${h}"`),f(),o(),s}function nI(t,e,n){const r=Jb(tI(t.path),n),s=We(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function rI(t,e){const n=[],r=new Map;e=up({strict:!1,end:!0,sensitive:!1},e);function s(f){return r.get(f)}function i(f,g,y){const O=!y,N=lp(f);N.aliasOf=y&&y.record;const F=up(e,f),$=[N];if("alias"in f){const V=typeof f.alias=="string"?[f.alias]:f.alias;for(const B of V)$.push(lp(We({},N,{components:y?y.record.components:N.components,path:B,aliasOf:y?y.record:N})))}let L,S;for(const V of $){const{path:B}=V;if(g&&B[0]!=="/"){const H=g.record.path,A=H[H.length-1]==="/"?"":"/";V.path=g.record.path+(B&&A+B)}if(L=nI(V,g,F),y?y.alias.push(L):(S=S||L,S!==L&&S.alias.push(L),O&&f.name&&!cp(L)&&o(f.name)),B_(L)&&c(L),N.children){const H=N.children;for(let A=0;A<H.length;A++)i(H[A],L,y&&y.children[A])}y=y||L}return S?()=>{o(S)}:ro}function o(f){if(L_(f)){const g=r.get(f);g&&(r.delete(f),n.splice(n.indexOf(g),1),g.children.forEach(o),g.alias.forEach(o))}else{const g=n.indexOf(f);g>-1&&(n.splice(g,1),f.record.name&&r.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function l(){return n}function c(f){const g=oI(f,n);n.splice(g,0,f),f.record.name&&!cp(f)&&r.set(f.record.name,f)}function h(f,g){let y,O={},N,F;if("name"in f&&f.name){if(y=r.get(f.name),!y)throw ii(1,{location:f});F=y.record.name,O=We(ap(g.params,y.keys.filter(S=>!S.optional).concat(y.parent?y.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),f.params&&ap(f.params,y.keys.map(S=>S.name))),N=y.stringify(O)}else if(f.path!=null)N=f.path,y=n.find(S=>S.re.test(N)),y&&(O=y.parse(N),F=y.record.name);else{if(y=g.name?r.get(g.name):n.find(S=>S.re.test(g.path)),!y)throw ii(1,{location:f,currentLocation:g});F=y.record.name,O=We({},g.params,f.params),N=y.stringify(O)}const $=[];let L=y;for(;L;)$.unshift(L.record),L=L.parent;return{name:F,path:N,params:O,matched:$,meta:iI($)}}t.forEach(f=>i(f));function u(){n.length=0,r.clear()}return{addRoute:i,resolve:h,removeRoute:o,clearRoutes:u,getRoutes:l,getRecordMatcher:s}}function ap(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function lp(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:sI(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function sI(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="object"?n[r]:n;return e}function cp(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function iI(t){return t.reduce((e,n)=>We(e,n.meta),{})}function up(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function oI(t,e){let n=0,r=e.length;for(;n!==r;){const i=n+r>>1;U_(t,e[i])<0?r=i:n=i+1}const s=aI(t);return s&&(r=e.lastIndexOf(s,r-1)),r}function aI(t){let e=t;for(;e=e.parent;)if(B_(e)&&U_(t,e)===0)return e}function B_({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function lI(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(O_," "),o=i.indexOf("="),l=vo(o<0?i:i.slice(0,o)),c=o<0?null:vo(i.slice(o+1));if(l in e){let h=e[l];Tn(h)||(h=e[l]=[h]),h.push(c)}else e[l]=c}return e}function hp(t){let e="";for(let n in t){const r=t[n];if(n=Pb(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(Tn(r)?r.map(i=>i&&Au(i)):[r&&Au(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function cI(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=Tn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const uI=Symbol(""),dp=Symbol(""),kh=Symbol(""),j_=Symbol(""),Su=Symbol("");function Fi(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t.slice(),reset:n}}function Ar(t,e,n,r,s,i=o=>o()){const o=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((l,c)=>{const h=g=>{g===!1?c(ii(4,{from:n,to:e})):g instanceof Error?c(g):Gb(g)?c(ii(2,{from:e,to:g})):(o&&r.enterCallbacks[s]===o&&typeof g=="function"&&o.push(g),l())},u=i(()=>t.call(r&&r.instances[s],e,n,h));let f=Promise.resolve(u);t.length<3&&(f=f.then(h)),f.catch(g=>c(g))})}function Kc(t,e,n,r,s=i=>i()){const i=[];for(const o of t)for(const l in o.components){let c=o.components[l];if(!(e!=="beforeRouteEnter"&&!o.instances[l]))if(C_(c)){const u=(c.__vccOpts||c)[e];u&&i.push(Ar(u,n,r,o,l,s))}else{let h=c();i.push(()=>h.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${l}" at "${o.path}"`);const f=_b(u)?u.default:u;o.mods[l]=u,o.components[l]=f;const y=(f.__vccOpts||f)[e];return y&&Ar(y,n,r,o,l,s)()}))}}return i}function fp(t){const e=Dn(kh),n=Dn(j_),r=dn(()=>{const c=Xn(t.to);return e.resolve(c)}),s=dn(()=>{const{matched:c}=r.value,{length:h}=c,u=c[h-1],f=n.matched;if(!u||!f.length)return-1;const g=f.findIndex(si.bind(null,u));if(g>-1)return g;const y=pp(c[h-2]);return h>1&&pp(u)===y&&f[f.length-1].path!==y?f.findIndex(si.bind(null,c[h-2])):g}),i=dn(()=>s.value>-1&&mI(n.params,r.value.params)),o=dn(()=>s.value>-1&&s.value===n.matched.length-1&&x_(n.params,r.value.params));function l(c={}){if(pI(c)){const h=e[Xn(t.replace)?"replace":"push"](Xn(t.to)).catch(ro);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>h),h}return Promise.resolve()}return{route:r,href:dn(()=>r.value.href),isActive:i,isExactActive:o,navigate:l}}function hI(t){return t.length===1?t[0]:t}const dI=Lo({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:fp,setup(t,{slots:e}){const n=xo(fp(t)),{options:r}=Dn(kh),s=dn(()=>({[mp(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[mp(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&hI(e.default(n));return t.custom?i:zl("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),fI=dI;function pI(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function mI(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!Tn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function pp(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const mp=(t,e,n)=>t??e??n,gI=Lo({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=Dn(Su),s=dn(()=>t.route||r.value),i=Dn(dp,0),o=dn(()=>{let h=Xn(i);const{matched:u}=s.value;let f;for(;(f=u[h])&&!f.components;)h++;return h}),l=dn(()=>s.value.matched[o.value]);eo(dp,dn(()=>o.value+1)),eo(uI,l),eo(Su,s);const c=Ws();return as(()=>[c.value,l.value,t.name],([h,u,f],[g,y,O])=>{u&&(u.instances[f]=h,y&&y!==u&&h&&h===g&&(u.leaveGuards.size||(u.leaveGuards=y.leaveGuards),u.updateGuards.size||(u.updateGuards=y.updateGuards))),h&&u&&(!y||!si(u,y)||!g)&&(u.enterCallbacks[f]||[]).forEach(N=>N(h))},{flush:"post"}),()=>{const h=s.value,u=t.name,f=l.value,g=f&&f.components[u];if(!g)return gp(n.default,{Component:g,route:h});const y=f.props[u],O=y?y===!0?h.params:typeof y=="function"?y(h):y:null,F=zl(g,We({},O,e,{onVnodeUnmounted:$=>{$.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return gp(n.default,{Component:F,route:h})||F}}});function gp(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const _I=gI;function yI(t){const e=rI(t.routes,t),n=t.parseQuery||lI,r=t.stringifyQuery||hp,s=t.history,i=Fi(),o=Fi(),l=Fi(),c=hh(yr);let h=yr;xs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=qc.bind(null,W=>""+W),f=qc.bind(null,kb),g=qc.bind(null,vo);function y(W,le){let ie,de;return L_(W)?(ie=e.getRecordMatcher(W),de=le):de=W,e.addRoute(de,ie)}function O(W){const le=e.getRecordMatcher(W);le&&e.removeRoute(le)}function N(){return e.getRoutes().map(W=>W.record)}function F(W){return!!e.getRecordMatcher(W)}function $(W,le){if(le=We({},le||c.value),typeof W=="string"){const C=Wc(n,W,le.path),U=e.resolve({path:C.path},le),q=s.createHref(C.fullPath);return We(C,U,{params:g(U.params),hash:vo(C.hash),redirectedFrom:void 0,href:q})}let ie;if(W.path!=null)ie=We({},W,{path:Wc(n,W.path,le.path).path});else{const C=We({},W.params);for(const U in C)C[U]==null&&delete C[U];ie=We({},W,{params:f(C)}),le.params=f(le.params)}const de=e.resolve(ie,le),Ve=W.hash||"";de.params=u(g(de.params));const je=Vb(r,We({},W,{hash:Sb(Ve),path:de.path})),R=s.createHref(je);return We({fullPath:je,hash:Ve,query:r===hp?cI(W.query):W.query||{}},de,{redirectedFrom:void 0,href:R})}function L(W){return typeof W=="string"?Wc(n,W,c.value.path):We({},W)}function S(W,le){if(h!==W)return ii(8,{from:le,to:W})}function V(W){return A(W)}function B(W){return V(We(L(W),{replace:!0}))}function H(W){const le=W.matched[W.matched.length-1];if(le&&le.redirect){const{redirect:ie}=le;let de=typeof ie=="function"?ie(W):ie;return typeof de=="string"&&(de=de.includes("?")||de.includes("#")?de=L(de):{path:de},de.params={}),We({query:W.query,hash:W.hash,params:de.path!=null?{}:W.params},de)}}function A(W,le){const ie=h=$(W),de=c.value,Ve=W.state,je=W.force,R=W.replace===!0,C=H(ie);if(C)return A(We(L(C),{state:typeof C=="object"?We({},Ve,C.state):Ve,force:je,replace:R}),le||ie);const U=ie;U.redirectedFrom=le;let q;return!je&&Nb(r,de,ie)&&(q=ii(16,{to:U,from:de}),st(de,de,!0,!1)),(q?Promise.resolve(q):I(U,de)).catch(K=>qn(K)?qn(K,2)?K:Ze(K):Z(K,U,de)).then(K=>{if(K){if(qn(K,2))return A(We({replace:R},L(K.to),{state:typeof K.to=="object"?We({},Ve,K.to.state):Ve,force:je}),le||U)}else K=b(U,de,!0,R,Ve);return P(U,de,K),K})}function E(W,le){const ie=S(W,le);return ie?Promise.reject(ie):Promise.resolve()}function w(W){const le=An.values().next().value;return le&&typeof le.runWithContext=="function"?le.runWithContext(W):W()}function I(W,le){let ie;const[de,Ve,je]=vI(W,le);ie=Kc(de.reverse(),"beforeRouteLeave",W,le);for(const C of de)C.leaveGuards.forEach(U=>{ie.push(Ar(U,W,le))});const R=E.bind(null,W,le);return ie.push(R),xt(ie).then(()=>{ie=[];for(const C of i.list())ie.push(Ar(C,W,le));return ie.push(R),xt(ie)}).then(()=>{ie=Kc(Ve,"beforeRouteUpdate",W,le);for(const C of Ve)C.updateGuards.forEach(U=>{ie.push(Ar(U,W,le))});return ie.push(R),xt(ie)}).then(()=>{ie=[];for(const C of je)if(C.beforeEnter)if(Tn(C.beforeEnter))for(const U of C.beforeEnter)ie.push(Ar(U,W,le));else ie.push(Ar(C.beforeEnter,W,le));return ie.push(R),xt(ie)}).then(()=>(W.matched.forEach(C=>C.enterCallbacks={}),ie=Kc(je,"beforeRouteEnter",W,le,w),ie.push(R),xt(ie))).then(()=>{ie=[];for(const C of o.list())ie.push(Ar(C,W,le));return ie.push(R),xt(ie)}).catch(C=>qn(C,8)?C:Promise.reject(C))}function P(W,le,ie){l.list().forEach(de=>w(()=>de(W,le,ie)))}function b(W,le,ie,de,Ve){const je=S(W,le);if(je)return je;const R=le===yr,C=xs?history.state:{};ie&&(de||R?s.replace(W.fullPath,We({scroll:R&&C&&C.scroll},Ve)):s.push(W.fullPath,Ve)),c.value=W,st(W,le,ie,R),Ze()}let T;function oe(){T||(T=s.listen((W,le,ie)=>{if(!rn.listening)return;const de=$(W),Ve=H(de);if(Ve){A(We(Ve,{replace:!0,force:!0}),de).catch(ro);return}h=de;const je=c.value;xs&&$b(np(je.fullPath,ie.delta),Ql()),I(de,je).catch(R=>qn(R,12)?R:qn(R,2)?(A(We(L(R.to),{force:!0}),de).then(C=>{qn(C,20)&&!ie.delta&&ie.type===Eo.pop&&s.go(-1,!1)}).catch(ro),Promise.reject()):(ie.delta&&s.go(-ie.delta,!1),Z(R,de,je))).then(R=>{R=R||b(de,je,!1),R&&(ie.delta&&!qn(R,8)?s.go(-ie.delta,!1):ie.type===Eo.pop&&qn(R,20)&&s.go(-1,!1)),P(de,je,R)}).catch(ro)}))}let ce=Fi(),Q=Fi(),ae;function Z(W,le,ie){Ze(W);const de=Q.list();return de.length?de.forEach(Ve=>Ve(W,le,ie)):console.error(W),Promise.reject(W)}function Ie(){return ae&&c.value!==yr?Promise.resolve():new Promise((W,le)=>{ce.add([W,le])})}function Ze(W){return ae||(ae=!W,oe(),ce.list().forEach(([le,ie])=>W?ie(W):le()),ce.reset()),W}function st(W,le,ie,de){const{scrollBehavior:Ve}=t;if(!xs||!Ve)return Promise.resolve();const je=!ie&&Hb(np(W.fullPath,0))||(de||!ie)&&history.state&&history.state.scroll||null;return Mo().then(()=>Ve(W,le,je)).then(R=>R&&jb(R)).catch(R=>Z(R,W,le))}const Be=W=>s.go(W);let et;const An=new Set,rn={currentRoute:c,listening:!0,addRoute:y,removeRoute:O,clearRoutes:e.clearRoutes,hasRoute:F,getRoutes:N,resolve:$,options:t,push:V,replace:B,go:Be,back:()=>Be(-1),forward:()=>Be(1),beforeEach:i.add,beforeResolve:o.add,afterEach:l.add,onError:Q.add,isReady:Ie,install(W){const le=this;W.component("RouterLink",fI),W.component("RouterView",_I),W.config.globalProperties.$router=le,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>Xn(c)}),xs&&!et&&c.value===yr&&(et=!0,V(s.location).catch(Ve=>{}));const ie={};for(const Ve in yr)Object.defineProperty(ie,Ve,{get:()=>c.value[Ve],enumerable:!0});W.provide(kh,le),W.provide(j_,ch(ie)),W.provide(Su,c);const de=W.unmount;An.add(W),W.unmount=function(){An.delete(W),An.size<1&&(h=yr,T&&T(),T=null,c.value=yr,et=!1,ae=!1),de()}}};function xt(W){return W.reduce((le,ie)=>le.then(()=>w(ie)),Promise.resolve())}return rn}function vI(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const l=e.matched[o];l&&(t.matched.find(h=>si(h,l))?r.push(l):n.push(l));const c=t.matched[o];c&&(e.matched.find(h=>si(h,c))||s.push(c))}return[n,r,s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},EI=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},H_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,h=c?t[s+2]:0,u=i>>2,f=(i&3)<<4|l>>4;let g=(l&15)<<2|h>>6,y=h&63;c||(y=64,o||(g=64)),r.push(n[u],n[f],n[g],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):EI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const h=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||h==null||f==null)throw new wI;const g=i<<2|l>>4;if(r.push(g),h!==64){const y=l<<4&240|h>>2;if(r.push(y),f!==64){const O=h<<6&192|f;r.push(O)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TI=function(t){const e=$_(t);return H_.encodeByteArray(e,!0)},fl=function(t){return TI(t).replace(/\./g,"")},q_=function(t){try{return H_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II=()=>bI().__FIREBASE_DEFAULTS__,AI=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&q_(t[1]);return e&&JSON.parse(e)},Yl=()=>{try{return II()||AI()||RI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},W_=t=>{var e,n;return(n=(e=Yl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},SI=t=>{const e=W_(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},K_=()=>{var t;return(t=Yl())===null||t===void 0?void 0:t.config},z_=t=>{var e;return(e=Yl())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[fl(JSON.stringify(n)),fl(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function OI(){var t;const e=(t=Yl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function VI(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xI(){const t=Wt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function MI(){return!OI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LI(){try{return typeof indexedDB=="object"}catch{return!1}}function FI(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="FirebaseError";class dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=UI,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$o.prototype.create)}}class $o{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?BI(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new dr(s,l,r)}}function BI(t,e){return t.replace(jI,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const jI=/\{\$([^}]+)}/g;function $I(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function pl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(_p(i)&&_p(o)){if(!pl(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function _p(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hi(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function qi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function HI(t,e){const n=new qI(t,e);return n.subscribe.bind(n)}class qI{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");WI(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=zc),s.error===void 0&&(s.error=zc),s.complete===void 0&&(s.complete=zc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WI(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(t){return t&&t._delegate?t._delegate:t}class fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new PI;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GI(e))try{this.getOrInitializeService({instanceIdentifier:rs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=rs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=rs){return this.instances.has(e)}getOptions(e=rs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:zI(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rs){return this.component?this.component.multipleInstances?e:rs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function zI(t){return t===rs?void 0:t}function GI(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KI(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Me||(Me={}));const YI={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},JI=Me.INFO,XI={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},ZI=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=XI[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Oh{constructor(e){this.name=e,this._logLevel=JI,this._logHandler=ZI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const eA=(t,e)=>e.some(n=>t instanceof n);let yp,vp;function tA(){return yp||(yp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nA(){return vp||(vp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G_=new WeakMap,Pu=new WeakMap,Q_=new WeakMap,Gc=new WeakMap,Dh=new WeakMap;function rA(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(xr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&G_.set(n,t)}).catch(()=>{}),Dh.set(e,t),e}function sA(t){if(Pu.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Pu.set(t,e)}let Cu={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pu.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Q_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return xr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iA(t){Cu=t(Cu)}function oA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qc(this),e,...n);return Q_.set(r,e.sort?e.sort():[e]),xr(r)}:nA().includes(t)?function(...e){return t.apply(Qc(this),e),xr(G_.get(this))}:function(...e){return xr(t.apply(Qc(this),e))}}function aA(t){return typeof t=="function"?oA(t):(t instanceof IDBTransaction&&sA(t),eA(t,tA())?new Proxy(t,Cu):t)}function xr(t){if(t instanceof IDBRequest)return rA(t);if(Gc.has(t))return Gc.get(t);const e=aA(t);return e!==t&&(Gc.set(t,e),Dh.set(e,t)),e}const Qc=t=>Dh.get(t);function lA(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=xr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(xr(o.result),c.oldVersion,c.newVersion,xr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),l}const cA=["get","getKey","getAll","getAllKeys","count"],uA=["put","add","delete","clear"],Yc=new Map;function Ep(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yc.get(e))return Yc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=uA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||cA.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let h=c.store;return r&&(h=h.index(l.shift())),(await Promise.all([h[n](...l),s&&c.done]))[0]};return Yc.set(e,i),i}iA(t=>({...t,get:(e,n,r)=>Ep(e,n)||t.get(e,n,r),has:(e,n)=>!!Ep(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ku="@firebase/app",wp="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new Oh("@firebase/app"),fA="@firebase/app-compat",pA="@firebase/analytics-compat",mA="@firebase/analytics",gA="@firebase/app-check-compat",_A="@firebase/app-check",yA="@firebase/auth",vA="@firebase/auth-compat",EA="@firebase/database",wA="@firebase/data-connect",TA="@firebase/database-compat",bA="@firebase/functions",IA="@firebase/functions-compat",AA="@firebase/installations",RA="@firebase/installations-compat",SA="@firebase/messaging",PA="@firebase/messaging-compat",CA="@firebase/performance",kA="@firebase/performance-compat",OA="@firebase/remote-config",DA="@firebase/remote-config-compat",VA="@firebase/storage",NA="@firebase/storage-compat",xA="@firebase/firestore",MA="@firebase/vertexai-preview",LA="@firebase/firestore-compat",FA="firebase",UA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou="[DEFAULT]",BA={[ku]:"fire-core",[fA]:"fire-core-compat",[mA]:"fire-analytics",[pA]:"fire-analytics-compat",[_A]:"fire-app-check",[gA]:"fire-app-check-compat",[yA]:"fire-auth",[vA]:"fire-auth-compat",[EA]:"fire-rtdb",[wA]:"fire-data-connect",[TA]:"fire-rtdb-compat",[bA]:"fire-fn",[IA]:"fire-fn-compat",[AA]:"fire-iid",[RA]:"fire-iid-compat",[SA]:"fire-fcm",[PA]:"fire-fcm-compat",[CA]:"fire-perf",[kA]:"fire-perf-compat",[OA]:"fire-rc",[DA]:"fire-rc-compat",[VA]:"fire-gcs",[NA]:"fire-gcs-compat",[xA]:"fire-fst",[LA]:"fire-fst-compat",[MA]:"fire-vertex","fire-js":"fire-js",[FA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ml=new Map,jA=new Map,Du=new Map;function Tp(t,e){try{t.container.addComponent(e)}catch(n){or.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oi(t){const e=t.name;if(Du.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;Du.set(e,t);for(const n of ml.values())Tp(n,t);for(const n of jA.values())Tp(n,t);return!0}function Vh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function On(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new $o("app","Firebase",$A);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=UA;function Y_(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Ou,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Mr.create("bad-app-name",{appName:String(s)});if(n||(n=K_()),!n)throw Mr.create("no-options");const i=ml.get(s);if(i){if(pl(n,i.options)&&pl(r,i.config))return i;throw Mr.create("duplicate-app",{appName:s})}const o=new QI(s);for(const c of Du.values())o.addComponent(c);const l=new HA(n,r,o);return ml.set(s,l),l}function J_(t=Ou){const e=ml.get(t);if(!e&&t===Ou&&K_())return Y_();if(!e)throw Mr.create("no-app",{appName:t});return e}function Lr(t,e,n){var r;let s=(r=BA[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(l.join(" "));return}oi(new fs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="firebase-heartbeat-database",WA=1,wo="firebase-heartbeat-store";let Jc=null;function X_(){return Jc||(Jc=lA(qA,WA,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Mr.create("idb-open",{originalErrorMessage:t.message})})),Jc}async function KA(t){try{const n=(await X_()).transaction(wo),r=await n.objectStore(wo).get(Z_(t));return await n.done,r}catch(e){if(e instanceof dr)or.warn(e.message);else{const n=Mr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});or.warn(n.message)}}}async function bp(t,e){try{const r=(await X_()).transaction(wo,"readwrite");await r.objectStore(wo).put(e,Z_(t)),await r.done}catch(n){if(n instanceof dr)or.warn(n.message);else{const r=Mr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});or.warn(r.message)}}}function Z_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=1024,GA=30*24*60*60*1e3;class QA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Ip();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=GA}),this._storage.overwrite(this._heartbeatsCache))}catch(r){or.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ip(),{heartbeatsToSend:r,unsentEntries:s}=YA(this._heartbeatsCache.heartbeats),i=fl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return or.warn(n),""}}}function Ip(){return new Date().toISOString().substring(0,10)}function YA(t,e=zA){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Ap(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ap(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LI()?FI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KA(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Ap(t){return fl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){oi(new fs("platform-logger",e=>new hA(e),"PRIVATE")),oi(new fs("heartbeat",e=>new QA(e),"PRIVATE")),Lr(ku,wp,t),Lr(ku,wp,"esm2017"),Lr("fire-js","")}XA("");var Rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cs,ey;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,E){function w(){}w.prototype=E.prototype,A.D=E.prototype,A.prototype=new w,A.prototype.constructor=A,A.C=function(I,P,b){for(var T=Array(arguments.length-2),oe=2;oe<arguments.length;oe++)T[oe-2]=arguments[oe];return E.prototype[P].apply(I,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,E,w){w||(w=0);var I=Array(16);if(typeof E=="string")for(var P=0;16>P;++P)I[P]=E.charCodeAt(w++)|E.charCodeAt(w++)<<8|E.charCodeAt(w++)<<16|E.charCodeAt(w++)<<24;else for(P=0;16>P;++P)I[P]=E[w++]|E[w++]<<8|E[w++]<<16|E[w++]<<24;E=A.g[0],w=A.g[1],P=A.g[2];var b=A.g[3],T=E+(b^w&(P^b))+I[0]+3614090360&4294967295;E=w+(T<<7&4294967295|T>>>25),T=b+(P^E&(w^P))+I[1]+3905402710&4294967295,b=E+(T<<12&4294967295|T>>>20),T=P+(w^b&(E^w))+I[2]+606105819&4294967295,P=b+(T<<17&4294967295|T>>>15),T=w+(E^P&(b^E))+I[3]+3250441966&4294967295,w=P+(T<<22&4294967295|T>>>10),T=E+(b^w&(P^b))+I[4]+4118548399&4294967295,E=w+(T<<7&4294967295|T>>>25),T=b+(P^E&(w^P))+I[5]+1200080426&4294967295,b=E+(T<<12&4294967295|T>>>20),T=P+(w^b&(E^w))+I[6]+2821735955&4294967295,P=b+(T<<17&4294967295|T>>>15),T=w+(E^P&(b^E))+I[7]+4249261313&4294967295,w=P+(T<<22&4294967295|T>>>10),T=E+(b^w&(P^b))+I[8]+1770035416&4294967295,E=w+(T<<7&4294967295|T>>>25),T=b+(P^E&(w^P))+I[9]+2336552879&4294967295,b=E+(T<<12&4294967295|T>>>20),T=P+(w^b&(E^w))+I[10]+4294925233&4294967295,P=b+(T<<17&4294967295|T>>>15),T=w+(E^P&(b^E))+I[11]+2304563134&4294967295,w=P+(T<<22&4294967295|T>>>10),T=E+(b^w&(P^b))+I[12]+1804603682&4294967295,E=w+(T<<7&4294967295|T>>>25),T=b+(P^E&(w^P))+I[13]+4254626195&4294967295,b=E+(T<<12&4294967295|T>>>20),T=P+(w^b&(E^w))+I[14]+2792965006&4294967295,P=b+(T<<17&4294967295|T>>>15),T=w+(E^P&(b^E))+I[15]+1236535329&4294967295,w=P+(T<<22&4294967295|T>>>10),T=E+(P^b&(w^P))+I[1]+4129170786&4294967295,E=w+(T<<5&4294967295|T>>>27),T=b+(w^P&(E^w))+I[6]+3225465664&4294967295,b=E+(T<<9&4294967295|T>>>23),T=P+(E^w&(b^E))+I[11]+643717713&4294967295,P=b+(T<<14&4294967295|T>>>18),T=w+(b^E&(P^b))+I[0]+3921069994&4294967295,w=P+(T<<20&4294967295|T>>>12),T=E+(P^b&(w^P))+I[5]+3593408605&4294967295,E=w+(T<<5&4294967295|T>>>27),T=b+(w^P&(E^w))+I[10]+38016083&4294967295,b=E+(T<<9&4294967295|T>>>23),T=P+(E^w&(b^E))+I[15]+3634488961&4294967295,P=b+(T<<14&4294967295|T>>>18),T=w+(b^E&(P^b))+I[4]+3889429448&4294967295,w=P+(T<<20&4294967295|T>>>12),T=E+(P^b&(w^P))+I[9]+568446438&4294967295,E=w+(T<<5&4294967295|T>>>27),T=b+(w^P&(E^w))+I[14]+3275163606&4294967295,b=E+(T<<9&4294967295|T>>>23),T=P+(E^w&(b^E))+I[3]+4107603335&4294967295,P=b+(T<<14&4294967295|T>>>18),T=w+(b^E&(P^b))+I[8]+1163531501&4294967295,w=P+(T<<20&4294967295|T>>>12),T=E+(P^b&(w^P))+I[13]+2850285829&4294967295,E=w+(T<<5&4294967295|T>>>27),T=b+(w^P&(E^w))+I[2]+4243563512&4294967295,b=E+(T<<9&4294967295|T>>>23),T=P+(E^w&(b^E))+I[7]+1735328473&4294967295,P=b+(T<<14&4294967295|T>>>18),T=w+(b^E&(P^b))+I[12]+2368359562&4294967295,w=P+(T<<20&4294967295|T>>>12),T=E+(w^P^b)+I[5]+4294588738&4294967295,E=w+(T<<4&4294967295|T>>>28),T=b+(E^w^P)+I[8]+2272392833&4294967295,b=E+(T<<11&4294967295|T>>>21),T=P+(b^E^w)+I[11]+1839030562&4294967295,P=b+(T<<16&4294967295|T>>>16),T=w+(P^b^E)+I[14]+4259657740&4294967295,w=P+(T<<23&4294967295|T>>>9),T=E+(w^P^b)+I[1]+2763975236&4294967295,E=w+(T<<4&4294967295|T>>>28),T=b+(E^w^P)+I[4]+1272893353&4294967295,b=E+(T<<11&4294967295|T>>>21),T=P+(b^E^w)+I[7]+4139469664&4294967295,P=b+(T<<16&4294967295|T>>>16),T=w+(P^b^E)+I[10]+3200236656&4294967295,w=P+(T<<23&4294967295|T>>>9),T=E+(w^P^b)+I[13]+681279174&4294967295,E=w+(T<<4&4294967295|T>>>28),T=b+(E^w^P)+I[0]+3936430074&4294967295,b=E+(T<<11&4294967295|T>>>21),T=P+(b^E^w)+I[3]+3572445317&4294967295,P=b+(T<<16&4294967295|T>>>16),T=w+(P^b^E)+I[6]+76029189&4294967295,w=P+(T<<23&4294967295|T>>>9),T=E+(w^P^b)+I[9]+3654602809&4294967295,E=w+(T<<4&4294967295|T>>>28),T=b+(E^w^P)+I[12]+3873151461&4294967295,b=E+(T<<11&4294967295|T>>>21),T=P+(b^E^w)+I[15]+530742520&4294967295,P=b+(T<<16&4294967295|T>>>16),T=w+(P^b^E)+I[2]+3299628645&4294967295,w=P+(T<<23&4294967295|T>>>9),T=E+(P^(w|~b))+I[0]+4096336452&4294967295,E=w+(T<<6&4294967295|T>>>26),T=b+(w^(E|~P))+I[7]+1126891415&4294967295,b=E+(T<<10&4294967295|T>>>22),T=P+(E^(b|~w))+I[14]+2878612391&4294967295,P=b+(T<<15&4294967295|T>>>17),T=w+(b^(P|~E))+I[5]+4237533241&4294967295,w=P+(T<<21&4294967295|T>>>11),T=E+(P^(w|~b))+I[12]+1700485571&4294967295,E=w+(T<<6&4294967295|T>>>26),T=b+(w^(E|~P))+I[3]+2399980690&4294967295,b=E+(T<<10&4294967295|T>>>22),T=P+(E^(b|~w))+I[10]+4293915773&4294967295,P=b+(T<<15&4294967295|T>>>17),T=w+(b^(P|~E))+I[1]+2240044497&4294967295,w=P+(T<<21&4294967295|T>>>11),T=E+(P^(w|~b))+I[8]+1873313359&4294967295,E=w+(T<<6&4294967295|T>>>26),T=b+(w^(E|~P))+I[15]+4264355552&4294967295,b=E+(T<<10&4294967295|T>>>22),T=P+(E^(b|~w))+I[6]+2734768916&4294967295,P=b+(T<<15&4294967295|T>>>17),T=w+(b^(P|~E))+I[13]+1309151649&4294967295,w=P+(T<<21&4294967295|T>>>11),T=E+(P^(w|~b))+I[4]+4149444226&4294967295,E=w+(T<<6&4294967295|T>>>26),T=b+(w^(E|~P))+I[11]+3174756917&4294967295,b=E+(T<<10&4294967295|T>>>22),T=P+(E^(b|~w))+I[2]+718787259&4294967295,P=b+(T<<15&4294967295|T>>>17),T=w+(b^(P|~E))+I[9]+3951481745&4294967295,A.g[0]=A.g[0]+E&4294967295,A.g[1]=A.g[1]+(P+(T<<21&4294967295|T>>>11))&4294967295,A.g[2]=A.g[2]+P&4294967295,A.g[3]=A.g[3]+b&4294967295}r.prototype.u=function(A,E){E===void 0&&(E=A.length);for(var w=E-this.blockSize,I=this.B,P=this.h,b=0;b<E;){if(P==0)for(;b<=w;)s(this,A,b),b+=this.blockSize;if(typeof A=="string"){for(;b<E;)if(I[P++]=A.charCodeAt(b++),P==this.blockSize){s(this,I),P=0;break}}else for(;b<E;)if(I[P++]=A[b++],P==this.blockSize){s(this,I),P=0;break}}this.h=P,this.o+=E},r.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var E=1;E<A.length-8;++E)A[E]=0;var w=8*this.o;for(E=A.length-8;E<A.length;++E)A[E]=w&255,w/=256;for(this.u(A),A=Array(16),E=w=0;4>E;++E)for(var I=0;32>I;I+=8)A[w++]=this.g[E]>>>I&255;return A};function i(A,E){var w=l;return Object.prototype.hasOwnProperty.call(w,A)?w[A]:w[A]=E(A)}function o(A,E){this.h=E;for(var w=[],I=!0,P=A.length-1;0<=P;P--){var b=A[P]|0;I&&b==E||(w[P]=b,I=!1)}this.g=w}var l={};function c(A){return-128<=A&&128>A?i(A,function(E){return new o([E|0],0>E?-1:0)}):new o([A|0],0>A?-1:0)}function h(A){if(isNaN(A)||!isFinite(A))return f;if(0>A)return F(h(-A));for(var E=[],w=1,I=0;A>=w;I++)E[I]=A/w|0,w*=4294967296;return new o(E,0)}function u(A,E){if(A.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A.charAt(0)=="-")return F(u(A.substring(1),E));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=h(Math.pow(E,8)),I=f,P=0;P<A.length;P+=8){var b=Math.min(8,A.length-P),T=parseInt(A.substring(P,P+b),E);8>b?(b=h(Math.pow(E,b)),I=I.j(b).add(h(T))):(I=I.j(w),I=I.add(h(T)))}return I}var f=c(0),g=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(N(this))return-F(this).m();for(var A=0,E=1,w=0;w<this.g.length;w++){var I=this.i(w);A+=(0<=I?I:4294967296+I)*E,E*=4294967296}return A},t.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(O(this))return"0";if(N(this))return"-"+F(this).toString(A);for(var E=h(Math.pow(A,6)),w=this,I="";;){var P=V(w,E).g;w=$(w,P.j(E));var b=((0<w.g.length?w.g[0]:w.h)>>>0).toString(A);if(w=P,O(w))return b+I;for(;6>b.length;)b="0"+b;I=b+I}},t.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function O(A){if(A.h!=0)return!1;for(var E=0;E<A.g.length;E++)if(A.g[E]!=0)return!1;return!0}function N(A){return A.h==-1}t.l=function(A){return A=$(this,A),N(A)?-1:O(A)?0:1};function F(A){for(var E=A.g.length,w=[],I=0;I<E;I++)w[I]=~A.g[I];return new o(w,~A.h).add(g)}t.abs=function(){return N(this)?F(this):this},t.add=function(A){for(var E=Math.max(this.g.length,A.g.length),w=[],I=0,P=0;P<=E;P++){var b=I+(this.i(P)&65535)+(A.i(P)&65535),T=(b>>>16)+(this.i(P)>>>16)+(A.i(P)>>>16);I=T>>>16,b&=65535,T&=65535,w[P]=T<<16|b}return new o(w,w[w.length-1]&-2147483648?-1:0)};function $(A,E){return A.add(F(E))}t.j=function(A){if(O(this)||O(A))return f;if(N(this))return N(A)?F(this).j(F(A)):F(F(this).j(A));if(N(A))return F(this.j(F(A)));if(0>this.l(y)&&0>A.l(y))return h(this.m()*A.m());for(var E=this.g.length+A.g.length,w=[],I=0;I<2*E;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var P=0;P<A.g.length;P++){var b=this.i(I)>>>16,T=this.i(I)&65535,oe=A.i(P)>>>16,ce=A.i(P)&65535;w[2*I+2*P]+=T*ce,L(w,2*I+2*P),w[2*I+2*P+1]+=b*ce,L(w,2*I+2*P+1),w[2*I+2*P+1]+=T*oe,L(w,2*I+2*P+1),w[2*I+2*P+2]+=b*oe,L(w,2*I+2*P+2)}for(I=0;I<E;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=E;I<2*E;I++)w[I]=0;return new o(w,0)};function L(A,E){for(;(A[E]&65535)!=A[E];)A[E+1]+=A[E]>>>16,A[E]&=65535,E++}function S(A,E){this.g=A,this.h=E}function V(A,E){if(O(E))throw Error("division by zero");if(O(A))return new S(f,f);if(N(A))return E=V(F(A),E),new S(F(E.g),F(E.h));if(N(E))return E=V(A,F(E)),new S(F(E.g),E.h);if(30<A.g.length){if(N(A)||N(E))throw Error("slowDivide_ only works with positive integers.");for(var w=g,I=E;0>=I.l(A);)w=B(w),I=B(I);var P=H(w,1),b=H(I,1);for(I=H(I,2),w=H(w,2);!O(I);){var T=b.add(I);0>=T.l(A)&&(P=P.add(w),b=T),I=H(I,1),w=H(w,1)}return E=$(A,P.j(E)),new S(P,E)}for(P=f;0<=A.l(E);){for(w=Math.max(1,Math.floor(A.m()/E.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),b=h(w),T=b.j(E);N(T)||0<T.l(A);)w-=I,b=h(w),T=b.j(E);O(b)&&(b=g),P=P.add(b),A=$(A,T)}return new S(P,A)}t.A=function(A){return V(this,A).h},t.and=function(A){for(var E=Math.max(this.g.length,A.g.length),w=[],I=0;I<E;I++)w[I]=this.i(I)&A.i(I);return new o(w,this.h&A.h)},t.or=function(A){for(var E=Math.max(this.g.length,A.g.length),w=[],I=0;I<E;I++)w[I]=this.i(I)|A.i(I);return new o(w,this.h|A.h)},t.xor=function(A){for(var E=Math.max(this.g.length,A.g.length),w=[],I=0;I<E;I++)w[I]=this.i(I)^A.i(I);return new o(w,this.h^A.h)};function B(A){for(var E=A.g.length+1,w=[],I=0;I<E;I++)w[I]=A.i(I)<<1|A.i(I-1)>>>31;return new o(w,A.h)}function H(A,E){var w=E>>5;E%=32;for(var I=A.g.length-w,P=[],b=0;b<I;b++)P[b]=0<E?A.i(b+w)>>>E|A.i(b+w+1)<<32-E:A.i(b+w);return new o(P,A.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,ey=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=u,cs=o}).apply(typeof Rp<"u"?Rp:typeof self<"u"?self:typeof window<"u"?window:{});var Ca=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ty,Wi,ny,Ua,Vu,ry,sy,iy;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,p){return a==Array.prototype||a==Object.prototype||(a[d]=p.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ca=="object"&&Ca];for(var d=0;d<a.length;++d){var p=a[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function s(a,d){if(d)e:{var p=r;a=a.split(".");for(var v=0;v<a.length-1;v++){var M=a[v];if(!(M in p))break e;p=p[M]}a=a[a.length-1],v=p[a],d=d(v),d!=v&&d!=null&&e(p,a,{configurable:!0,writable:!0,value:d})}}function i(a,d){a instanceof String&&(a+="");var p=0,v=!1,M={next:function(){if(!v&&p<a.length){var j=p++;return{value:d(j,a[j]),done:!1}}return v=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(a){return a||function(){return i(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function h(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function u(a,d,p){return a.call.apply(a.bind,arguments)}function f(a,d,p){if(!a)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,v),a.apply(d,M)}}return function(){return a.apply(d,arguments)}}function g(a,d,p){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:f,g.apply(null,arguments)}function y(a,d){var p=Array.prototype.slice.call(arguments,1);return function(){var v=p.slice();return v.push.apply(v,arguments),a.apply(this,v)}}function O(a,d){function p(){}p.prototype=d.prototype,a.aa=d.prototype,a.prototype=new p,a.prototype.constructor=a,a.Qb=function(v,M,j){for(var ne=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ne[Qe-2]=arguments[Qe];return d.prototype[M].apply(v,ne)}}function N(a){const d=a.length;if(0<d){const p=Array(d);for(let v=0;v<d;v++)p[v]=a[v];return p}return[]}function F(a,d){for(let p=1;p<arguments.length;p++){const v=arguments[p];if(c(v)){const M=a.length||0,j=v.length||0;a.length=M+j;for(let ne=0;ne<j;ne++)a[M+ne]=v[ne]}else a.push(v)}}class ${constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function L(a){return/^[\s\xa0]*$/.test(a)}function S(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function V(a){return V[" "](a),a}V[" "]=function(){};var B=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function H(a,d,p){for(const v in a)d.call(p,a[v],v,a)}function A(a,d){for(const p in a)d.call(void 0,a[p],p,a)}function E(a){const d={};for(const p in a)d[p]=a[p];return d}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(a,d){let p,v;for(let M=1;M<arguments.length;M++){v=arguments[M];for(p in v)a[p]=v[p];for(let j=0;j<w.length;j++)p=w[j],Object.prototype.hasOwnProperty.call(v,p)&&(a[p]=v[p])}}function P(a){var d=1;a=a.split(":");const p=[];for(;0<d&&a.length;)p.push(a.shift()),d--;return a.length&&p.push(a.join(":")),p}function b(a){l.setTimeout(()=>{throw a},0)}function T(){var a=Ie;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class oe{constructor(){this.h=this.g=null}add(d,p){const v=ce.get();v.set(d,p),this.h?this.h.next=v:this.g=v,this.h=v}}var ce=new $(()=>new Q,a=>a.reset());class Q{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ae,Z=!1,Ie=new oe,Ze=()=>{const a=l.Promise.resolve(void 0);ae=()=>{a.then(st)}};var st=()=>{for(var a;a=T();){try{a.h.call(a.g)}catch(p){b(p)}var d=ce;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Z=!1};function Be(){this.s=this.s,this.C=this.C}Be.prototype.s=!1,Be.prototype.ma=function(){this.s||(this.s=!0,this.N())},Be.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var An=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const p=()=>{};l.addEventListener("test",p,d),l.removeEventListener("test",p,d)}catch{}return a}();function rn(a,d){if(et.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var p=this.type=a.type,v=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(B){e:{try{V(d.nodeName);var M=!0;break e}catch{}M=!1}M||(d=null)}}else p=="mouseover"?d=a.fromElement:p=="mouseout"&&(d=a.toElement);this.relatedTarget=d,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:xt[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&rn.aa.h.call(this)}}O(rn,et);var xt={2:"touch",3:"pen",4:"mouse"};rn.prototype.h=function(){rn.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),le=0;function ie(a,d,p,v,M){this.listener=a,this.proxy=null,this.src=d,this.type=p,this.capture=!!v,this.ha=M,this.key=++le,this.da=this.fa=!1}function de(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function Ve(a){this.src=a,this.g={},this.h=0}Ve.prototype.add=function(a,d,p,v,M){var j=a.toString();a=this.g[j],a||(a=this.g[j]=[],this.h++);var ne=R(a,d,v,M);return-1<ne?(d=a[ne],p||(d.fa=!1)):(d=new ie(d,this.src,j,!!v,M),d.fa=p,a.push(d)),d};function je(a,d){var p=d.type;if(p in a.g){var v=a.g[p],M=Array.prototype.indexOf.call(v,d,void 0),j;(j=0<=M)&&Array.prototype.splice.call(v,M,1),j&&(de(d),a.g[p].length==0&&(delete a.g[p],a.h--))}}function R(a,d,p,v){for(var M=0;M<a.length;++M){var j=a[M];if(!j.da&&j.listener==d&&j.capture==!!p&&j.ha==v)return M}return-1}var C="closure_lm_"+(1e6*Math.random()|0),U={};function q(a,d,p,v,M){if(v&&v.once)return se(a,d,p,v,M);if(Array.isArray(d)){for(var j=0;j<d.length;j++)q(a,d[j],p,v,M);return null}return p=we(p),a&&a[W]?a.K(d,p,h(v)?!!v.capture:!!v,M):K(a,d,p,!1,v,M)}function K(a,d,p,v,M,j){if(!d)throw Error("Invalid event type");var ne=h(M)?!!M.capture:!!M,Qe=re(a);if(Qe||(a[C]=Qe=new Ve(a)),p=Qe.add(d,p,v,ne,j),p.proxy)return p;if(v=G(),p.proxy=v,v.src=a,v.listener=p,a.addEventListener)An||(M=ne),M===void 0&&(M=!1),a.addEventListener(d.toString(),v,M);else if(a.attachEvent)a.attachEvent(J(d.toString()),v);else if(a.addListener&&a.removeListener)a.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return p}function G(){function a(p){return d.call(a.src,a.listener,p)}const d=ge;return a}function se(a,d,p,v,M){if(Array.isArray(d)){for(var j=0;j<d.length;j++)se(a,d[j],p,v,M);return null}return p=we(p),a&&a[W]?a.L(d,p,h(v)?!!v.capture:!!v,M):K(a,d,p,!0,v,M)}function te(a,d,p,v,M){if(Array.isArray(d))for(var j=0;j<d.length;j++)te(a,d[j],p,v,M);else v=h(v)?!!v.capture:!!v,p=we(p),a&&a[W]?(a=a.i,d=String(d).toString(),d in a.g&&(j=a.g[d],p=R(j,p,v,M),-1<p&&(de(j[p]),Array.prototype.splice.call(j,p,1),j.length==0&&(delete a.g[d],a.h--)))):a&&(a=re(a))&&(d=a.g[d.toString()],a=-1,d&&(a=R(d,p,v,M)),(p=-1<a?d[a]:null)&&ee(p))}function ee(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[W])je(d.i,a);else{var p=a.type,v=a.proxy;d.removeEventListener?d.removeEventListener(p,v,a.capture):d.detachEvent?d.detachEvent(J(p),v):d.addListener&&d.removeListener&&d.removeListener(v),(p=re(d))?(je(p,a),p.h==0&&(p.src=null,d[C]=null)):de(a)}}}function J(a){return a in U?U[a]:U[a]="on"+a}function ge(a,d){if(a.da)a=!0;else{d=new rn(d,this);var p=a.listener,v=a.ha||a.src;a.fa&&ee(a),a=p.call(v,d)}return a}function re(a){return a=a[C],a instanceof Ve?a:null}var pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(a){return typeof a=="function"?a:(a[pe]||(a[pe]=function(d){return a.handleEvent(d)}),a[pe])}function ve(){Be.call(this),this.i=new Ve(this),this.M=this,this.F=null}O(ve,Be),ve.prototype[W]=!0,ve.prototype.removeEventListener=function(a,d,p,v){te(this,a,d,p,v)};function Pe(a,d){var p,v=a.F;if(v)for(p=[];v;v=v.F)p.push(v);if(a=a.M,v=d.type||d,typeof d=="string")d=new et(d,a);else if(d instanceof et)d.target=d.target||a;else{var M=d;d=new et(v,a),I(d,M)}if(M=!0,p)for(var j=p.length-1;0<=j;j--){var ne=d.g=p[j];M=Ne(ne,v,!0,d)&&M}if(ne=d.g=a,M=Ne(ne,v,!0,d)&&M,M=Ne(ne,v,!1,d)&&M,p)for(j=0;j<p.length;j++)ne=d.g=p[j],M=Ne(ne,v,!1,d)&&M}ve.prototype.N=function(){if(ve.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var p=a.g[d],v=0;v<p.length;v++)de(p[v]);delete a.g[d],a.h--}}this.F=null},ve.prototype.K=function(a,d,p,v){return this.i.add(String(a),d,!1,p,v)},ve.prototype.L=function(a,d,p,v){return this.i.add(String(a),d,!0,p,v)};function Ne(a,d,p,v){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var M=!0,j=0;j<d.length;++j){var ne=d[j];if(ne&&!ne.da&&ne.capture==p){var Qe=ne.listener,Rt=ne.ha||ne.src;ne.fa&&je(a.i,ne),M=Qe.call(Rt,v)!==!1&&M}}return M&&!v.defaultPrevented}function at(a,d,p){if(typeof a=="function")p&&(a=g(a,p));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Ke(a){a.g=at(()=>{a.g=null,a.i&&(a.i=!1,Ke(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class It extends Be{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Ke(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ut(a){Be.call(this),this.h=a,this.g={}}O(ut,Be);var gn=[];function Un(a){H(a.g,function(d,p){this.g.hasOwnProperty(p)&&ee(d)},a),a.g={}}ut.prototype.N=function(){ut.aa.N.call(this),Un(this)},ut.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _t=l.JSON.stringify,Qt=l.JSON.parse,lt=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function Rn(){}Rn.prototype.h=null;function ia(a){return a.h||(a.h=a.i())}function Ec(){}var Bn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ii(){et.call(this,"d")}O(Ii,et);function Ai(){et.call(this,"c")}O(Ai,et);var m={},_=null;function k(){return _=_||new ve}m.La="serverreachability";function x(a){et.call(this,m.La,a)}O(x,et);function X(a){const d=k();Pe(d,new x(d))}m.STAT_EVENT="statevent";function ue(a,d){et.call(this,m.STAT_EVENT,a),this.stat=d}O(ue,et);function _e(a){const d=k();Pe(d,new ue(d,a))}m.Ma="timingevent";function yt(a,d){et.call(this,m.Ma,a),this.size=d}O(yt,et);function Se(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function tt(){this.g=!0}tt.prototype.xa=function(){this.g=!1};function At(a,d,p,v,M,j){a.info(function(){if(a.g)if(j)for(var ne="",Qe=j.split("&"),Rt=0;Rt<Qe.length;Rt++){var $e=Qe[Rt].split("=");if(1<$e.length){var Mt=$e[0];$e=$e[1];var Lt=Mt.split("_");ne=2<=Lt.length&&Lt[1]=="type"?ne+(Mt+"="+$e+"&"):ne+(Mt+"=redacted&")}}else ne=null;else ne=j;return"XMLHTTP REQ ("+v+") [attempt "+M+"]: "+d+`
`+p+`
`+ne})}function Gr(a,d,p,v,M,j,ne){a.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+M+"]: "+d+`
`+p+`
`+j+" "+ne})}function pr(a,d,p,v){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+Yr(a,p)+(v?" "+v:"")})}function Qr(a,d){a.info(function(){return"TIMEOUT: "+d})}tt.prototype.info=function(){};function Yr(a,d){if(!a.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(a=0;a<p.length;a++)if(Array.isArray(p[a])){var v=p[a];if(!(2>v.length)){var M=v[1];if(Array.isArray(M)&&!(1>M.length)){var j=M[0];if(j!="noop"&&j!="stop"&&j!="close")for(var ne=1;ne<M.length;ne++)M[ne]=""}}}}return _t(p)}catch{return d}}var Jr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oa={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Rs;function Ss(){}O(Ss,Rn),Ss.prototype.g=function(){return new XMLHttpRequest},Ss.prototype.i=function(){return{}},Rs=new Ss;function Sn(a,d,p,v){this.j=a,this.i=d,this.l=p,this.R=v||1,this.U=new ut(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ri}function Ri(){this.i=null,this.g="",this.h=!1}var kd={},wc={};function Tc(a,d,p){a.L=1,a.v=ua(jn(d)),a.m=p,a.P=!0,Od(a,null)}function Od(a,d){a.F=Date.now(),aa(a),a.A=jn(a.v);var p=a.A,v=a.R;Array.isArray(v)||(v=[String(v)]),Wd(p.i,"t",v),a.C=0,p=a.j.J,a.h=new Ri,a.g=uf(a.j,p?d:null,!a.m),0<a.O&&(a.M=new It(g(a.Y,a,a.g),a.O)),d=a.U,p=a.g,v=a.ca;var M="readystatechange";Array.isArray(M)||(M&&(gn[0]=M.toString()),M=gn);for(var j=0;j<M.length;j++){var ne=q(p,M[j],v||d.handleEvent,!1,d.h||d);if(!ne)break;d.g[ne.key]=ne}d=a.H?E(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),X(),At(a.i,a.u,a.A,a.l,a.R,a.m)}Sn.prototype.ca=function(a){a=a.target;const d=this.M;d&&$n(a)==3?d.j():this.Y(a)},Sn.prototype.Y=function(a){try{if(a==this.g)e:{const Lt=$n(this.g);var d=this.g.Ba();const ks=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||Xd(this.g)))){this.J||Lt!=4||d==7||(d==8||0>=ks?X(3):X(2)),bc(this);var p=this.g.Z();this.X=p;t:if(Dd(this)){var v=Xd(this.g);a="";var M=v.length,j=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Xr(this),Si(this);var ne="";break t}this.h.i=new l.TextDecoder}for(d=0;d<M;d++)this.h.h=!0,a+=this.h.i.decode(v[d],{stream:!(j&&d==M-1)});v.length=0,this.h.g+=a,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=p==200,Gr(this.i,this.u,this.A,this.l,this.R,Lt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Rt=this.g;if((Qe=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Qe)){var $e=Qe;break t}}$e=null}if(p=$e)pr(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ic(this,p);else{this.o=!1,this.s=3,_e(12),Xr(this),Si(this);break e}}if(this.P){p=!0;let _n;for(;!this.J&&this.C<ne.length;)if(_n=dE(this,ne),_n==wc){Lt==4&&(this.s=4,_e(14),p=!1),pr(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==kd){this.s=4,_e(15),pr(this.i,this.l,ne,"[Invalid Chunk]"),p=!1;break}else pr(this.i,this.l,_n,null),Ic(this,_n);if(Dd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||ne.length!=0||this.h.h||(this.s=1,_e(16),p=!1),this.o=this.o&&p,!p)pr(this.i,this.l,ne,"[Invalid Chunked Response]"),Xr(this),Si(this);else if(0<ne.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),kc(Mt),Mt.M=!0,_e(11))}}else pr(this.i,this.l,ne,null),Ic(this,ne);Lt==4&&Xr(this),this.o&&!this.J&&(Lt==4?of(this.j,this):(this.o=!1,aa(this)))}else CE(this.g),p==400&&0<ne.indexOf("Unknown SID")?(this.s=3,_e(12)):(this.s=0,_e(13)),Xr(this),Si(this)}}}catch{}finally{}};function Dd(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function dE(a,d){var p=a.C,v=d.indexOf(`
`,p);return v==-1?wc:(p=Number(d.substring(p,v)),isNaN(p)?kd:(v+=1,v+p>d.length?wc:(d=d.slice(v,v+p),a.C=v+p,d)))}Sn.prototype.cancel=function(){this.J=!0,Xr(this)};function aa(a){a.S=Date.now()+a.I,Vd(a,a.I)}function Vd(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Se(g(a.ba,a),d)}function bc(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Sn.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Qr(this.i,this.A),this.L!=2&&(X(),_e(17)),Xr(this),this.s=2,Si(this)):Vd(this,this.S-a)};function Si(a){a.j.G==0||a.J||of(a.j,a)}function Xr(a){bc(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Un(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function Ic(a,d){try{var p=a.j;if(p.G!=0&&(p.g==a||Ac(p.h,a))){if(!a.K&&Ac(p.h,a)&&p.G==3){try{var v=p.Da.g.parse(d)}catch{v=null}if(Array.isArray(v)&&v.length==3){var M=v;if(M[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<a.F)ga(p),pa(p);else break e;Cc(p),_e(18)}}else p.za=M[1],0<p.za-p.T&&37500>M[2]&&p.F&&p.v==0&&!p.C&&(p.C=Se(g(p.Za,p),6e3));if(1>=Md(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else es(p,11)}else if((a.K||p.g==a)&&ga(p),!L(d))for(M=p.Da.g.parse(d),d=0;d<M.length;d++){let $e=M[d];if(p.T=$e[0],$e=$e[1],p.G==2)if($e[0]=="c"){p.K=$e[1],p.ia=$e[2];const Mt=$e[3];Mt!=null&&(p.la=Mt,p.j.info("VER="+p.la));const Lt=$e[4];Lt!=null&&(p.Aa=Lt,p.j.info("SVER="+p.Aa));const ks=$e[5];ks!=null&&typeof ks=="number"&&0<ks&&(v=1.5*ks,p.L=v,p.j.info("backChannelRequestTimeoutMs_="+v)),v=p;const _n=a.g;if(_n){const ya=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ya){var j=v.h;j.g||ya.indexOf("spdy")==-1&&ya.indexOf("quic")==-1&&ya.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Rc(j,j.h),j.h=null))}if(v.D){const Oc=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Oc&&(v.ya=Oc,nt(v.I,v.D,Oc))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-a.F,p.j.info("Handshake RTT: "+p.R+"ms")),v=p;var ne=a;if(v.qa=cf(v,v.J?v.ia:null,v.W),ne.K){Ld(v.h,ne);var Qe=ne,Rt=v.L;Rt&&(Qe.I=Rt),Qe.B&&(bc(Qe),aa(Qe)),v.g=ne}else rf(v);0<p.i.length&&ma(p)}else $e[0]!="stop"&&$e[0]!="close"||es(p,7);else p.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?es(p,7):Pc(p):$e[0]!="noop"&&p.l&&p.l.ta($e),p.v=0)}}X(4)}catch{}}var fE=class{constructor(a,d){this.g=a,this.map=d}};function Nd(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function xd(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function Md(a){return a.h?1:a.g?a.g.size:0}function Ac(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function Rc(a,d){a.g?a.g.add(d):a.h=d}function Ld(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Nd.prototype.cancel=function(){if(this.i=Fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Fd(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const p of a.g.values())d=d.concat(p.D);return d}return N(a.i)}function pE(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var d=[],p=a.length,v=0;v<p;v++)d.push(a[v]);return d}d=[],p=0;for(v in a)d[p++]=a[v];return d}function mE(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var d=[];a=a.length;for(var p=0;p<a;p++)d.push(p);return d}d=[],p=0;for(const v in a)d[p++]=v;return d}}}function Ud(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var p=mE(a),v=pE(a),M=v.length,j=0;j<M;j++)d.call(void 0,v[j],p&&p[j],a)}var Bd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gE(a,d){if(a){a=a.split("&");for(var p=0;p<a.length;p++){var v=a[p].indexOf("="),M=null;if(0<=v){var j=a[p].substring(0,v);M=a[p].substring(v+1)}else j=a[p];d(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Zr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Zr){this.h=a.h,la(this,a.j),this.o=a.o,this.g=a.g,ca(this,a.s),this.l=a.l;var d=a.i,p=new ki;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),jd(this,p),this.m=a.m}else a&&(d=String(a).match(Bd))?(this.h=!1,la(this,d[1]||"",!0),this.o=Pi(d[2]||""),this.g=Pi(d[3]||"",!0),ca(this,d[4]),this.l=Pi(d[5]||"",!0),jd(this,d[6]||"",!0),this.m=Pi(d[7]||"")):(this.h=!1,this.i=new ki(null,this.h))}Zr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Ci(d,$d,!0),":");var p=this.g;return(p||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ci(d,$d,!0),"@"),a.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&a.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&a.push("/"),a.push(Ci(p,p.charAt(0)=="/"?vE:yE,!0))),(p=this.i.toString())&&a.push("?",p),(p=this.m)&&a.push("#",Ci(p,wE)),a.join("")};function jn(a){return new Zr(a)}function la(a,d,p){a.j=p?Pi(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function ca(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function jd(a,d,p){d instanceof ki?(a.i=d,TE(a.i,a.h)):(p||(d=Ci(d,EE)),a.i=new ki(d,a.h))}function nt(a,d,p){a.i.set(d,p)}function ua(a){return nt(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Pi(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ci(a,d,p){return typeof a=="string"?(a=encodeURI(a).replace(d,_E),p&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function _E(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var $d=/[#\/\?@]/g,yE=/[#\?:]/g,vE=/[#\?]/g,EE=/[#\?@]/g,wE=/#/g;function ki(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function mr(a){a.g||(a.g=new Map,a.h=0,a.i&&gE(a.i,function(d,p){a.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=ki.prototype,t.add=function(a,d){mr(this),this.i=null,a=Ps(this,a);var p=this.g.get(a);return p||this.g.set(a,p=[]),p.push(d),this.h+=1,this};function Hd(a,d){mr(a),d=Ps(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function qd(a,d){return mr(a),d=Ps(a,d),a.g.has(d)}t.forEach=function(a,d){mr(this),this.g.forEach(function(p,v){p.forEach(function(M){a.call(d,M,v,this)},this)},this)},t.na=function(){mr(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let v=0;v<d.length;v++){const M=a[v];for(let j=0;j<M.length;j++)p.push(d[v])}return p},t.V=function(a){mr(this);let d=[];if(typeof a=="string")qd(this,a)&&(d=d.concat(this.g.get(Ps(this,a))));else{a=Array.from(this.g.values());for(let p=0;p<a.length;p++)d=d.concat(a[p])}return d},t.set=function(a,d){return mr(this),this.i=null,a=Ps(this,a),qd(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Wd(a,d,p){Hd(a,d),0<p.length&&(a.i=null,a.g.set(Ps(a,d),N(p)),a.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var v=d[p];const j=encodeURIComponent(String(v)),ne=this.V(v);for(v=0;v<ne.length;v++){var M=j;ne[v]!==""&&(M+="="+encodeURIComponent(String(ne[v]))),a.push(M)}}return this.i=a.join("&")};function Ps(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function TE(a,d){d&&!a.j&&(mr(a),a.i=null,a.g.forEach(function(p,v){var M=v.toLowerCase();v!=M&&(Hd(this,v),Wd(this,M,p))},a)),a.j=d}function bE(a,d){const p=new tt;if(l.Image){const v=new Image;v.onload=y(gr,p,"TestLoadImage: loaded",!0,d,v),v.onerror=y(gr,p,"TestLoadImage: error",!1,d,v),v.onabort=y(gr,p,"TestLoadImage: abort",!1,d,v),v.ontimeout=y(gr,p,"TestLoadImage: timeout",!1,d,v),l.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=a}else d(!1)}function IE(a,d){const p=new tt,v=new AbortController,M=setTimeout(()=>{v.abort(),gr(p,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:v.signal}).then(j=>{clearTimeout(M),j.ok?gr(p,"TestPingServer: ok",!0,d):gr(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(M),gr(p,"TestPingServer: error",!1,d)})}function gr(a,d,p,v,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),v(p)}catch{}}function AE(){this.g=new lt}function RE(a,d,p){const v=p||"";try{Ud(a,function(M,j){let ne=M;h(M)&&(ne=_t(M)),d.push(v+j+"="+encodeURIComponent(ne))})}catch(M){throw d.push(v+"type="+encodeURIComponent("_badmap")),M}}function ha(a){this.l=a.Ub||null,this.j=a.eb||!1}O(ha,Rn),ha.prototype.g=function(){return new da(this.l,this.j)},ha.prototype.i=function(a){return function(){return a}}({});function da(a,d){ve.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(da,ve),t=da.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Di(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Oi(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Kd(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Kd(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Oi(this):Di(this),this.readyState==3&&Kd(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Oi(this))},t.Qa=function(a){this.g&&(this.response=a,Oi(this))},t.ga=function(){this.g&&Oi(this)};function Oi(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Di(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,a.push(p[0]+": "+p[1]),p=d.next();return a.join(`\r
`)};function Di(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(da.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function zd(a){let d="";return H(a,function(p,v){d+=v,d+=":",d+=p,d+=`\r
`}),d}function Sc(a,d,p){e:{for(v in p){var v=!1;break e}v=!0}v||(p=zd(p),typeof a=="string"?p!=null&&encodeURIComponent(String(p)):nt(a,d,p))}function ct(a){ve.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(ct,ve);var SE=/^https?$/i,PE=["POST","PUT"];t=ct.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,p,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Rs.g(),this.v=this.o?ia(this.o):ia(Rs),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(j){Gd(this,j);return}if(a=p||"",p=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var M in v)p.set(M,v[M]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(const j of v.keys())p.set(j,v.get(j));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(p.keys()).find(j=>j.toLowerCase()=="content-type"),M=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(PE,d,void 0))||v||M||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,ne]of p)this.g.setRequestHeader(j,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jd(this),this.u=!0,this.g.send(a),this.u=!1}catch(j){Gd(this,j)}};function Gd(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Qd(a),fa(a)}function Qd(a){a.A||(a.A=!0,Pe(a,"complete"),Pe(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,Pe(this,"complete"),Pe(this,"abort"),fa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fa(this,!0)),ct.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Yd(this):this.bb())},t.bb=function(){Yd(this)};function Yd(a){if(a.h&&typeof o<"u"&&(!a.v[1]||$n(a)!=4||a.Z()!=2)){if(a.u&&$n(a)==4)at(a.Ea,0,a);else if(Pe(a,"readystatechange"),$n(a)==4){a.h=!1;try{const ne=a.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var v;if(v=ne===0){var M=String(a.D).match(Bd)[1]||null;!M&&l.self&&l.self.location&&(M=l.self.location.protocol.slice(0,-1)),v=!SE.test(M?M.toLowerCase():"")}p=v}if(p)Pe(a,"complete"),Pe(a,"success");else{a.m=6;try{var j=2<$n(a)?a.g.statusText:""}catch{j=""}a.l=j+" ["+a.Z()+"]",Qd(a)}}finally{fa(a)}}}}function fa(a,d){if(a.g){Jd(a);const p=a.g,v=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||Pe(a,"ready");try{p.onreadystatechange=v}catch{}}}function Jd(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function $n(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Qt(d)}};function Xd(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function CE(a){const d={};a=(a.g&&2<=$n(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<a.length;v++){if(L(a[v]))continue;var p=P(a[v]);const M=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const j=d[M]||[];d[M]=j,j.push(p)}A(d,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vi(a,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[a]||d}function Zd(a){this.Aa=0,this.i=[],this.j=new tt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vi("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vi("baseRetryDelayMs",5e3,a),this.cb=Vi("retryDelaySeedMs",1e4,a),this.Wa=Vi("forwardChannelMaxRetries",2,a),this.wa=Vi("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Nd(a&&a.concurrentRequestLimit),this.Da=new AE,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Zd.prototype,t.la=8,t.G=1,t.connect=function(a,d,p,v){_e(0),this.W=a,this.H=d||{},p&&v!==void 0&&(this.H.OSID=p,this.H.OAID=v),this.F=this.X,this.I=cf(this,null,this.W),ma(this)};function Pc(a){if(ef(a),a.G==3){var d=a.U++,p=jn(a.I);if(nt(p,"SID",a.K),nt(p,"RID",d),nt(p,"TYPE","terminate"),Ni(a,p),d=new Sn(a,a.j,d),d.L=2,d.v=ua(jn(p)),p=!1,l.navigator&&l.navigator.sendBeacon)try{p=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&l.Image&&(new Image().src=d.v,p=!0),p||(d.g=uf(d.j,null),d.g.ea(d.v)),d.F=Date.now(),aa(d)}lf(a)}function pa(a){a.g&&(kc(a),a.g.cancel(),a.g=null)}function ef(a){pa(a),a.u&&(l.clearTimeout(a.u),a.u=null),ga(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function ma(a){if(!xd(a.h)&&!a.s){a.s=!0;var d=a.Ga;ae||Ze(),Z||(ae(),Z=!0),Ie.add(d,a),a.B=0}}function kE(a,d){return Md(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Se(g(a.Ga,a,d),af(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const M=new Sn(this,this.j,a);let j=this.o;if(this.S&&(j?(j=E(j),I(j,this.S)):j=this.S),this.m!==null||this.O||(M.H=j,j=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var v=this.i[p];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(d+=v,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=nf(this,M,d),p=jn(this.I),nt(p,"RID",a),nt(p,"CVER",22),this.D&&nt(p,"X-HTTP-Session-Id",this.D),Ni(this,p),j&&(this.O?d="headers="+encodeURIComponent(String(zd(j)))+"&"+d:this.m&&Sc(p,this.m,j)),Rc(this.h,M),this.Ua&&nt(p,"TYPE","init"),this.P?(nt(p,"$req",d),nt(p,"SID","null"),M.T=!0,Tc(M,p,null)):Tc(M,p,d),this.G=2}}else this.G==3&&(a?tf(this,a):this.i.length==0||xd(this.h)||tf(this))};function tf(a,d){var p;d?p=d.l:p=a.U++;const v=jn(a.I);nt(v,"SID",a.K),nt(v,"RID",p),nt(v,"AID",a.T),Ni(a,v),a.m&&a.o&&Sc(v,a.m,a.o),p=new Sn(a,a.j,p,a.B+1),a.m===null&&(p.H=a.o),d&&(a.i=d.D.concat(a.i)),d=nf(a,p,1e3),p.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),Rc(a.h,p),Tc(p,v,d)}function Ni(a,d){a.H&&H(a.H,function(p,v){nt(d,v,p)}),a.l&&Ud({},function(p,v){nt(d,v,p)})}function nf(a,d,p){p=Math.min(a.i.length,p);var v=a.l?g(a.l.Na,a.l,a):null;e:{var M=a.i;let j=-1;for(;;){const ne=["count="+p];j==-1?0<p?(j=M[0].g,ne.push("ofs="+j)):j=0:ne.push("ofs="+j);let Qe=!0;for(let Rt=0;Rt<p;Rt++){let $e=M[Rt].g;const Mt=M[Rt].map;if($e-=j,0>$e)j=Math.max(0,M[Rt].g-100),Qe=!1;else try{RE(Mt,ne,"req"+$e+"_")}catch{v&&v(Mt)}}if(Qe){v=ne.join("&");break e}}}return a=a.i.splice(0,p),d.D=a,v}function rf(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;ae||Ze(),Z||(ae(),Z=!0),Ie.add(d,a),a.v=0}}function Cc(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Se(g(a.Fa,a),af(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,sf(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Se(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_e(10),pa(this),sf(this))};function kc(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function sf(a){a.g=new Sn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=jn(a.qa);nt(d,"RID","rpc"),nt(d,"SID",a.K),nt(d,"AID",a.T),nt(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&nt(d,"TO",a.ja),nt(d,"TYPE","xmlhttp"),Ni(a,d),a.m&&a.o&&Sc(d,a.m,a.o),a.L&&(a.g.I=a.L);var p=a.g;a=a.ia,p.L=1,p.v=ua(jn(d)),p.m=null,p.P=!0,Od(p,a)}t.Za=function(){this.C!=null&&(this.C=null,pa(this),Cc(this),_e(19))};function ga(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function of(a,d){var p=null;if(a.g==d){ga(a),kc(a),a.g=null;var v=2}else if(Ac(a.h,d))p=d.D,Ld(a.h,d),v=1;else return;if(a.G!=0){if(d.o)if(v==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var M=a.B;v=k(),Pe(v,new yt(v,p)),ma(a)}else rf(a);else if(M=d.s,M==3||M==0&&0<d.X||!(v==1&&kE(a,d)||v==2&&Cc(a)))switch(p&&0<p.length&&(d=a.h,d.i=d.i.concat(p)),M){case 1:es(a,5);break;case 4:es(a,10);break;case 3:es(a,6);break;default:es(a,2)}}}function af(a,d){let p=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(p*=2),p*d}function es(a,d){if(a.j.info("Error code "+d),d==2){var p=g(a.fb,a),v=a.Xa;const M=!v;v=new Zr(v||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||la(v,"https"),ua(v),M?bE(v.toString(),p):IE(v.toString(),p)}else _e(2);a.G=0,a.l&&a.l.sa(d),lf(a),ef(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function lf(a){if(a.G=0,a.ka=[],a.l){const d=Fd(a.h);(d.length!=0||a.i.length!=0)&&(F(a.ka,d),F(a.ka,a.i),a.h.i.length=0,N(a.i),a.i.length=0),a.l.ra()}}function cf(a,d,p){var v=p instanceof Zr?jn(p):new Zr(p);if(v.g!="")d&&(v.g=d+"."+v.g),ca(v,v.s);else{var M=l.location;v=M.protocol,d=d?d+"."+M.hostname:M.hostname,M=+M.port;var j=new Zr(null);v&&la(j,v),d&&(j.g=d),M&&ca(j,M),p&&(j.l=p),v=j}return p=a.D,d=a.ya,p&&d&&nt(v,p,d),nt(v,"VER",a.la),Ni(a,v),v}function uf(a,d,p){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new ct(new ha({eb:p})):new ct(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function hf(){}t=hf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function _a(){}_a.prototype.g=function(a,d){return new sn(a,d)};function sn(a,d){ve.call(this),this.g=new Zd(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!L(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!L(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Cs(this)}O(sn,ve),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Pc(this.g)},sn.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var p={};p.__data__=a,a=p}else this.u&&(p={},p.__data__=_t(a),a=p);d.i.push(new fE(d.Ya++,a)),d.G==3&&ma(d)},sn.prototype.N=function(){this.g.l=null,delete this.j,Pc(this.g),delete this.g,sn.aa.N.call(this)};function df(a){Ii.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const p in d){a=p;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}O(df,Ii);function ff(){Ai.call(this),this.status=1}O(ff,Ai);function Cs(a){this.g=a}O(Cs,hf),Cs.prototype.ua=function(){Pe(this.g,"a")},Cs.prototype.ta=function(a){Pe(this.g,new df(a))},Cs.prototype.sa=function(a){Pe(this.g,new ff)},Cs.prototype.ra=function(){Pe(this.g,"b")},_a.prototype.createWebChannel=_a.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,iy=function(){return new _a},sy=function(){return k()},ry=m,Vu={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Jr.NO_ERROR=0,Jr.TIMEOUT=8,Jr.HTTP_ERROR=6,Ua=Jr,oa.COMPLETE="complete",ny=oa,Ec.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",ve.prototype.listen=ve.prototype.K,Wi=Ec,ct.prototype.listenOnce=ct.prototype.L,ct.prototype.getLastError=ct.prototype.Ka,ct.prototype.getLastErrorCode=ct.prototype.Ba,ct.prototype.getStatus=ct.prototype.Z,ct.prototype.getResponseJson=ct.prototype.Oa,ct.prototype.getResponseText=ct.prototype.oa,ct.prototype.send=ct.prototype.ea,ct.prototype.setWithCredentials=ct.prototype.Ha,ty=ct}).apply(typeof Ca<"u"?Ca:typeof self<"u"?self:typeof window<"u"?window:{});const Sp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vi="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Oh("@firebase/firestore");function Ui(){return ps.logLevel}function me(t,...e){if(ps.logLevel<=Me.DEBUG){const n=e.map(Nh);ps.debug(`Firestore (${vi}): ${t}`,...n)}}function ar(t,...e){if(ps.logLevel<=Me.ERROR){const n=e.map(Nh);ps.error(`Firestore (${vi}): ${t}`,...n)}}function ai(t,...e){if(ps.logLevel<=Me.WARN){const n=e.map(Nh);ps.warn(`Firestore (${vi}): ${t}`,...n)}}function Nh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t="Unexpected state"){const e=`FIRESTORE (${vi}) INTERNAL ASSERTION FAILED: `+t;throw ar(e),new Error(e)}function ze(t,e){t||Ce()}function Oe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ZA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class eR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tR{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Zn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Zn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Zn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new oy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Bt(e)}}class nR{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rR{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new nR(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ze(this.o===void 0);const r=i=>{i.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,me("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new sR(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oR(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=oR(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function He(t,e){return t<e?-1:t>e?1:0}function li(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new he(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new wt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new wt(0,0))}static max(){return new ke(new wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(),r===void 0?r=e.length-n:r>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return To.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof To?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rt extends To{construct(e,n,r){return new rt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const aR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends To{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return aR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new he(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new he(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new he(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new he(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}function lR(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(r===1e9?new wt(n+1,0):new wt(n,r));return new $r(s,ye.empty(),e)}function cR(t){return new $r(t.readTime,t.key,-1)}class $r{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $r(ke.min(),ye.empty(),-1)}static max(){return new $r(ke.max(),ye.empty(),-1)}}function uR(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:He(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qo(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==hR)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Y((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Y?n:Y.resolve(n)}catch(n){return Y.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Y.reject(n)}static resolve(e){return new Y((n,r)=>{n(e)})}static reject(e){return new Y((n,r)=>{r(e)})}static waitFor(e){return new Y((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=Y.resolve(!1);for(const r of e)n=n.next(s=>s?Y.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new Y((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const h=c;n(e[h]).next(u=>{o[h]=u,++l,l===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new Y((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function fR(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}xh.oe=-1;function Jl(t){return t==null}function gl(t){return t===0&&1/t==-1/0}function pR(t){return typeof t=="number"&&Number.isInteger(t)&&!gl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ly(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||St.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,St.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,St.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ka(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ka(this.root,e,this.comparator,!1)}getReverseIterator(){return new ka(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ka(this.root,e,this.comparator,!0)}}class ka{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class St{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??St.RED,this.left=s??St.EMPTY,this.right=i??St.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new St(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return St.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return St.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,St.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,St.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}St.EMPTY=null,St.RED=!0,St.BLACK=!1;St.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,r,s,i){return this}insert(e,n,r){return new St(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cp(this.data.getIterator())}getIteratorFrom(e){return new Cp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class Cp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new on([])}unionWith(e){let n=new Vt(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new on(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return li(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new cy("Invalid base64 string: "+i):i}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const mR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hr(t){if(ze(!!t),typeof t=="string"){let e=0;const n=mR.exec(t);if(ze(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ms(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Lh(t){const e=t.mapValue.fields.__previous_value__;return Mh(e)?Lh(e):e}function bo(t){const e=Hr(t.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,s,i,o,l,c,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=h}}class Io{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Io("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Io&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mh(t)?4:yR(t)?9007199254740991:_R(t)?10:11:Ce()}function Fn(t,e){if(t===e)return!0;const n=gs(t);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bo(t).isEqual(bo(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Hr(s.timestampValue),l=Hr(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ms(s.bytesValue).isEqual(ms(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ht(s.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ht(s.integerValue)===ht(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ht(s.doubleValue),l=ht(i.doubleValue);return o===l?gl(o)===gl(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return li(t.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(Pp(o)!==Pp(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!Fn(o[c],l[c])))return!1;return!0}(t,e);default:return Ce()}}function Ao(t,e){return(t.values||[]).find(n=>Fn(n,e))!==void 0}function ci(t,e){if(t===e)return 0;const n=gs(t),r=gs(e);if(n!==r)return He(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return He(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=ht(i.integerValue||i.doubleValue),c=ht(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return kp(t.timestampValue,e.timestampValue);case 4:return kp(bo(t),bo(e));case 5:return He(t.stringValue,e.stringValue);case 6:return function(i,o){const l=ms(i),c=ms(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let h=0;h<l.length&&h<c.length;h++){const u=He(l[h],c[h]);if(u!==0)return u}return He(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=He(ht(i.latitude),ht(o.latitude));return l!==0?l:He(ht(i.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Op(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,h,u;const f=i.fields||{},g=o.fields||{},y=(l=f.value)===null||l===void 0?void 0:l.arrayValue,O=(c=g.value)===null||c===void 0?void 0:c.arrayValue,N=He(((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0,((u=O==null?void 0:O.values)===null||u===void 0?void 0:u.length)||0);return N!==0?N:Op(y,O)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Oa.mapValue&&o===Oa.mapValue)return 0;if(i===Oa.mapValue)return 1;if(o===Oa.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),h=o.fields||{},u=Object.keys(h);c.sort(),u.sort();for(let f=0;f<c.length&&f<u.length;++f){const g=He(c[f],u[f]);if(g!==0)return g;const y=ci(l[c[f]],h[u[f]]);if(y!==0)return y}return He(c.length,u.length)}(t.mapValue,e.mapValue);default:throw Ce()}}function kp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return He(t,e);const n=Hr(t),r=Hr(e),s=He(n.seconds,r.seconds);return s!==0?s:He(n.nanos,r.nanos)}function Op(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ci(n[s],r[s]);if(i)return i}return He(n.length,r.length)}function ui(t){return Nu(t)}function Nu(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Hr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ms(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Nu(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Nu(n.fields[o])}`;return s+"}"}(t.mapValue):Ce()}function Dp(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function xu(t){return!!t&&"integerValue"in t}function Fh(t){return!!t&&"arrayValue"in t}function Vp(t){return!!t&&"nullValue"in t}function Np(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ba(t){return!!t&&"mapValue"in t}function _R(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function io(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ws(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=io(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=io(t.arrayValue.values[n]);return e}return Object.assign({},t)}function yR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ba(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=io(n)}setAll(e){let n=kt.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=io(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ba(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ba(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ws(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new en(io(this.value))}}function uy(t){const e=[];return ws(t.fields,(n,r)=>{const s=new kt([n]);if(Ba(r)){const i=uy(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new on(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new $t(e,0,ke.min(),ke.min(),ke.min(),en.empty(),0)}static newFoundDocument(e,n,r,s){return new $t(e,1,n,ke.min(),r,s,0)}static newNoDocument(e,n){return new $t(e,2,n,ke.min(),ke.min(),en.empty(),0)}static newUnknownDocument(e,n){return new $t(e,3,n,ke.min(),ke.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n){this.position=e,this.inclusive=n}}function xp(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ye.comparator(ye.fromName(o.referenceValue),n.key):r=ci(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Mp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n="asc"){this.field=e,this.dir=n}}function vR(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{}class gt extends hy{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new wR(e,n,r):n==="array-contains"?new IR(e,r):n==="in"?new AR(e,r):n==="not-in"?new RR(e,r):n==="array-contains-any"?new SR(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new TR(e,r):new bR(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ci(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(ci(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bn extends hy{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new bn(e,n)}matches(e){return dy(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function dy(t){return t.op==="and"}function fy(t){return ER(t)&&dy(t)}function ER(t){for(const e of t.filters)if(e instanceof bn)return!1;return!0}function Mu(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+ui(t.value);if(fy(t))return t.filters.map(e=>Mu(e)).join(",");{const e=t.filters.map(n=>Mu(n)).join(",");return`${t.op}(${e})`}}function py(t,e){return t instanceof gt?function(r,s){return s instanceof gt&&r.op===s.op&&r.field.isEqual(s.field)&&Fn(r.value,s.value)}(t,e):t instanceof bn?function(r,s){return s instanceof bn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&py(o,s.filters[l]),!0):!1}(t,e):void Ce()}function my(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${ui(n.value)}`}(t):t instanceof bn?function(n){return n.op.toString()+" {"+n.getFilters().map(my).join(" ,")+"}"}(t):"Filter"}class wR extends gt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class TR extends gt{constructor(e,n){super(e,"in",n),this.keys=gy("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class bR extends gt{constructor(e,n){super(e,"not-in",n),this.keys=gy("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gy(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class IR extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fh(n)&&Ao(n.arrayValue,this.value)}}class AR extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ao(this.value.arrayValue,n)}}class RR extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ao(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ao(this.value.arrayValue,n)}}class SR extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ao(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.ue=null}}function Lp(t,e=null,n=[],r=[],s=null,i=null,o=null){return new PR(t,e,n,r,s,i,o)}function Uh(t){const e=Oe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Mu(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Jl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ui(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ui(r)).join(",")),e.ue=n}return e.ue}function Bh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!vR(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!py(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mp(t.startAt,e.startAt)&&Mp(t.endAt,e.endAt)}function Lu(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function CR(t,e,n,r,s,i,o,l){return new Ko(t,e,n,r,s,i,o,l)}function Xl(t){return new Ko(t)}function Fp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _y(t){return t.collectionGroup!==null}function oo(t){const e=Oe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new Vt(kt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(h=>{h.isInequality()&&(l=l.add(h.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new yl(i,r))}),n.has(kt.keyField().canonicalString())||e.ce.push(new yl(kt.keyField(),r))}return e.ce}function Vn(t){const e=Oe(t);return e.le||(e.le=kR(e,oo(t))),e.le}function kR(t,e){if(t.limitType==="F")return Lp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new yl(s.field,i)});const n=t.endAt?new _l(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _l(t.startAt.position,t.startAt.inclusive):null;return Lp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Fu(t,e){const n=t.filters.concat([e]);return new Ko(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Uu(t,e,n){return new Ko(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zl(t,e){return Bh(Vn(t),Vn(e))&&t.limitType===e.limitType}function yy(t){return`${Uh(Vn(t))}|lt:${t.limitType}`}function Ms(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>my(s)).join(", ")}]`),Jl(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ui(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ui(s)).join(",")),`Target(${r})`}(Vn(t))}; limitType=${t.limitType})`}function ec(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ye.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of oo(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const h=xp(o,l,c);return o.inclusive?h<=0:h<0}(r.startAt,oo(r),s)||r.endAt&&!function(o,l,c){const h=xp(o,l,c);return o.inclusive?h>=0:h>0}(r.endAt,oo(r),s))}(t,e)}function OR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vy(t){return(e,n)=>{let r=!1;for(const s of oo(t)){const i=DR(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function DR(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),h=l.data.field(i);return c!==null&&h!==null?ci(c,h):Ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return ly(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=new ot(ye.comparator);function lr(){return VR}const Ey=new ot(ye.comparator);function Ki(...t){let e=Ey;for(const n of t)e=e.insert(n.key,n);return e}function wy(t){let e=Ey;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ss(){return ao()}function Ty(){return ao()}function ao(){return new Ei(t=>t.toString(),(t,e)=>t.isEqual(e))}const NR=new ot(ye.comparator),xR=new Vt(ye.comparator);function xe(...t){let e=xR;for(const n of t)e=e.add(n);return e}const MR=new Vt(He);function LR(){return MR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gl(e)?"-0":e}}function by(t){return{integerValue:""+t}}function Iy(t,e){return pR(e)?by(e):jh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(){this._=void 0}}function FR(t,e,n){return t instanceof Ro?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Mh(i)&&(i=Lh(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof So?Ry(t,e):t instanceof Po?Sy(t,e):function(s,i){const o=Ay(s,i),l=Up(o)+Up(s.Pe);return xu(o)&&xu(s.Pe)?by(l):jh(s.serializer,l)}(t,e)}function UR(t,e,n){return t instanceof So?Ry(t,e):t instanceof Po?Sy(t,e):n}function Ay(t,e){return t instanceof Co?function(r){return xu(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ro extends tc{}class So extends tc{constructor(e){super(),this.elements=e}}function Ry(t,e){const n=Py(e);for(const r of t.elements)n.some(s=>Fn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Po extends tc{constructor(e){super(),this.elements=e}}function Sy(t,e){let n=Py(e);for(const r of t.elements)n=n.filter(s=>!Fn(s,r));return{arrayValue:{values:n}}}class Co extends tc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Up(t){return ht(t.integerValue||t.doubleValue)}function Py(t){return Fh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){this.field=e,this.transform=n}}function BR(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof So&&s instanceof So||r instanceof Po&&s instanceof Po?li(r.elements,s.elements,Fn):r instanceof Co&&s instanceof Co?Fn(r.Pe,s.Pe):r instanceof Ro&&s instanceof Ro}(t.transform,e.transform)}class jR{constructor(e,n){this.version=e,this.transformResults=n}}class pn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pn}static exists(e){return new pn(void 0,e)}static updateTime(e){return new pn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ja(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class nc{}function ky(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $h(t.key,pn.none()):new zo(t.key,t.data,pn.none());{const n=t.data,r=en.empty();let s=new Vt(kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Wr(t.key,r,new on(s.toArray()),pn.none())}}function $R(t,e,n){t instanceof zo?function(s,i,o){const l=s.value.clone(),c=jp(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Wr?function(s,i,o){if(!ja(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=jp(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(Oy(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function lo(t,e,n,r){return t instanceof zo?function(i,o,l,c){if(!ja(i.precondition,o))return l;const h=i.value.clone(),u=$p(i.fieldTransforms,c,o);return h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wr?function(i,o,l,c){if(!ja(i.precondition,o))return l;const h=$p(i.fieldTransforms,c,o),u=o.data;return u.setAll(Oy(i)),u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,l){return ja(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function HR(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Ay(r.transform,s||null);i!=null&&(n===null&&(n=en.empty()),n.set(r.field,i))}return n||null}function Bp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&li(r,s,(i,o)=>BR(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class zo extends nc{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Wr extends nc{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Oy(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function jp(t,e,n){const r=new Map;ze(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,UR(o,l,n[s]))}return r}function $p(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,FR(i,o,e))}return r}class $h extends nc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qR extends nc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&$R(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=lo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=lo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Ty();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=ky(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),xe())}isEqual(e){return this.batchId===e.batchId&&li(this.mutations,e.mutations,(n,r)=>Bp(n,r))&&li(this.baseMutations,e.baseMutations,(n,r)=>Bp(n,r))}}class Hh{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){ze(e.mutations.length===r.length);let s=function(){return NR}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Hh(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Fe;function GR(t){switch(t){default:return Ce();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function Dy(t){if(t===void 0)return ar("GRPC error has no .code"),z.UNKNOWN;switch(t){case pt.OK:return z.OK;case pt.CANCELLED:return z.CANCELLED;case pt.UNKNOWN:return z.UNKNOWN;case pt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case pt.INTERNAL:return z.INTERNAL;case pt.UNAVAILABLE:return z.UNAVAILABLE;case pt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case pt.NOT_FOUND:return z.NOT_FOUND;case pt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case pt.ABORTED:return z.ABORTED;case pt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case pt.DATA_LOSS:return z.DATA_LOSS;default:return Ce()}}(Fe=pt||(pt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new cs([4294967295,4294967295],0);function Hp(t){const e=QR().encode(t),n=new ey;return n.update(e),new Uint8Array(n.digest())}function qp(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new cs([n,r],0),new cs([s,i],0)]}class qh{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new zi(`Invalid padding: ${n}`);if(r<0)throw new zi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new zi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new zi(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=cs.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(cs.fromNumber(r)));return s.compare(YR)===1&&(s=new cs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Hp(e),[r,s]=qp(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new qh(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.Ie===0)return;const n=Hp(e),[r,s]=qp(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class zi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Go.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rc(ke.min(),s,new ot(He),lr(),xe())}}class Go{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Go(r,n,xe(),xe(),xe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class Vy{constructor(e,n){this.targetId=e,this.me=n}}class Ny{constructor(e,n,r=Nt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Wp{constructor(){this.fe=0,this.ge=zp(),this.pe=Nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=xe(),n=xe(),r=xe();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ce()}}),new Go(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=zp()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ze(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class JR{constructor(e){this.Le=e,this.Be=new Map,this.ke=lr(),this.qe=Kp(),this.Qe=new ot(He)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Lu(i))if(r===0){const o=new ye(i.path);this.Ue(n,o,$t.newNoDocument(o,ke.min()))}else ze(r===1);else{const o=this.Ye(n);if(o!==r){const l=this.Ze(e),c=l?this.Xe(l,e,o):1;if(c!==0){this.je(n);const h=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,h)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=ms(r).toUint8Array()}catch(c){if(c instanceof cy)return ai("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new qh(o,s,i)}catch(c){return ai(c instanceof zi?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const l=this.Je(o);if(l){if(i.current&&Lu(l.target)){const c=new ye(l.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,$t.newNoDocument(c,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=xe();this.qe.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const h=this.Je(c);return!h||h.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new rc(e,n,this.Qe,this.ke,r);return this.ke=lr(),this.qe=Kp(),this.Qe=new ot(He),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Wp,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Vt(He),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Wp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Kp(){return new ot(ye.comparator)}function zp(){return new ot(ye.comparator)}const XR=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),ZR=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),eS=(()=>({and:"AND",or:"OR"}))();class tS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Bu(t,e){return t.useProto3Json||Jl(e)?e:{value:e}}function vl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xy(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function nS(t,e){return vl(t,e.toTimestamp())}function Nn(t){return ze(!!t),ke.fromTimestamp(function(n){const r=Hr(n);return new wt(r.seconds,r.nanos)}(t))}function Wh(t,e){return ju(t,e).canonicalString()}function ju(t,e){const n=function(s){return new rt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function My(t){const e=rt.fromString(t);return ze(jy(e)),e}function $u(t,e){return Wh(t.databaseId,e.path)}function Xc(t,e){const n=My(e);if(n.get(1)!==t.databaseId.projectId)throw new he(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new he(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(Fy(n))}function Ly(t,e){return Wh(t.databaseId,e)}function rS(t){const e=My(t);return e.length===4?rt.emptyPath():Fy(e)}function Hu(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Fy(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Gp(t,e,n){return{name:$u(t,e),fields:n.value.mapValue.fields}}function sS(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(h,u){return h.useProto3Json?(ze(u===void 0||typeof u=="string"),Nt.fromBase64String(u||"")):(ze(u===void 0||u instanceof Buffer||u instanceof Uint8Array),Nt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(h){const u=h.code===void 0?z.UNKNOWN:Dy(h.code);return new he(u,h.message||"")}(o);n=new Ny(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Xc(t,r.document.name),i=Nn(r.document.updateTime),o=r.document.createTime?Nn(r.document.createTime):ke.min(),l=new en({mapValue:{fields:r.document.fields}}),c=$t.newFoundDocument(s,i,o,l),h=r.targetIds||[],u=r.removedTargetIds||[];n=new $a(h,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Xc(t,r.document),i=r.readTime?Nn(r.readTime):ke.min(),o=$t.newNoDocument(s,i),l=r.removedTargetIds||[];n=new $a([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Xc(t,r.document),i=r.removedTargetIds||[];n=new $a([],i,s,null)}else{if(!("filter"in e))return Ce();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new zR(s,i),l=r.targetId;n=new Vy(l,o)}}return n}function iS(t,e){let n;if(e instanceof zo)n={update:Gp(t,e.key,e.value)};else if(e instanceof $h)n={delete:$u(t,e.key)};else if(e instanceof Wr)n={update:Gp(t,e.key,e.data),updateMask:pS(e.fieldMask)};else{if(!(e instanceof qR))return Ce();n={verify:$u(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof Ro)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof So)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Po)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Co)return{fieldPath:o.field.canonicalString(),increment:l.Pe};throw Ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:nS(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ce()}(t,e.precondition)),n}function oS(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Nn(s.updateTime):Nn(i);return o.isEqual(ke.min())&&(o=Nn(i)),new jR(o,s.transformResults||[])}(n,e))):[]}function aS(t,e){return{documents:[Ly(t,e.path)]}}function lS(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ly(t,s);const i=function(h){if(h.length!==0)return By(bn.create(h,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(h){if(h.length!==0)return h.map(u=>function(g){return{field:Ls(g.field),direction:hS(g.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=Bu(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{_t:n,parent:s}}function cS(t){let e=rS(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){ze(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(f){const g=Uy(f);return g instanceof bn&&fy(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(g=>function(O){return new yl(Fs(O.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(O.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(f){let g;return g=typeof f=="object"?f.value:f,Jl(g)?null:g}(n.limit));let c=null;n.startAt&&(c=function(f){const g=!!f.before,y=f.values||[];return new _l(y,g)}(n.startAt));let h=null;return n.endAt&&(h=function(f){const g=!f.before,y=f.values||[];return new _l(y,g)}(n.endAt)),CR(e,s,o,i,l,"F",c,h)}function uS(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Uy(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fs(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Fs(n.unaryFilter.field);return gt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fs(n.unaryFilter.field);return gt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Fs(n.unaryFilter.field);return gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(t):t.fieldFilter!==void 0?function(n){return gt.create(Fs(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return bn.create(n.compositeFilter.filters.map(r=>Uy(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(t):Ce()}function hS(t){return XR[t]}function dS(t){return ZR[t]}function fS(t){return eS[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function Fs(t){return kt.fromServerFormat(t.fieldPath)}function By(t){return t instanceof gt?function(n){if(n.op==="=="){if(Np(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NAN"}};if(Vp(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Np(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NAN"}};if(Vp(n.value))return{unaryFilter:{field:Ls(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(n.field),op:dS(n.op),value:n.value}}}(t):t instanceof bn?function(n){const r=n.getFilters().map(s=>By(s));return r.length===1?r[0]:{compositeFilter:{op:fS(n.op),filters:r}}}(t):Ce()}function pS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jy(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,r,s,i=ke.min(),o=ke.min(),l=Nt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new Or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e){this.ct=e}}function gS(t){const e=cS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Uu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(){this.un=new yS}addToCollectionParentIndex(e,n){return this.un.add(n),Y.resolve()}getCollectionParents(e,n){return Y.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Y.resolve()}deleteFieldIndex(e,n){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,n){return Y.resolve()}getDocumentsMatchingTarget(e,n){return Y.resolve(null)}getIndexType(e,n){return Y.resolve(0)}getFieldIndexes(e,n){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,n){return Y.resolve($r.min())}getMinOffsetFromCollectionGroup(e,n){return Y.resolve($r.min())}updateCollectionGroup(e,n,r){return Y.resolve()}updateIndexEntries(e,n){return Y.resolve()}}class yS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Vt(rt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Vt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new hi(0)}static kn(){return new hi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(){this.changes=new Ei(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Y.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&lo(r.mutation,s,on.empty(),wt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,xe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=xe()){const s=ss();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Ki();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ss();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,xe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=lr();const o=ao(),l=function(){return ao()}();return n.forEach((c,h)=>{const u=r.get(h.key);s.has(h.key)&&(u===void 0||u.mutation instanceof Wr)?i=i.insert(h.key,h):u!==void 0?(o.set(h.key,u.mutation.getFieldMask()),lo(u.mutation,h,u.mutation.getFieldMask(),wt.now())):o.set(h.key,on.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((h,u)=>o.set(h,u)),n.forEach((h,u)=>{var f;return l.set(h,new ES(u,(f=o.get(h))!==null&&f!==void 0?f:null))}),l))}recalculateAndSaveOverlays(e,n){const r=ao();let s=new ot((o,l)=>o-l),i=xe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const h=n.get(c);if(h===null)return;let u=r.get(c)||on.empty();u=l.applyToLocalView(h,u),r.set(c,u);const f=(s.get(l.batchId)||xe()).add(c);s=s.insert(l.batchId,f)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),h=c.key,u=c.value,f=Ty();u.forEach(g=>{if(!i.has(g)){const y=ky(n.get(g),r.get(g));y!==null&&f.set(g,y),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,h,f))}return Y.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_y(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):Y.resolve(ss());let l=-1,c=i;return o.next(h=>Y.forEach(h,(u,f)=>(l<f.largestBatchId&&(l=f.largestBatchId),i.get(u)?Y.resolve():this.remoteDocumentCache.getEntry(e,u).next(g=>{c=c.insert(u,g)}))).next(()=>this.populateOverlays(e,h,i)).next(()=>this.computeViews(e,c,h,xe())).next(u=>({batchId:l,changes:wy(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let s=Ki();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Ki();return this.indexManager.getCollectionParents(e,i).next(l=>Y.forEach(l,c=>{const h=function(f,g){return new Ko(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(u=>{u.forEach((f,g)=>{o=o.insert(f,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,h)=>{const u=h.getKey();o.get(u)===null&&(o=o.insert(u,$t.newInvalidDocument(u)))});let l=Ki();return o.forEach((c,h)=>{const u=i.get(c);u!==void 0&&lo(u.mutation,h,on.empty(),wt.now()),ec(n,h)&&(l=l.insert(c,h))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Y.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Nn(s.createTime)}}(n)),Y.resolve()}getNamedQuery(e,n){return Y.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:gS(s.bundledQuery),readTime:Nn(s.readTime)}}(n)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this.overlays=new ot(ye.comparator),this.Ir=new Map}getOverlay(e,n){return Y.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ss();return Y.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),Y.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),Y.resolve()}getOverlaysForCollection(e,n,r){const s=ss(),i=n.length+1,o=new ye(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,h=c.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return Y.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ot((h,u)=>h-u);const o=this.overlays.getIterator();for(;o.hasNext();){const h=o.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let u=i.get(h.largestBatchId);u===null&&(u=ss(),i=i.insert(h.largestBatchId,u)),u.set(h.getKey(),h)}}const l=ss(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((h,u)=>l.set(h,u)),!(l.size()>=s)););return Y.resolve(l)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new KR(n,r));let i=this.Ir.get(n);i===void 0&&(i=xe(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this.Tr=new Vt(Tt.Er),this.dr=new Vt(Tt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Tt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Tt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ye(new rt([])),r=new Tt(n,e),s=new Tt(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ye(new rt([])),r=new Tt(n,e),s=new Tt(n,e+1);let i=xe();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Tt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Tt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ye.comparator(e.key,n.key)||He(e.wr,n.wr)}static Ar(e,n){return He(e.wr,n.wr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Vt(Tt.Er)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new WR(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.br=this.br.add(new Tt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return Y.resolve(o)}lookupMutationBatch(e,n){return Y.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return Y.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Tt(n,0),s=new Tt(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const l=this.Dr(o.wr);i.push(l)}),Y.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vt(He);return n.forEach(s=>{const i=new Tt(s,0),o=new Tt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],l=>{r=r.add(l.wr)})}),Y.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ye.isDocumentKey(i)||(i=i.child(""));const o=new Tt(new ye(i),0);let l=new Vt(He);return this.br.forEachWhile(c=>{const h=c.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(l=l.add(c.wr)),!0)},o),Y.resolve(this.Cr(l))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Y.forEach(n.mutations,s=>{const i=new Tt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Tt(n,0),s=this.br.firstAfterOrEqual(r);return Y.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.Mr=e,this.docs=function(){return new ot(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Y.resolve(r?r.document.mutableCopy():$t.newInvalidDocument(n))}getEntries(e,n){let r=lr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():$t.newInvalidDocument(s))}),Y.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=lr();const o=n.path,l=new ye(o.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:h,value:{document:u}}=c.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||uR(cR(u),r)<=0||(s.has(u.key)||ec(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return Y.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Ce()}Or(e,n){return Y.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SS(this)}getSize(e){return Y.resolve(this.size)}}class SS extends vS{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),Y.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.persistence=e,this.Nr=new Ei(n=>Uh(n),Bh),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Kh,this.targetCount=0,this.kr=hi.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Y.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new hi(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Y.resolve()}updateTargetData(e,n){return this.Kn(n),Y.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),Y.waitFor(i).next(()=>s)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Y.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Y.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),Y.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Y.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Y.resolve(r)}containsKey(e,n){return Y.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,n){this.qr={},this.overlays={},this.Qr=new xh(0),this.Kr=!1,this.Kr=!0,this.$r=new IS,this.referenceDelegate=e(this),this.Ur=new PS(this),this.indexManager=new _S,this.remoteDocumentCache=function(s){return new RS(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new mS(n),this.Gr=new TS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new AS(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const s=new kS(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return Y.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class kS extends dR{constructor(e){super(),this.currentSequenceNumber=e}}class zh{constructor(e){this.persistence=e,this.Jr=new Kh,this.Yr=null}static Zr(e){return new zh(e)}get Xr(){if(this.Yr)return this.Yr;throw Ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Y.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Y.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Y.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.Xr,r=>{const s=ye.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ke.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Y.or([()=>Y.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=xe(),s=xe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Gh(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DS{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return MI()?8:fR(Wt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new OS;return this.Xi(e,n,o).next(l=>{if(i.result=l,this.zi)return this.es(e,n,o,l.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(Ui()<=Me.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Ms(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Y.resolve()):(Ui()<=Me.DEBUG&&me("QueryEngine","Query:",Ms(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(Ui()<=Me.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Ms(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(n))):Y.resolve())}Yi(e,n){if(Fp(n))return Y.resolve(null);let r=Vn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Uu(n,null,"F"),r=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=xe(...i);return this.Ji.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const h=this.ts(n,l);return this.ns(n,h,o,c.readTime)?this.Yi(e,Uu(n,null,"F")):this.rs(e,h,n,c)}))})))}Zi(e,n,r,s){return Fp(n)||s.isEqual(ke.min())?Y.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?Y.resolve(null):(Ui()<=Me.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ms(n)),this.rs(e,o,n,lR(s,-1)).next(l=>l))})}ts(e,n){let r=new Vt(vy(e));return n.forEach((s,i)=>{ec(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return Ui()<=Me.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Ms(n)),this.Ji.getDocumentsMatchingQuery(e,n,$r.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new ot(He),this._s=new Ei(i=>Uh(i),Bh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wS(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function NS(t,e,n,r){return new VS(t,e,n,r)}async function $y(t,e){const n=Oe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=xe();for(const h of s){o.push(h.batchId);for(const u of h.mutations)c=c.add(u.key)}for(const h of i){l.push(h.batchId);for(const u of h.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:l}))})})}function xS(t,e){const n=Oe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,h,u){const f=h.batch,g=f.keys();let y=Y.resolve();return g.forEach(O=>{y=y.next(()=>u.getEntry(c,O)).next(N=>{const F=h.docVersions.get(O);ze(F!==null),N.version.compareTo(F)<0&&(f.applyToRemoteDocument(N,h),N.isValidDocument()&&(N.setReadTime(h.commitVersion),u.addEntry(N)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=xe();for(let h=0;h<l.mutationResults.length;++h)l.mutationResults[h].transformResults.length>0&&(c=c.add(l.batch.mutations[h].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Hy(t){const e=Oe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function MS(t,e){const n=Oe(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const l=[];e.targetChanges.forEach((u,f)=>{const g=s.get(f);if(!g)return;l.push(n.Ur.removeMatchingKeys(i,u.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,u.addedDocuments,f)));let y=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(Nt.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):u.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(u.resumeToken,r)),s=s.insert(f,y),function(N,F,$){return N.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(g,y,u)&&l.push(n.Ur.updateTargetData(i,y))});let c=lr(),h=xe();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),l.push(LS(i,o,e.documentUpdates).next(u=>{c=u.Ps,h=u.Is})),!r.isEqual(ke.min())){const u=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(u)}return Y.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,h)).next(()=>c)}).then(i=>(n.os=s,i))}function LS(t,e,n){let r=xe(),s=xe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=lr();return n.forEach((l,c)=>{const h=i.get(l);c.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(ke.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!h.isValidDocument()||c.version.compareTo(h.version)>0||c.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):me("LocalStore","Ignoring outdated watch update for ",l,". Current version:",h.version," Watch version:",c.version)}),{Ps:o,Is:s}})}function FS(t,e){const n=Oe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function US(t,e){const n=Oe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,Y.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Or(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function qu(t,e,n){const r=Oe(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Wo(o))throw o;me("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function Qp(t,e,n){const r=Oe(t);let s=ke.min(),i=xe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,h,u){const f=Oe(c),g=f._s.get(u);return g!==void 0?Y.resolve(f.os.get(g)):f.Ur.getTargetData(h,u)}(r,o,Vn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ke.min(),n?i:xe())).next(l=>(BS(r,OR(e),l),{documents:l,Ts:i})))}function BS(t,e,n){let r=t.us.get(e)||ke.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class Yp{constructor(){this.activeTargetIds=LR()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jS{constructor(){this.so=new Yp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Yp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da=null;function Zc(){return Da===null?Da=function(){return 268435456+Math.round(2147483648*Math.random())}():Da++,"0x"+Da.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft="WebChannelConnection";class WS extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const l=Zc(),c=this.xo(n,r.toUriEncodedString());me("RestConnection",`Sending RPC '${n}' ${l}:`,c,s);const h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,i,o),this.No(n,c,h,s).then(u=>(me("RestConnection",`Received RPC '${n}' ${l}: `,u),u),u=>{throw ai("RestConnection",`RPC '${n}' ${l} failed with error: `,u,"url: ",c,"request:",s),u})}Lo(n,r,s,i,o,l){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vi}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=HS[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Zc();return new Promise((o,l)=>{const c=new ty;c.setWithCredentials(!0),c.listenOnce(ny.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ua.NO_ERROR:const u=c.getResponseJson();me(Ft,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Ua.TIMEOUT:me(Ft,`RPC '${e}' ${i} timed out`),l(new he(z.DEADLINE_EXCEEDED,"Request time out"));break;case Ua.HTTP_ERROR:const f=c.getStatus();if(me(Ft,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);const y=g==null?void 0:g.error;if(y&&y.status&&y.message){const O=function(F){const $=F.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf($)>=0?$:z.UNKNOWN}(y.status);l(new he(O,y.message))}else l(new he(z.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new he(z.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{me(Ft,`RPC '${e}' ${i} completed.`)}});const h=JSON.stringify(s);me(Ft,`RPC '${e}' ${i} sending request:`,s),c.send(n,"POST",h,r,15)})}Bo(e,n,r){const s=Zc(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iy(),l=sy(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(c.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");me(Ft,`Creating RPC '${e}' stream ${s}: ${u}`,c);const f=o.createWebChannel(u,c);let g=!1,y=!1;const O=new qS({Io:F=>{y?me(Ft,`Not sending because RPC '${e}' stream ${s} is closed:`,F):(g||(me(Ft,`Opening RPC '${e}' stream ${s} transport.`),f.open(),g=!0),me(Ft,`RPC '${e}' stream ${s} sending:`,F),f.send(F))},To:()=>f.close()}),N=(F,$,L)=>{F.listen($,S=>{try{L(S)}catch(V){setTimeout(()=>{throw V},0)}})};return N(f,Wi.EventType.OPEN,()=>{y||(me(Ft,`RPC '${e}' stream ${s} transport opened.`),O.yo())}),N(f,Wi.EventType.CLOSE,()=>{y||(y=!0,me(Ft,`RPC '${e}' stream ${s} transport closed`),O.So())}),N(f,Wi.EventType.ERROR,F=>{y||(y=!0,ai(Ft,`RPC '${e}' stream ${s} transport errored:`,F),O.So(new he(z.UNAVAILABLE,"The operation could not be completed")))}),N(f,Wi.EventType.MESSAGE,F=>{var $;if(!y){const L=F.data[0];ze(!!L);const S=L,V=S.error||(($=S[0])===null||$===void 0?void 0:$.error);if(V){me(Ft,`RPC '${e}' stream ${s} received error:`,V);const B=V.status;let H=function(w){const I=pt[w];if(I!==void 0)return Dy(I)}(B),A=V.message;H===void 0&&(H=z.INTERNAL,A="Unknown error status: "+B+" with message "+V.message),y=!0,O.So(new he(H,A)),f.close()}else me(Ft,`RPC '${e}' stream ${s} received:`,L),O.bo(L)}}),N(l,ry.STAT_EVENT,F=>{F.stat===Vu.PROXY?me(Ft,`RPC '${e}' stream ${s} detected buffering proxy`):F.stat===Vu.NOPROXY&&me(Ft,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{O.wo()},0),O}}function eu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t){return new tS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(e,n,r,s,i,o,l,c){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qy(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(ar(n.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new he(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KS extends Wy{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=sS(this.serializer,e),r=function(i){if(!("targetChange"in i))return ke.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?Nn(o.readTime):ke.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Hu(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=Lu(c)?{documents:aS(i,c)}:{query:lS(i,c)._t},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=xy(i,o.resumeToken);const h=Bu(i,o.expectedCount);h!==null&&(l.expectedCount=h)}else if(o.snapshotVersion.compareTo(ke.min())>0){l.readTime=vl(i,o.snapshotVersion.toTimestamp());const h=Bu(i,o.expectedCount);h!==null&&(l.expectedCount=h)}return l}(this.serializer,e);const r=uS(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Hu(this.serializer),n.removeTarget=e,this.a_(n)}}class zS extends Wy{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=oS(e.writeResults,e.commitTime),r=Nn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Hu(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>iS(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new he(z.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,ju(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new he(z.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Lo(e,ju(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new he(z.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class QS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ar(n),this.D_=!1):me("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{Ts(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(c){const h=Oe(c);h.L_.add(4),await Qo(h),h.q_.set("Unknown"),h.L_.delete(4),await ic(h)}(this))})}),this.q_=new QS(r,s)}}async function ic(t){if(Ts(t))for(const e of t.B_)await e(!0)}async function Qo(t){for(const e of t.B_)await e(!1)}function Ky(t,e){const n=Oe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Xh(n)?Jh(n):wi(n).r_()&&Yh(n,e))}function Qh(t,e){const n=Oe(t),r=wi(n);n.N_.delete(e),r.r_()&&zy(n,e),n.N_.size===0&&(r.r_()?r.o_():Ts(n)&&n.q_.set("Unknown"))}function Yh(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wi(t).A_(e)}function zy(t,e){t.Q_.xe(e),wi(t).R_(e)}function Jh(t){t.Q_=new JR({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),wi(t).start(),t.q_.v_()}function Xh(t){return Ts(t)&&!wi(t).n_()&&t.N_.size>0}function Ts(t){return Oe(t).L_.size===0}function Gy(t){t.Q_=void 0}async function JS(t){t.q_.set("Online")}async function XS(t){t.N_.forEach((e,n)=>{Yh(t,e)})}async function ZS(t,e){Gy(t),Xh(t)?(t.q_.M_(e),Jh(t)):t.q_.set("Unknown")}async function eP(t,e,n){if(t.q_.set("Online"),e instanceof Ny&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.N_.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.N_.delete(l),s.Q_.removeTarget(l))}(t,e)}catch(r){me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await El(t,r)}else if(e instanceof $a?t.Q_.Ke(e):e instanceof Vy?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ke.min()))try{const r=await Hy(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.Q_.rt(o);return l.targetChanges.forEach((c,h)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.N_.get(h);u&&i.N_.set(h,u.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,h)=>{const u=i.N_.get(c);if(!u)return;i.N_.set(c,u.withResumeToken(Nt.EMPTY_BYTE_STRING,u.snapshotVersion)),zy(i,c);const f=new Or(u.target,c,h,u.sequenceNumber);Yh(i,f)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){me("RemoteStore","Failed to raise snapshot:",r),await El(t,r)}}async function El(t,e,n){if(!Wo(e))throw e;t.L_.add(1),await Qo(t),t.q_.set("Offline"),n||(n=()=>Hy(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ic(t)})}function Qy(t,e){return e().catch(n=>El(t,n,e))}async function oc(t){const e=Oe(t),n=qr(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;tP(e);)try{const s=await FS(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,nP(e,s)}catch(s){await El(e,s)}Yy(e)&&Jy(e)}function tP(t){return Ts(t)&&t.O_.length<10}function nP(t,e){t.O_.push(e);const n=qr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Yy(t){return Ts(t)&&!qr(t).n_()&&t.O_.length>0}function Jy(t){qr(t).start()}async function rP(t){qr(t).p_()}async function sP(t){const e=qr(t);for(const n of t.O_)e.m_(n.mutations)}async function iP(t,e,n){const r=t.O_.shift(),s=Hh.from(r,e,n);await Qy(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await oc(t)}async function oP(t,e){e&&qr(t).V_&&await async function(r,s){if(function(o){return GR(o)&&o!==z.ABORTED}(s.code)){const i=r.O_.shift();qr(r).s_(),await Qy(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await oc(r)}}(t,e),Yy(t)&&Jy(t)}async function Xp(t,e){const n=Oe(t);n.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const r=Ts(n);n.L_.add(3),await Qo(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ic(n)}async function aP(t,e){const n=Oe(t);e?(n.L_.delete(2),await ic(n)):e||(n.L_.add(2),await Qo(n),n.q_.set("Unknown"))}function wi(t){return t.K_||(t.K_=function(n,r,s){const i=Oe(n);return i.w_(),new KS(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:JS.bind(null,t),Ro:XS.bind(null,t),mo:ZS.bind(null,t),d_:eP.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Xh(t)?Jh(t):t.q_.set("Unknown")):(await t.K_.stop(),Gy(t))})),t.K_}function qr(t){return t.U_||(t.U_=function(n,r,s){const i=Oe(n);return i.w_(),new zS(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:rP.bind(null,t),mo:oP.bind(null,t),f_:sP.bind(null,t),g_:iP.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await oc(t)):(await t.U_.stop(),t.O_.length>0&&(me("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Zh(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ed(t,e){if(ar("AsyncQueue",`${e}: ${t}`),Wo(t))return new he(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=Ki(),this.sortedSet=new ot(this.comparator)}static emptySet(e){return new Qs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.W_=new ot(ye.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Ce():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class di{constructor(e,n,r,s,i,o,l,c,h){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=h}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new di(e,n,Qs.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class cP{constructor(){this.queries=em(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=Oe(n),i=s.queries;s.queries=em(),i.forEach((o,l)=>{for(const c of l.j_)c.onError(r)})})(this,new he(z.ABORTED,"Firestore shutting down"))}}function em(){return new Ei(t=>yy(t),Zl)}async function td(t,e){const n=Oe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new lP,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=ed(o,`Initialization of query '${Ms(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&rd(n)}async function nd(t,e){const n=Oe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uP(t,e){const n=Oe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.j_)l.X_(s)&&(r=!0);o.z_=s}}r&&rd(n)}function hP(t,e,n){const r=Oe(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function rd(t){t.Y_.forEach(e=>{e.next()})}var Wu,tm;(tm=Wu||(Wu={})).ea="default",tm.Cache="cache";class sd{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new di(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=di.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Wu.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(e){this.key=e}}class Zy{constructor(e){this.key=e}}class dP{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=xe(),this.mutatedKeys=xe(),this.Aa=vy(e),this.Ra=new Qs(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Zp,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,f)=>{const g=s.get(u),y=ec(this.query,f)?f:null,O=!!g&&this.mutatedKeys.has(g.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let F=!1;g&&y?g.data.isEqual(y.data)?O!==N&&(r.track({type:3,doc:y}),F=!0):this.ga(g,y)||(r.track({type:2,doc:y}),F=!0,(c&&this.Aa(y,c)>0||h&&this.Aa(y,h)<0)&&(l=!0)):!g&&y?(r.track({type:0,doc:y}),F=!0):g&&!y&&(r.track({type:1,doc:g}),F=!0,(c||h)&&(l=!0)),F&&(y?(o=o.add(y),i=N?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Ra:o,fa:r,ns:l,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((u,f)=>function(y,O){const N=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return N(y)-N(O)}(u.type,f.type)||this.Aa(u.doc,f.doc)),this.pa(r),s=s!=null&&s;const l=n&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,h=c!==this.Ea;return this.Ea=c,o.length!==0||h?{snapshot:new di(this.query,e.Ra,i,o,e.mutatedKeys,c===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Zp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=xe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Zy(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Xy(r))}),n}ba(e){this.Ta=e.Ts,this.da=xe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return di.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class fP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pP{constructor(e){this.key=e,this.va=!1}}class mP{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ei(l=>yy(l),Zl),this.Ma=new Map,this.xa=new Set,this.Oa=new ot(ye.comparator),this.Na=new Map,this.La=new Kh,this.Ba={},this.ka=new Map,this.qa=hi.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function gP(t,e,n=!0){const r=iv(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await ev(r,e,n,!0),s}async function _P(t,e){const n=iv(t);await ev(n,e,!0,!1)}async function ev(t,e,n,r){const s=await US(t.localStore,Vn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await yP(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Ky(t.remoteStore,s),l}async function yP(t,e,n,r,s){t.Ka=(f,g,y)=>async function(N,F,$,L){let S=F.view.ma($);S.ns&&(S=await Qp(N.localStore,F.query,!1).then(({documents:A})=>F.view.ma(A,S)));const V=L&&L.targetChanges.get(F.targetId),B=L&&L.targetMismatches.get(F.targetId)!=null,H=F.view.applyChanges(S,N.isPrimaryClient,V,B);return rm(N,F.targetId,H.wa),H.snapshot}(t,f,g,y);const i=await Qp(t.localStore,e,!0),o=new dP(e,i.Ts),l=o.ma(i.documents),c=Go.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),h=o.applyChanges(l,t.isPrimaryClient,c);rm(t,n,h.wa);const u=new fP(e,n,o);return t.Fa.set(e,u),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),h.snapshot}async function vP(t,e,n){const r=Oe(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Zl(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await qu(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Qh(r.remoteStore,s.targetId),Ku(r,s.targetId)}).catch(qo)):(Ku(r,s.targetId),await qu(r.localStore,s.targetId,!0))}async function EP(t,e){const n=Oe(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Qh(n.remoteStore,r.targetId))}async function wP(t,e,n){const r=PP(t);try{const s=await function(o,l){const c=Oe(o),h=wt.now(),u=l.reduce((y,O)=>y.add(O.key),xe());let f,g;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let O=lr(),N=xe();return c.cs.getEntries(y,u).next(F=>{O=F,O.forEach(($,L)=>{L.isValidDocument()||(N=N.add($))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,O)).next(F=>{f=F;const $=[];for(const L of l){const S=HR(L,f.get(L.key).overlayedDocument);S!=null&&$.push(new Wr(L.key,S,uy(S.value.mapValue),pn.exists(!0)))}return c.mutationQueue.addMutationBatch(y,h,$,l)}).next(F=>{g=F;const $=F.applyToLocalDocumentSet(f,N);return c.documentOverlayCache.saveOverlays(y,F.batchId,$)})}).then(()=>({batchId:g.batchId,changes:wy(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let h=o.Ba[o.currentUser.toKey()];h||(h=new ot(He)),h=h.insert(l,c),o.Ba[o.currentUser.toKey()]=h}(r,s.batchId,n),await Yo(r,s.changes),await oc(r.remoteStore)}catch(s){const i=ed(s,"Failed to persist write");n.reject(i)}}async function tv(t,e){const n=Oe(t);try{const r=await MS(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?ze(o.va):s.removedDocuments.size>0&&(ze(o.va),o.va=!1))}),await Yo(n,r,e)}catch(r){await qo(r)}}function nm(t,e,n){const r=Oe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const l=o.view.Z_(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=Oe(o);c.onlineState=l;let h=!1;c.queries.forEach((u,f)=>{for(const g of f.j_)g.Z_(l)&&(h=!0)}),h&&rd(c)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function TP(t,e,n){const r=Oe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new ot(ye.comparator);o=o.insert(i,$t.newNoDocument(i,ke.min()));const l=xe().add(i),c=new rc(ke.min(),new Map,new ot(He),o,l);await tv(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),id(r)}else await qu(r.localStore,e,!1).then(()=>Ku(r,e,n)).catch(qo)}async function bP(t,e){const n=Oe(t),r=e.batch.batchId;try{const s=await xS(n.localStore,e);rv(n,r,null),nv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yo(n,s)}catch(s){await qo(s)}}async function IP(t,e,n){const r=Oe(t);try{const s=await function(o,l){const c=Oe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let u;return c.mutationQueue.lookupMutationBatch(h,l).next(f=>(ze(f!==null),u=f.keys(),c.mutationQueue.removeMutationBatch(h,f))).next(()=>c.mutationQueue.performConsistencyCheck(h)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(h,u,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,u)).next(()=>c.localDocuments.getDocuments(h,u))})}(r.localStore,e);rv(r,e,n),nv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yo(r,s)}catch(s){await qo(s)}}function nv(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function rv(t,e,n){const r=Oe(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Ku(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||sv(t,r)})}function sv(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Qh(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),id(t))}function rm(t,e,n){for(const r of n)r instanceof Xy?(t.La.addReference(r.key,e),AP(t,r)):r instanceof Zy?(me("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||sv(t,r.key)):Ce()}function AP(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(me("SyncEngine","New document in limbo: "+n),t.xa.add(r),id(t))}function id(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ye(rt.fromString(e)),r=t.qa.next();t.Na.set(r,new pP(n)),t.Oa=t.Oa.insert(n,r),Ky(t.remoteStore,new Or(Vn(Xl(n.path)),r,"TargetPurposeLimboResolution",xh.oe))}}async function Yo(t,e,n){const r=Oe(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{o.push(r.Ka(c,e,n).then(h=>{var u;if((h||n)&&r.isPrimaryClient){const f=h?!h.fromCache:(u=n==null?void 0:n.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(h){s.push(h);const f=Gh.Wi(c.targetId,h);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(c,h){const u=Oe(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Y.forEach(h,g=>Y.forEach(g.$i,y=>u.persistence.referenceDelegate.addReference(f,g.targetId,y)).next(()=>Y.forEach(g.Ui,y=>u.persistence.referenceDelegate.removeReference(f,g.targetId,y)))))}catch(f){if(!Wo(f))throw f;me("LocalStore","Failed to update sequence numbers: "+f)}for(const f of h){const g=f.targetId;if(!f.fromCache){const y=u.os.get(g),O=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(O);u.os=u.os.insert(g,N)}}}(r.localStore,i))}async function RP(t,e){const n=Oe(t);if(!n.currentUser.isEqual(e)){me("SyncEngine","User change. New user:",e.toKey());const r=await $y(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(l=>{l.forEach(c=>{c.reject(new he(z.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yo(n,r.hs)}}function SP(t,e){const n=Oe(t),r=n.Na.get(e);if(r&&r.va)return xe().add(r.key);{let s=xe();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const l=n.Fa.get(o);s=s.unionWith(l.view.Va)}return s}}function iv(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=TP.bind(null,e),e.Ca.d_=uP.bind(null,e.eventManager),e.Ca.$a=hP.bind(null,e.eventManager),e}function PP(t){const e=Oe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IP.bind(null,e),e}class wl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sc(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return NS(this.persistence,new DS,e.initialUser,this.serializer)}Ga(e){return new CS(zh.Zr,this.serializer)}Wa(e){return new jS}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wl.provider={build:()=>new wl};class zu{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nm(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=RP.bind(null,this.syncEngine),await aP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cP}()}createDatastore(e){const n=sc(e.databaseInfo.databaseId),r=function(i){return new WS(i)}(e.databaseInfo);return function(i,o,l,c){return new GS(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new YS(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>nm(this.syncEngine,n,0),function(){return Jp.D()?new Jp:new $S}())}createSyncEngine(e,n){return function(s,i,o,l,c,h,u){const f=new mP(s,i,o,l,c,h);return u&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Oe(s);me("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Qo(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}zu.provider={build:()=>new zu};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Bt.UNAUTHENTICATED,this.clientId=ay.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{me("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(me("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ed(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function tu(t,e){t.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await $y(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kP(t);me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Xp(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Xp(e.remoteStore,s)),t._onlineComponents=e}async function kP(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await tu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ai("Error using user provided cache. Falling back to memory cache: "+n),await tu(t,new wl)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await tu(t,new wl);return t._offlineComponents}async function ov(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await sm(t,t._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await sm(t,new zu))),t._onlineComponents}function OP(t){return ov(t).then(e=>e.syncEngine)}async function Tl(t){const e=await ov(t),n=e.eventManager;return n.onListen=gP.bind(null,e.syncEngine),n.onUnlisten=vP.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_P.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=EP.bind(null,e.syncEngine),n}function DP(t,e,n={}){const r=new Zn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,h){const u=new od({next:g=>{u.Za(),o.enqueueAndForget(()=>nd(i,f));const y=g.docs.has(l);!y&&g.fromCache?h.reject(new he(z.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&c&&c.source==="server"?h.reject(new he(z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):h.resolve(g)},error:g=>h.reject(g)}),f=new sd(Xl(l.path),u,{includeMetadataChanges:!0,_a:!0});return td(i,f)}(await Tl(t),t.asyncQueue,e,n,r)),r.promise}function VP(t,e,n={}){const r=new Zn;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,h){const u=new od({next:g=>{u.Za(),o.enqueueAndForget(()=>nd(i,f)),g.fromCache&&c.source==="server"?h.reject(new he(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(g)},error:g=>h.reject(g)}),f=new sd(l,u,{includeMetadataChanges:!0,_a:!0});return td(i,f)}(await Tl(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e,n){if(!n)throw new he(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function NP(t,e,n,r){if(e===!0&&r===!0)throw new he(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function om(t){if(!ye.isDocumentKey(t))throw new he(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function am(t){if(ye.isDocumentKey(t))throw new he(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ac(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce()}function tn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new he(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ac(t);throw new he(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new he(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new he(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=av((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lc{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lm(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ZA;switch(r.type){case"firstParty":return new rR(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=im.get(n);r&&(me("ComponentProvider","Removing Datastore"),im.delete(n),r.terminate())}(this),Promise.resolve()}}function xP(t,e,n,r={}){var s;const i=(t=tn(t,lc))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ai("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=Bt.MOCK_USER;else{l=CI(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new he(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Bt(h)}t._authCredentials=new eR(new oy(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new bs(this.firestore,e,this._query)}}class qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}}class Fr extends bs{constructor(e,n,r){super(e,n,Xl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new ye(e))}withConverter(e){return new Fr(this.firestore,e,this._path)}}function Kr(t,e,...n){if(t=ft(t),lv("collection","path",e),t instanceof lc){const r=rt.fromString(e,...n);return am(r),new Fr(t,null,r)}{if(!(t instanceof qt||t instanceof Fr))throw new he(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return am(r),new Fr(t.firestore,null,r)}}function Jo(t,e,...n){if(t=ft(t),arguments.length===1&&(e=ay.newId()),lv("doc","path",e),t instanceof lc){const r=rt.fromString(e,...n);return om(r),new qt(t,null,new ye(r))}{if(!(t instanceof qt||t instanceof Fr))throw new he(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rt.fromString(e,...n));return om(r),new qt(t.firestore,t instanceof Fr?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new qy(this,"async_queue_retry"),this.Vu=()=>{const r=eu();r&&me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=eu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=eu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Zn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Wo(e))throw e;me("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw ar("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=Zh.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Ce()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function um(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class cr extends lc{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new cm,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cm(e),this._firestoreClient=void 0,await e}}}function MP(t,e){const n=typeof t=="object"?t:J_(),r=typeof t=="string"?t:e||"(default)",s=Vh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=SI("firestore");i&&xP(s,...i)}return s}function cc(t){if(t._terminated)throw new he(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||LP(t),t._firestoreClient}function LP(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,h,u){return new gR(l,c,h,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,av(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new CP(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fi(Nt.fromBase64String(e))}catch(n){throw new he(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fi(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=/^__.*__$/;class UP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new zo(e,this.data,n,this.fieldTransforms)}}class cv{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class cd{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new cd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return bl(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(uv(this.Cu)&&FP.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class BP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sc(e)}Qu(e,n,r,s=!1){return new cd({Cu:e,methodName:n,qu:r,path:kt.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hc(t){const e=t._freezeSettings(),n=sc(t._databaseId);return new BP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function hv(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);dd("Data must be an object, but it was:",o,r);const l=dv(r,o);let c,h;if(i.merge)c=new on(o.fieldMask),h=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const f of i.mergeFields){const g=Gu(e,f,n);if(!o.contains(g))throw new he(z.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);pv(u,g)||u.push(g)}c=new on(u),h=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,h=o.fieldTransforms;return new UP(new en(l),c,h)}class dc extends Xo{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dc}}class ud extends Xo{_toFieldTransform(e){return new Cy(e.path,new Ro)}isEqual(e){return e instanceof ud}}class hd extends Xo{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Co(e.serializer,Iy(e.serializer,this.$u));return new Cy(e.path,n)}isEqual(e){return e instanceof hd&&this.$u===e.$u}}function jP(t,e,n,r){const s=t.Qu(1,e,n);dd("Data must be an object, but it was:",s,r);const i=[],o=en.empty();ws(r,(c,h)=>{const u=fd(e,c,n);h=ft(h);const f=s.Nu(u);if(h instanceof dc)i.push(u);else{const g=Zo(h,f);g!=null&&(i.push(u),o.set(u,g))}});const l=new on(i);return new cv(o,l,s.fieldTransforms)}function $P(t,e,n,r,s,i){const o=t.Qu(1,e,n),l=[Gu(e,r,n)],c=[s];if(i.length%2!=0)throw new he(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)l.push(Gu(e,i[g])),c.push(i[g+1]);const h=[],u=en.empty();for(let g=l.length-1;g>=0;--g)if(!pv(h,l[g])){const y=l[g];let O=c[g];O=ft(O);const N=o.Nu(y);if(O instanceof dc)h.push(y);else{const F=Zo(O,N);F!=null&&(h.push(y),u.set(y,F))}}const f=new on(h);return new cv(u,f,o.fieldTransforms)}function HP(t,e,n,r=!1){return Zo(n,t.Qu(r?4:3,e))}function Zo(t,e){if(fv(t=ft(t)))return dd("Unsupported field value:",e,t),dv(t,e);if(t instanceof Xo)return function(r,s){if(!uv(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=Zo(l,s.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Iy(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=wt.fromDate(r);return{timestampValue:vl(s.serializer,i)}}if(r instanceof wt){const i=new wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:vl(s.serializer,i)}}if(r instanceof ad)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fi)return{bytesValue:xy(s.serializer,r._byteString)};if(r instanceof qt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Wh(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ld)return function(o,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return jh(l.serializer,c)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${ac(r)}`)}(t,e)}function dv(t,e){const n={};return ly(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(t,(r,s)=>{const i=Zo(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function fv(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wt||t instanceof ad||t instanceof fi||t instanceof qt||t instanceof Xo||t instanceof ld)}function dd(t,e,n){if(!fv(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=ac(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Gu(t,e,n){if((e=ft(e))instanceof uc)return e._internalPath;if(typeof e=="string")return fd(t,e);throw bl("Field path arguments must be of type string or ",t,!1,void 0,n)}const qP=new RegExp("[~\\*/\\[\\]]");function fd(t,e,n){if(e.search(qP)>=0)throw bl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uc(...e.split("."))._internalPath}catch{throw bl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bl(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new he(z.INVALID_ARGUMENT,l+t+c)}function pv(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WP extends mv{data(){return super.data()}}function pd(t,e){return typeof e=="string"?fd(t,e):e instanceof uc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gv(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new he(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class md{}class KP extends md{}function Bi(t,e,...n){let r=[];e instanceof md&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof gd).length,l=i.filter(c=>c instanceof fc).length;if(o>1||o>0&&l>0)throw new he(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class fc extends KP{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new fc(e,n,r)}_apply(e){const n=this._parse(e);return _v(e._query,n),new bs(e.firestore,e.converter,Fu(e._query,n))}_parse(e){const n=hc(e.firestore);return function(i,o,l,c,h,u,f){let g;if(h.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new he(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){dm(f,u);const y=[];for(const O of f)y.push(hm(c,i,O));g={arrayValue:{values:y}}}else g=hm(c,i,f)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||dm(f,u),g=HP(l,o,f,u==="in"||u==="not-in");return gt.create(h,u,g)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Va(t,e,n){const r=e,s=pd("where",t);return fc._create(s,r,n)}class gd extends md{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gd(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:bn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)_v(o,c),o=Fu(o,c)}(e._query,n),new bs(e.firestore,e.converter,Fu(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function hm(t,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new he(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!_y(e)&&n.indexOf("/")!==-1)throw new he(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rt.fromString(n));if(!ye.isDocumentKey(r))throw new he(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dp(t,new ye(r))}if(n instanceof qt)return Dp(t,n._key);throw new he(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ac(n)}.`)}function dm(t,e){if(!Array.isArray(t)||t.length===0)throw new he(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _v(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class zP{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ws(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>ht(o.doubleValue));return new ld(i)}convertGeoPoint(e){return new ad(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Lh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bo(e));default:return null}}convertTimestamp(e){const n=Hr(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rt.fromString(e);ze(jy(r));const s=new Io(r.get(1),r.get(3)),i=new ye(r.popFirst(5));return s.isEqual(n)||ar(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vv extends mv{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ha(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(pd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ha extends vv{data(e={}){return super.data(e)}}class Ev{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Gi(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ha(this._firestore,this._userDataWriter,r.key,r,new Gi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new Ha(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Gi(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new Ha(s._firestore,s._userDataWriter,l.doc.key,l.doc,new Gi(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,u=-1;return l.type!==0&&(h=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),u=o.indexOf(l.doc.key)),{type:GP(l.type),doc:c,oldIndex:h,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function GP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t){t=tn(t,qt);const e=tn(t.firestore,cr);return DP(cc(e),t._key).then(n=>bv(e,t,n))}class _d extends zP{constructor(e){super(),this.firestore=e}convertBytes(e){return new fi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}}function yd(t){t=tn(t,bs);const e=tn(t.firestore,cr),n=cc(e),r=new _d(e);return gv(t._query),VP(n,t._query).then(s=>new Ev(e,r,t,s))}function Yu(t,e,n){t=tn(t,qt);const r=tn(t.firestore,cr),s=yv(t.converter,e,n);return pc(r,[hv(hc(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,pn.none())])}function QP(t,e,n,...r){t=tn(t,qt);const s=tn(t.firestore,cr),i=hc(s);let o;return o=typeof(e=ft(e))=="string"||e instanceof uc?$P(i,"updateDoc",t._key,e,n,r):jP(i,"updateDoc",t._key,e),pc(s,[o.toMutation(t._key,pn.exists(!0))])}function wv(t){return pc(tn(t.firestore,cr),[new $h(t._key,pn.none())])}function YP(t,e){const n=tn(t.firestore,cr),r=Jo(t),s=yv(t.converter,e);return pc(n,[hv(hc(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,pn.exists(!1))]).then(()=>r)}function Tv(t,...e){var n,r,s;t=ft(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||um(e[o])||(i=e[o],o++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(um(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,h,u;if(t instanceof qt)h=tn(t.firestore,cr),u=Xl(t._key.path),c={next:f=>{e[o]&&e[o](bv(h,t,f))},error:e[o+1],complete:e[o+2]};else{const f=tn(t,bs);h=tn(f.firestore,cr),u=f._query;const g=new _d(h);c={next:y=>{e[o]&&e[o](new Ev(h,g,f,y))},error:e[o+1],complete:e[o+2]},gv(t._query)}return function(g,y,O,N){const F=new od(N),$=new sd(y,F,O);return g.asyncQueue.enqueueAndForget(async()=>td(await Tl(g),$)),()=>{F.Za(),g.asyncQueue.enqueueAndForget(async()=>nd(await Tl(g),$))}}(cc(h),u,l,c)}function pc(t,e){return function(r,s){const i=new Zn;return r.asyncQueue.enqueueAndForget(async()=>wP(await OP(r),s,i)),i.promise}(cc(t),e)}function bv(t,e,n){const r=n.docs.get(e._key),s=new _d(t);return new vv(t,s,e._key,r,new Gi(n.hasPendingWrites,n.fromCache),e.converter)}function Iv(){return new ud("serverTimestamp")}function Av(t){return new hd("increment",t)}(function(e,n=!0){(function(s){vi=s})(yi),oi(new fs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new cr(new tR(r.getProvider("auth-internal")),new iR(r.getProvider("app-check-internal")),function(h,u){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new he(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Io(h.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Lr(Sp,"4.7.3",e),Lr(Sp,"4.7.3","esm2017")})();var JP="firebase",XP="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lr(JP,XP,"app");function vd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Rv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ZP=Rv,Sv=new $o("auth","Firebase",Rv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Oh("@firebase/auth");function eC(t,...e){Il.logLevel<=Me.WARN&&Il.warn(`Auth (${yi}): ${t}`,...e)}function qa(t,...e){Il.logLevel<=Me.ERROR&&Il.error(`Auth (${yi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,...e){throw Ed(t,...e)}function xn(t,...e){return Ed(t,...e)}function Pv(t,e,n){const r=Object.assign(Object.assign({},ZP()),{[e]:n});return new $o("auth","Firebase",r).create(e,{appName:t.name})}function er(t){return Pv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ed(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Sv.create(t,...e)}function Re(t,e,...n){if(!t)throw Ed(e,...n)}function Qn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qa(e),new Error(e)}function ur(t,e){t||Qn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tC(){return fm()==="http:"||fm()==="https:"}function fm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tC()||VI()||"connection"in navigator)?navigator.onLine:!0}function rC(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e,n){this.shortDelay=e,this.longDelay=n,ur(n>e,"Short delay should be less than long delay!"),this.isMobile=kI()||NI()}get(){return nC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t,e){ur(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=new ea(3e4,6e4);function zr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function fr(t,e,n,r,s={}){return kv(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Ho(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const h=Object.assign({method:e,headers:c},i);return DI()||(h.referrerPolicy="no-referrer"),Cv.fetch()(Ov(t,t.config.apiHost,n,l),h)})}async function kv(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},sC),e);try{const s=new aC(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Na(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,h]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Na(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Na(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Na(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw Pv(t,u,h);In(t,u)}}catch(s){if(s instanceof dr)throw s;In(t,"network-request-failed",{message:String(s)})}}async function ta(t,e,n,r,s={}){const i=await fr(t,e,n,r,s);return"mfaPendingCredential"in i&&In(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Ov(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?wd(t.config,s):`${t.config.apiScheme}://${s}`}function oC(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aC{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(xn(this.auth,"network-request-failed")),iC.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Na(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=xn(t,e,r);return s.customData._tokenResponse=n,s}function pm(t){return t!==void 0&&t.enterprise!==void 0}class lC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oC(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function cC(t,e){return fr(t,"GET","/v2/recaptchaConfig",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uC(t,e){return fr(t,"POST","/v1/accounts:delete",e)}async function Dv(t,e){return fr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hC(t,e=!1){const n=ft(t),r=await n.getIdToken(e),s=Td(r);Re(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:co(nu(s.auth_time)),issuedAtTime:co(nu(s.iat)),expirationTime:co(nu(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function nu(t){return Number(t)*1e3}function Td(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qa("JWT malformed, contained fewer than 3 sections"),null;try{const s=q_(n);return s?JSON.parse(s):(qa("Failed to decode base64 JWT payload"),null)}catch(s){return qa("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function mm(t){const e=Td(t);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof dr&&dC(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function dC({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=co(this.lastLoginAt),this.creationTime=co(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t){var e;const n=t.auth,r=await t.getIdToken(),s=await pi(t,Dv(n,{idToken:r}));Re(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Vv(i.providerUserInfo):[],l=mC(t.providerData,o),c=t.isAnonymous,h=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),u=c?h:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Xu(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function pC(t){const e=ft(t);await Al(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mC(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Vv(t){return t.map(e=>{var{providerId:n}=e,r=vd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gC(t,e){const n=await kv(t,{},async()=>{const r=Ho({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Ov(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Cv.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function _C(t,e){return fr(t,"POST","/v2/accounts:revokeToken",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mm(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const n=mm(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await gC(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ys;return r&&(Re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Re(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Re(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ys,this.toJSON())}_performRefresh(){return Qn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,e){Re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Yn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=vd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Xu(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await pi(this,this.stsTokenManager.getToken(this.auth,e));return Re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hC(this,e)}reload(){return pC(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Yn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Al(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(On(this.auth.app))return Promise.reject(er(this.auth));const e=await this.getIdToken();return await pi(this,uC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,h,u;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,y=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,O=(o=n.photoURL)!==null&&o!==void 0?o:void 0,N=(l=n.tenantId)!==null&&l!==void 0?l:void 0,F=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,$=(h=n.createdAt)!==null&&h!==void 0?h:void 0,L=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:S,emailVerified:V,isAnonymous:B,providerData:H,stsTokenManager:A}=n;Re(S&&A,e,"internal-error");const E=Ys.fromJSON(this.name,A);Re(typeof S=="string",e,"internal-error"),vr(f,e.name),vr(g,e.name),Re(typeof V=="boolean",e,"internal-error"),Re(typeof B=="boolean",e,"internal-error"),vr(y,e.name),vr(O,e.name),vr(N,e.name),vr(F,e.name),vr($,e.name),vr(L,e.name);const w=new Yn({uid:S,auth:e,email:g,emailVerified:V,displayName:f,isAnonymous:B,photoURL:O,phoneNumber:y,tenantId:N,stsTokenManager:E,createdAt:$,lastLoginAt:L});return H&&Array.isArray(H)&&(w.providerData=H.map(I=>Object.assign({},I))),F&&(w._redirectEventId=F),w}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ys;s.updateFromServerResponse(n);const i=new Yn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Al(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Re(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Vv(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Ys;l.updateFromIdToken(r);const c=new Yn({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Xu(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,h),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=new Map;function Jn(t){ur(t instanceof Function,"Expected a class definition");let e=gm.get(t);return e?(ur(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gm.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Nv.type="NONE";const _m=Nv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(t,e,n){return`firebase:${t}:${e}:${n}`}class Js{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Wa(this.userKey,s.apiKey,i),this.fullPersistenceKey=Wa("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Yn._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Js(Jn(_m),e,r);const s=(await Promise.all(n.map(async h=>{if(await h._isAvailable())return h}))).filter(h=>h);let i=s[0]||Jn(_m);const o=Wa(r,e.config.apiKey,e.name);let l=null;for(const h of n)try{const u=await h._get(o);if(u){const f=Yn._fromJSON(e,u);h!==i&&(l=f),i=h;break}}catch{}const c=s.filter(h=>h._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Js(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async h=>{if(h!==i)try{await h._remove(o)}catch{}})),new Js(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Fv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Bv(e))return"Blackberry";if(jv(e))return"Webos";if(Mv(e))return"Safari";if((e.includes("chrome/")||Lv(e))&&!e.includes("edge/"))return"Chrome";if(Uv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function xv(t=Wt()){return/firefox\//i.test(t)}function Mv(t=Wt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Lv(t=Wt()){return/crios\//i.test(t)}function Fv(t=Wt()){return/iemobile/i.test(t)}function Uv(t=Wt()){return/android/i.test(t)}function Bv(t=Wt()){return/blackberry/i.test(t)}function jv(t=Wt()){return/webos/i.test(t)}function bd(t=Wt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yC(t=Wt()){var e;return bd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vC(){return xI()&&document.documentMode===10}function $v(t=Wt()){return bd(t)||Uv(t)||jv(t)||Bv(t)||/windows phone/i.test(t)||Fv(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t,e=[]){let n;switch(t){case"Browser":n=ym(Wt());break;case"Worker":n=`${ym(Wt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(t,e={}){return fr(t,"GET","/v2/passwordPolicy",zr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=6;class bC{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:TC,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vm(this),this.idTokenSubscription=new vm(this),this.beforeStateQueue=new EC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Sv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Jn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Js.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Dv(this,{idToken:e}),r=await Yn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(On(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Al(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(On(this.app))return Promise.reject(er(this));const n=e?ft(e):null;return n&&Re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return On(this.app)?Promise.reject(er(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return On(this.app)?Promise.reject(er(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Jn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wC(this),n=new bC(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $o("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await _C(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Jn(e)||this._popupRedirectResolver;Re(n,this,"argument-error"),this.redirectPersistenceManager=await Js.create(this,[Jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Hv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&eC(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Is(t){return ft(t)}class vm{constructor(e){this.auth=e,this.observer=null,this.addObserver=HI(n=>this.observer=n)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AC(t){mc=t}function qv(t){return mc.loadJS(t)}function RC(){return mc.recaptchaEnterpriseScript}function SC(){return mc.gapiScript}function PC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const CC="recaptcha-enterprise",kC="NO_RECAPTCHA";class OC{constructor(e){this.type=CC,this.auth=Is(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{cC(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const h=new lC(c);return i.tenantId==null?i._agentRecaptchaConfig=h:i._tenantRecaptchaConfigs[i.tenantId]=h,o(h.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;pm(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(h=>{o(h)}).catch(()=>{o(kC)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&pm(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=RC();c.length!==0&&(c+=l),qv(c).then(()=>{s(l,i,o)}).catch(h=>{o(h)})}}).catch(l=>{o(l)})})}}async function Em(t,e,n,r=!1){const s=new OC(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Zu(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Em(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await Em(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t,e){const n=Vh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(pl(i,e??{}))return s;In(s,"already-initialized")}return n.initialize({options:e})}function VC(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function NC(t,e,n){const r=Is(t);Re(r._canInitEmulator,r,"emulator-config-failed"),Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Wv(e),{host:o,port:l}=xC(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${i}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||MC()}function Wv(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xC(t){const e=Wv(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:wm(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:wm(o)}}}function wm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function MC(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Qn("not implemented")}_getIdTokenResponse(e){return Qn("not implemented")}_linkToIdToken(e,n){return Qn("not implemented")}_getReauthenticationResolver(e){return Qn("not implemented")}}async function LC(t,e){return fr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(t,e){return ta(t,"POST","/v1/accounts:signInWithPassword",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(t,e){return ta(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))}async function BC(t,e){return ta(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko extends Id{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new ko(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new ko(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zu(e,n,"signInWithPassword",FC);case"emailLink":return UC(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Zu(e,r,"signUpPassword",LC);case"emailLink":return BC(e,{idToken:n,email:this._email,oobCode:this._password});default:In(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xs(t,e){return ta(t,"POST","/v1/accounts:signInWithIdp",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC="http://localhost";class _s extends Id{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):In("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=vd(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new _s(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Xs(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Xs(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Xs(e,n)}buildRequest(){const e={requestUri:jC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ho(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HC(t){const e=Hi(qi(t)).link,n=e?Hi(qi(e)).deep_link_id:null,r=Hi(qi(t)).deep_link_id;return(r?Hi(qi(r)).link:null)||r||n||e||t}class Ad{constructor(e){var n,r,s,i,o,l;const c=Hi(qi(e)),h=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,f=$C((s=c.mode)!==null&&s!==void 0?s:null);Re(h&&u&&f,"argument-error"),this.apiKey=h,this.operation=f,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=HC(e);try{return new Ad(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti{constructor(){this.providerId=Ti.PROVIDER_ID}static credential(e,n){return ko._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ad.parseLink(n);return Re(r,"argument-error"),ko._fromEmailAndCode(e,r.code,r.tenantId)}}Ti.PROVIDER_ID="password";Ti.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ti.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na extends Kv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends na{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends na{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Sr.credential(n,r)}catch{return null}}}Sr.GOOGLE_SIGN_IN_METHOD="google.com";Sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends na{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends na{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Cr.credential(n,r)}catch{return null}}}Cr.TWITTER_SIGN_IN_METHOD="twitter.com";Cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qC(t,e){return ta(t,"POST","/v1/accounts:signUp",zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Yn._fromIdTokenResponse(e,r,s),o=Tm(r);return new ys({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=Tm(r);return new ys({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function Tm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl extends dr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Rl.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Rl(e,n,r,s)}}function zv(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Rl._fromErrorAndOperation(t,i,e,r):i})}async function WC(t,e,n=!1){const r=await pi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ys._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KC(t,e,n=!1){const{auth:r}=t;if(On(r.app))return Promise.reject(er(r));const s="reauthenticate";try{const i=await pi(t,zv(r,s,e,t),n);Re(i.idToken,r,"internal-error");const o=Td(i.idToken);Re(o,r,"internal-error");const{sub:l}=o;return Re(t.uid===l,r,"user-mismatch"),ys._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&In(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gv(t,e,n=!1){if(On(t.app))return Promise.reject(er(t));const r="signIn",s=await zv(t,r,e),i=await ys._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function zC(t,e){return Gv(Is(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qv(t){const e=Is(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function GC(t,e,n){if(On(t.app))return Promise.reject(er(t));const r=Is(t),o=await Zu(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qC).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Qv(t),c}),l=await ys._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function QC(t,e,n){return On(t.app)?Promise.reject(er(t)):zC(ft(t),Ti.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Qv(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YC(t,e){return fr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=ft(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await pi(r,YC(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const l=r.providerData.find(({providerId:c})=>c==="password");l&&(l.displayName=r.displayName,l.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t,e){return ft(t).setPersistence(e)}function ZC(t,e,n,r){return ft(t).onIdTokenChanged(e,n,r)}function e1(t,e,n){return ft(t).beforeAuthStateChanged(e,n)}function t1(t,e,n,r){return ft(t).onAuthStateChanged(e,n,r)}function n1(t){return ft(t).signOut()}const Sl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sl,"1"),this.storage.removeItem(Sl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=1e3,s1=10;class Jv extends Yv{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$v(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);vC()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,s1):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},r1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jv.type="LOCAL";const i1=Jv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends Yv{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Xv.type="SESSION";const Rd=Xv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new gc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async h=>h(n.origin,i)),c=await o1(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}gc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const h=Sd("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const g=f;if(g.data.eventId===h)switch(g.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(g.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:h,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(){return window}function l1(t){Mn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(){return typeof Mn().WorkerGlobalScope<"u"&&typeof Mn().importScripts=="function"}async function c1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function u1(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function h1(){return Zv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="firebaseLocalStorageDb",d1=1,Pl="firebaseLocalStorage",tE="fbase_key";class ra{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function _c(t,e){return t.transaction([Pl],e?"readwrite":"readonly").objectStore(Pl)}function f1(){const t=indexedDB.deleteDatabase(eE);return new ra(t).toPromise()}function eh(){const t=indexedDB.open(eE,d1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Pl,{keyPath:tE})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Pl)?e(r):(r.close(),await f1(),e(await eh()))})})}async function bm(t,e,n){const r=_c(t,!0).put({[tE]:e,value:n});return new ra(r).toPromise()}async function p1(t,e){const n=_c(t,!1).get(e),r=await new ra(n).toPromise();return r===void 0?null:r.value}function Im(t,e){const n=_c(t,!0).delete(e);return new ra(n).toPromise()}const m1=800,g1=3;class nE{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>g1)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Zv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gc._getInstance(h1()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await c1(),!this.activeServiceWorker)return;this.sender=new a1(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||u1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await eh();return await bm(e,Sl,"1"),await Im(e,Sl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>bm(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>p1(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Im(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=_c(s,!1).getAll();return new ra(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),m1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nE.type="LOCAL";const _1=nE;new ea(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t,e){return e?Jn(e):(Re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd extends Id{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Xs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Xs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function v1(t){return Gv(t.auth,new Pd(t),t.bypassAuthState)}function E1(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),KC(n,new Pd(t),t.bypassAuthState)}async function w1(t){const{auth:e,user:n}=t;return Re(n,e,"internal-error"),WC(n,new Pd(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(h){this.reject(h)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return v1;case"linkViaPopup":case"linkViaRedirect":return w1;case"reauthViaPopup":case"reauthViaRedirect":return E1;default:In(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1=new ea(2e3,1e4);class Bs extends rE{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Bs.currentPopupAction&&Bs.currentPopupAction.cancel(),Bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=Sd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(xn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(xn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,T1.get())};e()}}Bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="pendingRedirect",Ka=new Map;class I1 extends rE{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ka.get(this.auth._key());if(!e){try{const r=await A1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ka.set(this.auth._key(),e)}return this.bypassAuthState||Ka.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function A1(t,e){const n=P1(e),r=S1(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function R1(t,e){Ka.set(t._key(),e)}function S1(t){return Jn(t._redirectPersistence)}function P1(t){return Wa(b1,t.config.apiKey,t.name)}async function C1(t,e,n=!1){if(On(t.app))return Promise.reject(er(t));const r=Is(t),s=y1(r,e),o=await new I1(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=10*60*1e3;class O1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!D1(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sE(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(xn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=k1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Am(e))}saveEventToCache(e){this.cachedEventUids.add(Am(e)),this.lastProcessedEventTime=Date.now()}}function Am(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sE({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function D1(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sE(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(t,e={}){return fr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x1=/^https?/;async function M1(t){if(t.config.emulator)return;const{authorizedDomains:e}=await V1(t);for(const n of e)try{if(L1(n))return}catch{}In(t,"unauthorized-domain")}function L1(t){const e=Ju(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!x1.test(n))return!1;if(N1.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=new ea(3e4,6e4);function Rm(){const t=Mn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function U1(t){return new Promise((e,n)=>{var r,s,i;function o(){Rm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Rm(),n(xn(t,"network-request-failed"))},timeout:F1.get()})}if(!((s=(r=Mn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Mn().gapi)===null||i===void 0)&&i.load)o();else{const l=PC("iframefcb");return Mn()[l]=()=>{gapi.load?o():n(xn(t,"network-request-failed"))},qv(`${SC()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw za=null,e})}let za=null;function B1(t){return za=za||U1(t),za}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1=new ea(5e3,15e3),$1="__/auth/iframe",H1="emulator/auth/iframe",q1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},W1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K1(t){const e=t.config;Re(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?wd(e,H1):`https://${t.config.authDomain}/${$1}`,r={apiKey:e.apiKey,appName:t.name,v:yi},s=W1.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ho(r).slice(1)}`}async function z1(t){const e=await B1(t),n=Mn().gapi;return Re(n,t,"internal-error"),e.open({where:document.body,url:K1(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:q1,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=xn(t,"network-request-failed"),l=Mn().setTimeout(()=>{i(o)},j1.get());function c(){Mn().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q1=500,Y1=600,J1="_blank",X1="http://localhost";class Sm{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z1(t,e,n,r=Q1,s=Y1){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},G1),{width:r.toString(),height:s.toString(),top:i,left:o}),h=Wt().toLowerCase();n&&(l=Lv(h)?J1:n),xv(h)&&(e=e||X1,c.scrollbars="yes");const u=Object.entries(c).reduce((g,[y,O])=>`${g}${y}=${O},`,"");if(yC(h)&&l!=="_self")return ek(e||"",l),new Sm(null);const f=window.open(e||"",l,u);Re(f,t,"popup-blocked");try{f.focus()}catch{}return new Sm(f)}function ek(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="__/auth/handler",nk="emulator/auth/handler",rk=encodeURIComponent("fac");async function Pm(t,e,n,r,s,i){Re(t.config.authDomain,t,"auth-domain-config-required"),Re(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yi,eventId:s};if(e instanceof Kv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$I(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,f]of Object.entries(i||{}))o[u]=f}if(e instanceof na){const u=e.getScopes().filter(f=>f!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await t._getAppCheckToken(),h=c?`#${rk}=${encodeURIComponent(c)}`:"";return`${sk(t)}?${Ho(l).slice(1)}${h}`}function sk({config:t}){return t.emulator?wd(t,nk):`https://${t.authDomain}/${tk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru="webStorageSupport";class ik{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rd,this._completeRedirectFn=C1,this._overrideRedirectResult=R1}async _openPopup(e,n,r,s){var i;ur((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Pm(e,n,r,Ju(),s);return Z1(e,o,Sd())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await Pm(e,n,r,Ju(),s);return l1(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ur(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await z1(e),r=new O1(e);return n.register("authEvent",s=>(Re(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ru,{type:ru},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[ru];o!==void 0&&n(!!o),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M1(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $v()||Mv()||bd()}}const ok=ik;var Cm="@firebase/auth",km="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ck(t){oi(new fs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;Re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Hv(t)},h=new IC(r,s,i,c);return VC(h,n),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),oi(new fs("auth-internal",e=>{const n=Is(e.getProvider("auth").getImmediate());return(r=>new ak(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Lr(Cm,km,lk(t)),Lr(Cm,km,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=5*60,hk=z_("authIdTokenMaxAge")||uk;let Om=null;const dk=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>hk)return;const s=n==null?void 0:n.token;Om!==s&&(Om=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function fk(t=J_()){const e=Vh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DC(t,{popupRedirectResolver:ok,persistence:[_1,i1,Rd]}),r=z_("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=dk(i.toString());e1(n,o,()=>o(n.currentUser)),ZC(n,l=>o(l))}}const s=W_("auth");return s&&NC(n,`http://${s}`),n}function pk(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}AC({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=xn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",pk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ck("Browser");const mk={apiKey:"AIzaSyAg5egvroQ2PzAH48qF9MvKIWItLkhlvsI",authDomain:"producecart-a1dde.firebaseapp.com",projectId:"producecart-a1dde",storageBucket:"producecart-a1dde.firebasestorage.app",messagingSenderId:"191764996224",appId:"1:191764996224:web:18732a4f1c1c43c99ec665",measurementId:"G-XK7W59DTR0"},iE=Y_(mk),As=MP(iE),Oo=fk(iE),gk=Kr(As,"products");Kr(As,"sellers");Kr(As,"carts");const _k=async t=>{try{await YP(Kr(As,"products"),t)}catch(e){throw console.error("Error adding product:",e),e}},yk=async t=>{try{const e=sa(t);await Yu(e,{userId:t,createdAt:Iv()}),console.log("Cart created for user:",t)}catch(e){throw console.error("Error creating cart:",e),e}},oE=async(t,e)=>{try{const n=Jo(As,"products",t);await QP(n,{stock:Av(e)})}catch(n){throw console.error("Error updating product stock:",n),n}},aE=(t,e)=>{try{const n=Jo(As,"products",t);return Tv(n,r=>{console.log("watched"),r.exists()?e({id:r.id,...r.data()}):e(null)})}catch(n){throw console.error("Error watching product:",n),n}},vk=async t=>{try{let e=Bi(gk);return t.minPrice!==void 0&&t.minPrice!==null&&(e=Bi(e,Va("price",">=",t.minPrice))),t.maxPrice!==void 0&&t.maxPrice!==null&&(e=Bi(e,Va("price","<=",t.maxPrice))),t.minRating!==void 0&&t.minRating!==null&&(e=Bi(e,Va("avgRating",">=",t.minRating))),t.category&&t.category!=="All"&&(e=Bi(e,Va("category","==",t.category))),(await yd(e)).docs.map(r=>({id:r.id,...r.data()}))}catch(e){throw console.error("Error filtering products:",e),e}},su={},sa=t=>(su[t]||(su[t]=Jo(As,"carts",t)),su[t]),Ek=async t=>{try{const e=sa(t);if((await Qu(e)).exists()){const r=Kr(e,"items");return(await yd(r)).docs.map(i=>({id:i.id,...i.data()}))}return[]}catch(e){throw console.error("Error getting cart:",e),e}},Cd=(t,e)=>{try{const n=sa(t),r=Kr(n,"items");return Tv(r,s=>{const i=s.docs.map(o=>({id:o.id,...o.data()}));e(i)},s=>{console.log("Watching cart resulted in an error, returning empty cart. This is expected if the user has no items.",s),e([])})}catch(n){throw console.error("Error watching cart:",n),n}},yc=async(t,e,n)=>{try{console.log("update cart");const r=sa(t);(await Qu(r)).exists()||await Yu(r,{userId:t,createdAt:Iv()});const i=Jo(Kr(r,"items"),e.id),o=await Qu(i);o.exists()&&o.data().quantity+n<=0?await wv(i):await Yu(i,{quantity:Av(n),name:e.name,price:e.price,imageUrl:e.image||""},{merge:!0})}catch(r){throw console.error("Error updating cart item:",r),r}},wk=async t=>{try{const e=sa(t),n=Kr(e,"items");(await yd(n)).docs.forEach(async s=>{await wv(s.ref)})}catch(e){throw console.error("Error clearing cart:",e),e}};let us=null;const Ga=[];let Qa=null;const Tk=new Promise(t=>{Qa=t}),bk=()=>us,lE=t=>(Ga.push(t),t(us),()=>{const e=Ga.indexOf(t);e>-1&&Ga.splice(e,1)});t1(Oo,t=>{console.log("auth state listener called in auth.js"),us=t,Qa&&(Qa(),Qa=null),Ga.forEach(e=>e(t))});const Ik=async(t,e,n)=>{try{const s=(await GC(Oo,t,e)).user;return await JC(s,{displayName:n}),await yk(s.uid),s}catch(r){throw console.error("Error registering user:",r),r}},Ak=async(t,e)=>{try{return await XC(Oo,Rd),(await QC(Oo,t,e)).user}catch(n){throw console.error("Error logging in:",n),n}},Rk=async()=>{try{await n1(Oo)}catch(t){throw console.error("Error logging out:",t),t}},vc=()=>!!us,En=()=>us==null?void 0:us.uid;const bi=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},Sk={name:"App",data(){return{cartItemCount:0,isAuthenticated:!1,currentUser:null,showLoginModal:!1,showRegisterModal:!1,loginForm:{email:"",password:""},registerForm:{displayName:"",email:"",password:""}}},mounted(){console.log("app mount"),lE(t=>{console.log("on auth state change app vue"),this.isAuthenticated=vc(),this.currentUser=t,t?this.watchUserCart():(this.unsubscribeCart&&this.unsubscribeCart(),this.cartItemCount=0)})},beforeUnmount(){this.unsubscribeCart&&this.unsubscribeCart()},methods:{async login(){try{await Ak(this.loginForm.email,this.loginForm.password),this.showLoginModal=!1,this.loginForm={email:"",password:""}}catch(t){alert("Login failed: "+t.message)}},async register(){try{await Ik(this.registerForm.email,this.registerForm.password,this.registerForm.displayName),this.showRegisterModal=!1,this.registerForm={displayName:"",email:"",password:""}}catch(t){alert("Registration failed: "+t.message)}},async logout(){try{await Rk()}catch(t){console.error("Logout error:",t)}},watchUserCart(){const t=En();t&&(this.unsubscribeCart=Cd(t,e=>{this.cartItemCount=e.reduce((n,r)=>n+r.quantity,0)}))}}},Pk={id:"app"},Ck={class:"navbar"},kk={class:"nav-container"},Ok={class:"nav-links"},Dk={key:0,class:"auth-links"},Vk={key:1,class:"user-menu"},Nk={class:"user-name"},xk={class:"main-content"},Mk={class:"form-group"},Lk={class:"form-group"},Fk={class:"form-actions"},Uk={class:"form-group"},Bk={class:"form-group"},jk={class:"form-group"},$k={class:"form-actions"};function Hk(t,e,n,r,s,i){var c;const o=Br("router-link"),l=Br("router-view");return Ee(),Ae("div",Pk,[D("nav",Ck,[D("div",kk,[De(o,{to:"/",class:"nav-brand"},{default:cn(()=>e[16]||(e[16]=[mt(" 🥕 Local Food Market ",-1)])),_:1,__:[16]}),D("div",Ok,[De(o,{to:"/",class:"nav-link"},{default:cn(()=>e[17]||(e[17]=[mt("Home",-1)])),_:1,__:[17]}),De(o,{to:"/cart",class:"nav-link cart-link"},{default:cn(()=>[mt(" 🛒 Cart ("+Te(s.cartItemCount)+") ",1)]),_:1}),s.isAuthenticated?(Ee(),Ae("div",Vk,[D("span",Nk,Te(((c=s.currentUser)==null?void 0:c.displayName)||"User"),1),D("button",{onClick:e[2]||(e[2]=(...h)=>i.logout&&i.logout(...h)),class:"nav-link auth-btn"},"Logout")])):(Ee(),Ae("div",Dk,[D("button",{onClick:e[0]||(e[0]=h=>s.showLoginModal=!0),class:"nav-link auth-btn"},"Login"),D("button",{onClick:e[1]||(e[1]=h=>s.showRegisterModal=!0),class:"nav-link auth-btn"},"Register")]))])])]),D("main",xk,[De(l)]),e[27]||(e[27]=D("footer",{class:"footer"},[D("p",null,"© 2025 Local Food Marketplace. Supporting local farmers and artisans.")],-1)),s.showLoginModal?(Ee(),Ae("div",{key:0,class:"modal-overlay",onClick:e[8]||(e[8]=h=>s.showLoginModal=!1)},[D("div",{class:"modal",onClick:e[7]||(e[7]=kr(()=>{},["stop"]))},[e[21]||(e[21]=D("h2",null,"Login",-1)),D("form",{onSubmit:e[6]||(e[6]=kr((...h)=>i.login&&i.login(...h),["prevent"]))},[D("div",Mk,[e[18]||(e[18]=D("label",null,"Email:",-1)),hn(D("input",{"onUpdate:modelValue":e[3]||(e[3]=h=>s.loginForm.email=h),type:"email",required:""},null,512),[[Zt,s.loginForm.email]])]),D("div",Lk,[e[19]||(e[19]=D("label",null,"Password:",-1)),hn(D("input",{"onUpdate:modelValue":e[4]||(e[4]=h=>s.loginForm.password=h),type:"password",required:""},null,512),[[Zt,s.loginForm.password]])]),D("div",Fk,[e[20]||(e[20]=D("button",{type:"submit",class:"btn"},"Login",-1)),D("button",{type:"button",class:"btn btn-secondary",onClick:e[5]||(e[5]=h=>s.showLoginModal=!1)},"Cancel")])],32)])])):bt("",!0),s.showRegisterModal?(Ee(),Ae("div",{key:1,class:"modal-overlay",onClick:e[15]||(e[15]=h=>s.showRegisterModal=!1)},[D("div",{class:"modal",onClick:e[14]||(e[14]=kr(()=>{},["stop"]))},[e[26]||(e[26]=D("h2",null,"Register",-1)),D("form",{onSubmit:e[13]||(e[13]=kr((...h)=>i.register&&i.register(...h),["prevent"]))},[D("div",Uk,[e[22]||(e[22]=D("label",null,"Name:",-1)),hn(D("input",{"onUpdate:modelValue":e[9]||(e[9]=h=>s.registerForm.displayName=h),type:"text",required:""},null,512),[[Zt,s.registerForm.displayName]])]),D("div",Bk,[e[23]||(e[23]=D("label",null,"Email:",-1)),hn(D("input",{"onUpdate:modelValue":e[10]||(e[10]=h=>s.registerForm.email=h),type:"email",required:""},null,512),[[Zt,s.registerForm.email]])]),D("div",jk,[e[24]||(e[24]=D("label",null,"Password:",-1)),hn(D("input",{"onUpdate:modelValue":e[11]||(e[11]=h=>s.registerForm.password=h),type:"password",required:""},null,512),[[Zt,s.registerForm.password]])]),D("div",$k,[e[25]||(e[25]=D("button",{type:"submit",class:"btn"},"Register",-1)),D("button",{type:"button",class:"btn btn-secondary",onClick:e[12]||(e[12]=h=>s.showRegisterModal=!1)},"Cancel")])],32)])])):bt("",!0)])}const qk=bi(Sk,[["render",Hk],["__scopeId","data-v-a918dfda"]]),cE=async t=>{const e=En();e&&(await oE(t.id,-1),await yc(e,t,1))},uE=async t=>{const e=En();e&&(await oE(t.id,1),await yc(e,t,-1))},Wk=()=>{const t=En();return t?Ek(t):Promise.resolve([])},Kk=t=>{const e=En();return e?Cd(e,t):()=>{}};var zk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gk(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Qk(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var hE={exports:{}};const Yk=Qk(gb);(function(t,e){(function(n,r){t.exports=r(Yk)})(typeof self<"u"?self:zk,function(n){return function(){var r={388:function(l,c){var h,u,f;(function(g,y){u=[],h=y,f=typeof h=="function"?h.apply(c,u):h,f===void 0||(l.exports=f)})(typeof self<"u"&&self,function(){function g(){var y=Object.getOwnPropertyDescriptor(document,"currentScript");if(!y&&"currentScript"in document&&document.currentScript||y&&y.get!==g&&document.currentScript)return document.currentScript;try{throw new Error}catch(w){var O,N,F,$=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,L=/@([^@]*):(\d+):(\d+)\s*$/gi,S=$.exec(w.stack)||L.exec(w.stack),V=S&&S[1]||!1,B=S&&S[2]||!1,H=document.location.href.replace(document.location.hash,""),A=document.getElementsByTagName("script");V===H&&(O=document.documentElement.outerHTML,N=new RegExp("(?:[^\\n]+?\\n){0,"+(B-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),F=O.replace(N,"$1").trim());for(var E=0;E<A.length;E++)if(A[E].readyState==="interactive"||A[E].src===V||V===H&&A[E].innerHTML&&A[E].innerHTML.trim()===F)return A[E];return null}}return g})},905:function(l,c,h){h.r(c);var u=h(117),f=h.n(u),g=h(488),y=h.n(g),O=y()(f());O.push([l.id,".vue-slider-dot{position:absolute;-webkit-transition:all 0s;transition:all 0s;z-index:5}.vue-slider-dot:focus{outline:none}.vue-slider-dot-tooltip{position:absolute;visibility:hidden}.vue-slider-dot-hover:hover .vue-slider-dot-tooltip,.vue-slider-dot-tooltip-show{visibility:visible}.vue-slider-dot-tooltip-top{top:-10px;left:50%;-webkit-transform:translate(-50%,-100%);transform:translate(-50%,-100%)}.vue-slider-dot-tooltip-bottom{bottom:-10px;left:50%;-webkit-transform:translate(-50%,100%);transform:translate(-50%,100%)}.vue-slider-dot-tooltip-left{left:-10px;top:50%;-webkit-transform:translate(-100%,-50%);transform:translate(-100%,-50%)}.vue-slider-dot-tooltip-right{right:-10px;top:50%;-webkit-transform:translate(100%,-50%);transform:translate(100%,-50%)}",""]),c.default=O},121:function(l,c,h){h.r(c);var u=h(117),f=h.n(u),g=h(488),y=h.n(g),O=y()(f());O.push([l.id,".vue-slider-marks{position:relative;width:100%;height:100%}.vue-slider-mark{position:absolute;z-index:1}.vue-slider-ltr .vue-slider-mark,.vue-slider-rtl .vue-slider-mark{width:0;height:100%;top:50%}.vue-slider-ltr .vue-slider-mark-step,.vue-slider-rtl .vue-slider-mark-step{top:0}.vue-slider-ltr .vue-slider-mark-label,.vue-slider-rtl .vue-slider-mark-label{top:100%;margin-top:10px}.vue-slider-ltr .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ltr .vue-slider-mark-step{left:0}.vue-slider-ltr .vue-slider-mark-label{left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.vue-slider-rtl .vue-slider-mark{-webkit-transform:translate(50%,-50%);transform:translate(50%,-50%)}.vue-slider-rtl .vue-slider-mark-step{right:0}.vue-slider-rtl .vue-slider-mark-label{right:50%;-webkit-transform:translateX(50%);transform:translateX(50%)}.vue-slider-btt .vue-slider-mark,.vue-slider-ttb .vue-slider-mark{width:100%;height:0;left:50%}.vue-slider-btt .vue-slider-mark-step,.vue-slider-ttb .vue-slider-mark-step{left:0}.vue-slider-btt .vue-slider-mark-label,.vue-slider-ttb .vue-slider-mark-label{left:100%;margin-left:10px}.vue-slider-btt .vue-slider-mark{-webkit-transform:translate(-50%,50%);transform:translate(-50%,50%)}.vue-slider-btt .vue-slider-mark-step{top:0}.vue-slider-btt .vue-slider-mark-label{top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.vue-slider-ttb .vue-slider-mark{-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.vue-slider-ttb .vue-slider-mark-step{bottom:0}.vue-slider-ttb .vue-slider-mark-label{bottom:50%;-webkit-transform:translateY(50%);transform:translateY(50%)}.vue-slider-mark-label,.vue-slider-mark-step{position:absolute}",""]),c.default=O},207:function(l,c,h){h.r(c);var u=h(117),f=h.n(u),g=h(488),y=h.n(g),O=y()(f());O.push([l.id,".vue-slider{position:relative;-webkit-box-sizing:content-box;box-sizing:content-box;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.vue-slider-rail{position:relative;width:100%;height:100%;-webkit-transition-property:width,height,left,right,top,bottom;transition-property:width,height,left,right,top,bottom}.vue-slider-process{position:absolute;z-index:1}",""]),c.default=O},488:function(l){l.exports=function(c){var h=[];return h.toString=function(){return this.map(function(u){var f="",g=typeof u[5]<"u";return u[4]&&(f+="@supports (".concat(u[4],") {")),u[2]&&(f+="@media ".concat(u[2]," {")),g&&(f+="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {")),f+=c(u),g&&(f+="}"),u[2]&&(f+="}"),u[4]&&(f+="}"),f}).join("")},h.i=function(u,f,g,y,O){typeof u=="string"&&(u=[[null,u,void 0]]);var N={};if(g)for(var F=0;F<this.length;F++){var $=this[F][0];$!=null&&(N[$]=!0)}for(var L=0;L<u.length;L++){var S=[].concat(u[L]);g&&N[S[0]]||(typeof O<"u"&&(typeof S[5]>"u"||(S[1]="@layer".concat(S[5].length>0?" ".concat(S[5]):""," {").concat(S[1],"}")),S[5]=O),f&&(S[2]&&(S[1]="@media ".concat(S[2]," {").concat(S[1],"}")),S[2]=f),y&&(S[4]?(S[1]="@supports (".concat(S[4],") {").concat(S[1],"}"),S[4]=y):S[4]="".concat(y)),h.push(S))}},h}},117:function(l){l.exports=function(c){return c[1]}},831:function(l,c){c.Z=(h,u)=>{const f=h.__vccOpts||h;for(const[g,y]of u)f[g]=y;return f}},466:function(l,c,h){var u=h(905);u.__esModule&&(u=u.default),typeof u=="string"&&(u=[[l.id,u,""]]),u.locals&&(l.exports=u.locals);var f=h(959).Z;f("50bc1720",u,!0,{sourceMap:!1,shadowMode:!1})},18:function(l,c,h){var u=h(121);u.__esModule&&(u=u.default),typeof u=="string"&&(u=[[l.id,u,""]]),u.locals&&(l.exports=u.locals);var f=h(959).Z;f("10aa5f36",u,!0,{sourceMap:!1,shadowMode:!1})},631:function(l,c,h){var u=h(207);u.__esModule&&(u=u.default),typeof u=="string"&&(u=[[l.id,u,""]]),u.locals&&(l.exports=u.locals);var f=h(959).Z;f("1772934e",u,!0,{sourceMap:!1,shadowMode:!1})},959:function(l,c,h){function u(b,T){for(var oe=[],ce={},Q=0;Q<T.length;Q++){var ae=T[Q],Z=ae[0],Ie=ae[1],Ze=ae[2],st=ae[3],Be={id:b+":"+Q,css:Ie,media:Ze,sourceMap:st};ce[Z]?ce[Z].parts.push(Be):oe.push(ce[Z]={id:Z,parts:[Be]})}return oe}h.d(c,{Z:function(){return B}});var f=typeof document<"u";if(typeof DEBUG<"u"&&DEBUG&&!f)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var g={},y=f&&(document.head||document.getElementsByTagName("head")[0]),O=null,N=0,F=!1,$=function(){},L=null,S="data-vue-ssr-id",V=typeof navigator<"u"&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function B(b,T,oe,ce){F=oe,L=ce||{};var Q=u(b,T);return H(Q),function(ae){for(var Z=[],Ie=0;Ie<Q.length;Ie++){var Ze=Q[Ie],st=g[Ze.id];st.refs--,Z.push(st)}for(ae?(Q=u(b,ae),H(Q)):Q=[],Ie=0;Ie<Z.length;Ie++)if(st=Z[Ie],st.refs===0){for(var Be=0;Be<st.parts.length;Be++)st.parts[Be]();delete g[st.id]}}}function H(b){for(var T=0;T<b.length;T++){var oe=b[T],ce=g[oe.id];if(ce){ce.refs++;for(var Q=0;Q<ce.parts.length;Q++)ce.parts[Q](oe.parts[Q]);for(;Q<oe.parts.length;Q++)ce.parts.push(E(oe.parts[Q]));ce.parts.length>oe.parts.length&&(ce.parts.length=oe.parts.length)}else{var ae=[];for(Q=0;Q<oe.parts.length;Q++)ae.push(E(oe.parts[Q]));g[oe.id]={id:oe.id,refs:1,parts:ae}}}}function A(){var b=document.createElement("style");return b.type="text/css",y.appendChild(b),b}function E(b){var T,oe,ce=document.querySelector("style["+S+'~="'+b.id+'"]');if(ce){if(F)return $;ce.parentNode.removeChild(ce)}if(V){var Q=N++;ce=O||(O=A()),T=I.bind(null,ce,Q,!1),oe=I.bind(null,ce,Q,!0)}else ce=A(),T=P.bind(null,ce),oe=function(){ce.parentNode.removeChild(ce)};return T(b),function(ae){if(ae){if(ae.css===b.css&&ae.media===b.media&&ae.sourceMap===b.sourceMap)return;T(b=ae)}else oe()}}var w=function(){var b=[];return function(T,oe){return b[T]=oe,b.filter(Boolean).join(`
`)}}();function I(b,T,oe,ce){var Q=oe?"":ce.css;if(b.styleSheet)b.styleSheet.cssText=w(T,Q);else{var ae=document.createTextNode(Q),Z=b.childNodes;Z[T]&&b.removeChild(Z[T]),Z.length?b.insertBefore(ae,Z[T]):b.appendChild(ae)}}function P(b,T){var oe=T.css,ce=T.media,Q=T.sourceMap;if(ce&&b.setAttribute("media",ce),L.ssrId&&b.setAttribute(S,T.id),Q&&(oe+=`
/*# sourceURL=`+Q.sources[0]+" */",oe+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(Q))))+" */"),b.styleSheet)b.styleSheet.cssText=oe;else{for(;b.firstChild;)b.removeChild(b.firstChild);b.appendChild(document.createTextNode(oe))}}},927:function(l){l.exports=n}},s={};function i(l){var c=s[l];if(c!==void 0)return c.exports;var h=s[l]={id:l,exports:{}};return r[l].call(h.exports,h,h.exports,i),h.exports}(function(){i.n=function(l){var c=l&&l.__esModule?function(){return l.default}:function(){return l};return i.d(c,{a:c}),c}})(),function(){i.d=function(l,c){for(var h in c)i.o(c,h)&&!i.o(l,h)&&Object.defineProperty(l,h,{enumerable:!0,get:c[h]})}}(),function(){i.o=function(l,c){return Object.prototype.hasOwnProperty.call(l,c)}}(),function(){i.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})}}(),function(){i.p=""}();var o={};return function(){if(i.d(o,{default:function(){return Ai}}),typeof window<"u"){var l=window.document.currentScript,c=i(388);l=c(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:c});var h=l&&l.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);h&&(i.p=h[1])}var u=i(927);function f(m,_,k){return _ in m?Object.defineProperty(m,_,{value:k,enumerable:!0,configurable:!0,writable:!0}):m[_]=k,m}var g={key:0,class:"vue-slider-marks"};function y(m,_,k,x,X,ue){var _e=(0,u.resolveComponent)("vue-slider-mark"),yt=(0,u.resolveComponent)("vue-slider-dot");return(0,u.openBlock)(),(0,u.createElementBlock)("div",(0,u.mergeProps)({ref:"container",class:m.containerClasses,style:m.containerStyles,onClick:_[1]||(_[1]=function(){return m.clickHandle&&m.clickHandle.apply(m,arguments)}),onTouchstartPassive:_[2]||(_[2]=function(){return m.dragStartOnProcess&&m.dragStartOnProcess.apply(m,arguments)}),onMousedownPassive:_[3]||(_[3]=function(){return m.dragStartOnProcess&&m.dragStartOnProcess.apply(m,arguments)})},m.$attrs),[(0,u.createElementVNode)("div",{class:"vue-slider-rail",style:(0,u.normalizeStyle)(m.railStyle)},[((0,u.openBlock)(!0),(0,u.createElementBlock)(u.Fragment,null,(0,u.renderList)(m.processArray,function(Se,tt){return(0,u.renderSlot)(m.$slots,"process",(0,u.normalizeProps)((0,u.guardReactiveProps)(Se)),function(){return[((0,u.openBlock)(),(0,u.createElementBlock)("div",{class:"vue-slider-process",key:"process-".concat(tt),style:(0,u.normalizeStyle)(Se.style)},null,4))]})}),256)),m.sliderMarks&&m.control?((0,u.openBlock)(),(0,u.createElementBlock)("div",g,[((0,u.openBlock)(!0),(0,u.createElementBlock)(u.Fragment,null,(0,u.renderList)(m.control.markList,function(Se,tt){return(0,u.renderSlot)(m.$slots,"mark",(0,u.normalizeProps)((0,u.guardReactiveProps)(Se)),function(){var At;return[((0,u.openBlock)(),(0,u.createBlock)(_e,{key:"mark-".concat(tt),mark:Se,hideLabel:m.hideLabel,style:(0,u.normalizeStyle)((At={},f(At,m.isHorizontal?"height":"width","100%"),f(At,m.isHorizontal?"width":"height",m.tailSize),f(At,m.mainDirection,"".concat(Se.pos,"%")),At)),stepStyle:m.stepStyle,stepActiveStyle:m.stepActiveStyle,labelStyle:m.labelStyle,labelActiveStyle:m.labelActiveStyle,onPressLabel:function(Gr){return m.clickable&&m.setValueByPos(Gr)}},{step:(0,u.withCtx)(function(){return[(0,u.renderSlot)(m.$slots,"step",(0,u.normalizeProps)((0,u.guardReactiveProps)(Se)))]}),label:(0,u.withCtx)(function(){return[(0,u.renderSlot)(m.$slots,"label",(0,u.normalizeProps)((0,u.guardReactiveProps)(Se)))]}),_:2},1032,["mark","hideLabel","style","stepStyle","stepActiveStyle","labelStyle","labelActiveStyle","onPressLabel"]))]})}),256))])):(0,u.createCommentVNode)("",!0),((0,u.openBlock)(!0),(0,u.createElementBlock)(u.Fragment,null,(0,u.renderList)(m.dots,function(Se,tt){var At;return(0,u.openBlock)(),(0,u.createBlock)(yt,(0,u.mergeProps)({ref_for:!0,ref:"dot-".concat(tt),key:"dot-".concat(tt),value:Se.value,disabled:Se.disabled,focus:Se.focus,"dot-style":[Se.style,Se.disabled?Se.disabledStyle:null,Se.focus?Se.focusStyle:null],tooltip:Se.tooltip||m.tooltip,"tooltip-style":[m.tooltipStyle,Se.tooltipStyle,Se.disabled?Se.tooltipDisabledStyle:null,Se.focus?Se.tooltipFocusStyle:null],"tooltip-formatter":Array.isArray(m.sliderTooltipFormatter)?m.sliderTooltipFormatter[tt]:m.sliderTooltipFormatter,"tooltip-placement":m.tooltipDirections[tt],style:[m.dotBaseStyle,(At={},f(At,m.mainDirection,"".concat(Se.pos,"%")),f(At,"transition","".concat(m.mainDirection," ").concat(m.animateTime,"s")),At)],onDragStart:function(){return m.dragStart(tt)},role:"slider","aria-valuenow":Se.value,"aria-valuemin":m.min,"aria-valuemax":m.max,"aria-orientation":m.isHorizontal?"horizontal":"vertical",tabindex:"0",onFocus:function(){return m.focus(Se,tt)},onBlur:_[0]||(_[0]=function(){return m.blur()})},m.dotAttrs),{dot:(0,u.withCtx)(function(){return[(0,u.renderSlot)(m.$slots,"dot",(0,u.normalizeProps)((0,u.guardReactiveProps)(Se)))]}),tooltip:(0,u.withCtx)(function(){return[(0,u.renderSlot)(m.$slots,"tooltip",(0,u.normalizeProps)((0,u.guardReactiveProps)(Se)))]}),_:2},1040,["value","disabled","focus","dot-style","tooltip","tooltip-style","tooltip-formatter","tooltip-placement","style","onDragStart","aria-valuenow","aria-valuemin","aria-valuemax","aria-orientation","onFocus"])}),128))],4),(0,u.renderSlot)(m.$slots,"default",{value:m.getValue()})],16)}var O=["aria-valuetext"],N={class:"vue-slider-dot-tooltip-text"};function F(m,_,k,x,X,ue){return(0,u.openBlock)(),(0,u.createElementBlock)("div",{ref:"dot",class:(0,u.normalizeClass)(m.dotClasses),"aria-valuetext":m.tooltipValue,onMousedownPassive:_[0]||(_[0]=function(){return m.dragStart&&m.dragStart.apply(m,arguments)}),onTouchstartPassive:_[1]||(_[1]=function(){return m.dragStart&&m.dragStart.apply(m,arguments)})},[(0,u.renderSlot)(m.$slots,"dot",{},function(){return[(0,u.createElementVNode)("div",{class:(0,u.normalizeClass)(m.handleClasses),style:(0,u.normalizeStyle)(m.dotStyle)},null,6)]}),m.tooltip!=="none"?((0,u.openBlock)(),(0,u.createElementBlock)("div",{key:0,class:(0,u.normalizeClass)(m.tooltipClasses)},[(0,u.renderSlot)(m.$slots,"tooltip",{},function(){return[(0,u.createElementVNode)("div",{class:(0,u.normalizeClass)(m.tooltipInnerClasses),style:(0,u.normalizeStyle)(m.tooltipStyle)},[(0,u.createElementVNode)("span",N,(0,u.toDisplayString)(m.tooltipValue),1)],6)]})],2)):(0,u.createCommentVNode)("",!0)],42,O)}i(466);var $=(0,u.defineComponent)({name:"VueSliderDot",emits:["DragStart"],props:{value:{type:[String,Number],default:0},tooltip:{type:String,required:!0},tooltipPlacement:{type:String,validator:function(m){return["top","right","bottom","left"].indexOf(m)>-1},required:!0},tooltipFormatter:{type:[String,Function]},focus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},dotStyle:{type:Object},tooltipStyle:{type:Object}},computed:{dotClasses:function(){return["vue-slider-dot",{"vue-slider-dot-hover":this.tooltip==="hover"||this.tooltip==="active","vue-slider-dot-disabled":this.disabled,"vue-slider-dot-focus":this.focus}]},handleClasses:function(){return["vue-slider-dot-handle",{"vue-slider-dot-handle-disabled":this.disabled,"vue-slider-dot-handle-focus":this.focus}]},tooltipClasses:function(){return["vue-slider-dot-tooltip",["vue-slider-dot-tooltip-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-show":this.showTooltip}]},tooltipInnerClasses:function(){return["vue-slider-dot-tooltip-inner",["vue-slider-dot-tooltip-inner-".concat(this.tooltipPlacement)],{"vue-slider-dot-tooltip-inner-disabled":this.disabled,"vue-slider-dot-tooltip-inner-focus":this.focus}]},showTooltip:function(){switch(this.tooltip){case"always":return!0;case"none":return!1;case"focus":case"active":return!!this.focus;default:return!1}},tooltipValue:function(){return this.tooltipFormatter?typeof this.tooltipFormatter=="string"?this.tooltipFormatter.replace(/\{value\}/,String(this.value)):this.tooltipFormatter(this.value):this.value}},methods:{dragStart:function(){if(this.disabled)return!1;this.$emit("DragStart")}}}),L=i(831),V=(0,L.Z)($,[["render",F]]);function B(m,_,k,x,X,ue){return(0,u.openBlock)(),(0,u.createElementBlock)("div",{class:(0,u.normalizeClass)(m.marksClasses)},[(0,u.renderSlot)(m.$slots,"step",{},function(){return[(0,u.createElementVNode)("div",{class:(0,u.normalizeClass)(m.stepClasses),style:(0,u.normalizeStyle)([m.stepStyle,m.mark.style,m.mark.active?m.stepActiveStyle:null,m.mark.active?m.mark.activeStyle:null])},null,6)]}),m.hideLabel?(0,u.createCommentVNode)("",!0):(0,u.renderSlot)(m.$slots,"label",{key:0},function(){return[(0,u.createElementVNode)("div",{class:(0,u.normalizeClass)(m.labelClasses),style:(0,u.normalizeStyle)([m.labelStyle,m.mark.labelStyle,m.mark.active?m.labelActiveStyle:null,m.mark.active?m.mark.labelActiveStyle:null]),onClick:_[0]||(_[0]=function(){return m.labelClickHandle&&m.labelClickHandle.apply(m,arguments)})},(0,u.toDisplayString)(m.mark.label),7)]})],2)}i(18);var H=(0,u.defineComponent)({name:"VueSliderMark",emits:["PressLabel"],props:{mark:{type:Object,required:!0},hideLabel:{type:Boolean},stepStyle:{type:Object},stepActiveStyle:{type:Object},labelStyle:{type:Object},labelActiveStyle:{type:Object}},computed:{marksClasses:function(){return["vue-slider-mark",{"vue-slider-mark-active":this.mark.active}]},stepClasses:function(){return["vue-slider-mark-step",{"vue-slider-mark-step-active":this.mark.active}]},labelClasses:function(){return["vue-slider-mark-label",{"vue-slider-mark-label-active":this.mark.active}]}},methods:{labelClickHandle:function(m){m.stopPropagation(),this.$emit("PressLabel",this.mark.pos)}}});const A=(0,L.Z)(H,[["render",B]]);var E,w=A,I=function(m){return typeof m=="number"?"".concat(m,"px"):m},P=function(m){var _=document.documentElement,k=document.body,x=m.getBoundingClientRect(),X={y:x.top+(window.pageYOffset||_.scrollTop)-(_.clientTop||k.clientTop||0),x:x.left+(window.pageXOffset||_.scrollLeft)-(_.clientLeft||k.clientLeft||0)};return X},b=function(m,_,k){var x="targetTouches"in m?m.targetTouches[0]:m,X=P(_),ue={x:x.pageX-X.x,y:x.pageY-X.y};return{x:k?_.offsetWidth-ue.x:ue.x,y:k?_.offsetHeight-ue.y:ue.y}};(function(m){m[m.PAGE_UP=33]="PAGE_UP",m[m.PAGE_DOWN=34]="PAGE_DOWN",m[m.END=35]="END",m[m.HOME=36]="HOME",m[m.LEFT=37]="LEFT",m[m.UP=38]="UP",m[m.RIGHT=39]="RIGHT",m[m.DOWN=40]="DOWN"})(E||(E={}));var T=function(m,_){if(_.hook){var k=_.hook(m);if(typeof k=="function")return k;if(!k)return null}switch(m.keyCode){case E.UP:return function(x){return _.direction==="ttb"?x-1:x+1};case E.RIGHT:return function(x){return _.direction==="rtl"?x-1:x+1};case E.DOWN:return function(x){return _.direction==="ttb"?x+1:x-1};case E.LEFT:return function(x){return _.direction==="rtl"?x+1:x-1};case E.END:return function(){return _.max};case E.HOME:return function(){return _.min};case E.PAGE_UP:return function(x){return x+10};case E.PAGE_DOWN:return function(x){return x-10};default:return null}};function oe(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function ce(m,_){for(var k=0;k<_.length;k++){var x=_[k];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}function Q(m,_,k){return _&&ce(m.prototype,_),k&&ce(m,k),Object.defineProperty(m,"prototype",{writable:!1}),m}function ae(m,_,k){return _ in m?Object.defineProperty(m,_,{value:k,enumerable:!0,configurable:!0,writable:!0}):m[_]=k,m}var Z,Ie,Ze=function(){function m(_){oe(this,m),ae(this,"num",void 0),this.num=_}return Q(m,[{key:"decimal",value:function(_,k){var x=this.num,X=this.getDecimalLen(x),ue=this.getDecimalLen(_),_e=0;switch(k){case"+":_e=this.getExponent(X,ue),this.num=(this.safeRoundUp(x,_e)+this.safeRoundUp(_,_e))/_e;break;case"-":_e=this.getExponent(X,ue),this.num=(this.safeRoundUp(x,_e)-this.safeRoundUp(_,_e))/_e;break;case"*":this.num=this.safeRoundUp(this.safeRoundUp(x,this.getExponent(X)),this.safeRoundUp(_,this.getExponent(ue)))/this.getExponent(X+ue);break;case"/":_e=this.getExponent(X,ue),this.num=this.safeRoundUp(x,_e)/this.safeRoundUp(_,_e);break;case"%":_e=this.getExponent(X,ue),this.num=this.safeRoundUp(x,_e)%this.safeRoundUp(_,_e)/_e;break}return this}},{key:"plus",value:function(_){return this.decimal(_,"+")}},{key:"minus",value:function(_){return this.decimal(_,"-")}},{key:"multiply",value:function(_){return this.decimal(_,"*")}},{key:"divide",value:function(_){return this.decimal(_,"/")}},{key:"remainder",value:function(_){return this.decimal(_,"%")}},{key:"toNumber",value:function(){return this.num}},{key:"getDecimalLen",value:function(_){var k="".concat(_).split("e");return("".concat(k[0]).split(".")[1]||"").length-(k[1]?+k[1]:0)}},{key:"getExponent",value:function(_,k){return Math.pow(10,k!==void 0?Math.max(_,k):_)}},{key:"safeRoundUp",value:function(_,k){return Math.round(_*k)}}]),m}();function st(m,_){return An(m)||et(m,_)||ie(m,_)||Be()}function Be(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function et(m,_){var k=m==null?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(k!=null){var x,X,ue=[],_e=!0,yt=!1;try{for(k=k.call(m);!(_e=(x=k.next()).done)&&(ue.push(x.value),!(_&&ue.length===_));_e=!0);}catch(Se){yt=!0,X=Se}finally{try{_e||k.return==null||k.return()}finally{if(yt)throw X}}return ue}}function An(m){if(Array.isArray(m))return m}function rn(m,_){var k=Object.keys(m);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(m);_&&(x=x.filter(function(X){return Object.getOwnPropertyDescriptor(m,X).enumerable})),k.push.apply(k,x)}return k}function xt(m){for(var _=1;_<arguments.length;_++){var k=arguments[_]!=null?arguments[_]:{};_%2?rn(Object(k),!0).forEach(function(x){q(m,x,k[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(k)):rn(Object(k)).forEach(function(x){Object.defineProperty(m,x,Object.getOwnPropertyDescriptor(k,x))})}return m}function W(m){return Ve(m)||de(m)||ie(m)||le()}function le(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ie(m,_){if(m){if(typeof m=="string")return je(m,_);var k=Object.prototype.toString.call(m).slice(8,-1);return k==="Object"&&m.constructor&&(k=m.constructor.name),k==="Map"||k==="Set"?Array.from(m):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?je(m,_):void 0}}function de(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}function Ve(m){if(Array.isArray(m))return je(m)}function je(m,_){(_==null||_>m.length)&&(_=m.length);for(var k=0,x=new Array(_);k<_;k++)x[k]=m[k];return x}function R(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function C(m,_){for(var k=0;k<_.length;k++){var x=_[k];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}function U(m,_,k){return _&&C(m.prototype,_),k&&C(m,k),Object.defineProperty(m,"prototype",{writable:!1}),m}function q(m,_,k){return _ in m?Object.defineProperty(m,_,{value:k,enumerable:!0,configurable:!0,writable:!0}):m[_]=k,m}(function(m){m[m.VALUE=1]="VALUE",m[m.INTERVAL=2]="INTERVAL",m[m.MIN=3]="MIN",m[m.MAX=4]="MAX",m[m.ORDER=5]="ORDER"})(Ie||(Ie={}));var K=(Z={},q(Z,Ie.VALUE,'The type of the "value" is illegal'),q(Z,Ie.INTERVAL,'The prop "interval" is invalid, "(max - min)" must be divisible by "interval"'),q(Z,Ie.MIN,'The "value" must be greater than or equal to the "min".'),q(Z,Ie.MAX,'The "value" must be less than or equal to the "max".'),q(Z,Ie.ORDER,'When "order" is false, the parameters "minRange", "maxRange", "fixed", "enabled" are invalid.'),Z),G=function(){function m(_){R(this,m),q(this,"dotsPos",[]),q(this,"dotsValue",[]),q(this,"data",void 0),q(this,"enableCross",void 0),q(this,"fixed",void 0),q(this,"max",void 0),q(this,"min",void 0),q(this,"interval",void 0),q(this,"minRange",void 0),q(this,"maxRange",void 0),q(this,"order",void 0),q(this,"marks",void 0),q(this,"included",void 0),q(this,"process",void 0),q(this,"adsorb",void 0),q(this,"dotOptions",void 0),q(this,"onError",void 0),q(this,"cacheRangeDir",{}),this.data=_.data,this.max=_.max,this.min=_.min,this.interval=_.interval,this.order=_.order,this.marks=_.marks,this.included=_.included,this.process=_.process,this.adsorb=_.adsorb,this.dotOptions=_.dotOptions,this.onError=_.onError,this.order?(this.minRange=_.minRange||0,this.maxRange=_.maxRange||0,this.enableCross=_.enableCross,this.fixed=_.fixed):((_.minRange||_.maxRange||!_.enableCross||_.fixed)&&this.emitError(Ie.ORDER),this.minRange=0,this.maxRange=0,this.enableCross=!0,this.fixed=!1),this.setValue(_.value)}return U(m,[{key:"setValue",value:function(_){this.setDotsValue(Array.isArray(_)?W(_):[_],!0)}},{key:"setDotsValue",value:function(_,k){this.dotsValue=_,k&&this.syncDotsPos()}},{key:"setDotsPos",value:function(_){var k=this,x=this.order?W(_).sort(function(X,ue){return X-ue}):_;this.dotsPos=x,this.setDotsValue(x.map(function(X){return k.getValueByPos(X)}),this.adsorb)}},{key:"getValueByPos",value:function(_){var k=this.parsePos(_);if(this.included){var x=100;this.markList.forEach(function(X){var ue=Math.abs(X.pos-_);ue<x&&(x=ue,k=X.value)})}return k}},{key:"syncDotsPos",value:function(){var _=this;this.dotsPos=this.dotsValue.map(function(k){return _.parseValue(k)})}},{key:"markList",get:function(){var _=this;if(!this.marks)return[];var k=function(x,X){var ue=_.parseValue(x);return xt({pos:ue,value:x,label:x,active:_.isActiveByPos(ue)},X)};return this.marks===!0?this.getValues().map(function(x){return k(x)}):Object.prototype.toString.call(this.marks)==="[object Object]"?Object.keys(this.marks).sort(function(x,X){return+x-+X}).map(function(x){var X=_.marks[x];return k(x,typeof X!="string"?X:{label:X})}):Array.isArray(this.marks)?this.marks.map(function(x){return k(x)}):typeof this.marks=="function"?this.getValues().map(function(x){return{value:x,result:_.marks(x)}}).filter(function(x){var X=x.result;return!!X}).map(function(x){var X=x.value,ue=x.result;return k(X,ue)}):[]}},{key:"getRecentDot",value:function(_){var k=this.dotsPos.map(function(x){return Math.abs(x-_)});return k.indexOf(Math.min.apply(Math,W(k)))}},{key:"getIndexByValue",value:function(_){return this.data?this.data.indexOf(_):new Ze(+_).minus(this.min).divide(this.interval).toNumber()}},{key:"getValueByIndex",value:function(_){return _<0?_=0:_>this.total&&(_=this.total),this.data?this.data[_]:new Ze(_).multiply(this.interval).plus(this.min).toNumber()}},{key:"setDotPos",value:function(_,k){_=this.getValidPos(_,k).pos;var x=_-this.dotsPos[k];if(x){var X=new Array(this.dotsPos.length);this.fixed?X=this.getFixedChangePosArr(x,k):this.minRange||this.maxRange?X=this.getLimitRangeChangePosArr(_,x,k):X[k]=x,this.setDotsPos(this.dotsPos.map(function(ue,_e){return ue+(X[_e]||0)}))}}},{key:"getFixedChangePosArr",value:function(_,k){var x=this;return this.dotsPos.forEach(function(X,ue){if(ue!==k){var _e=x.getValidPos(X+_,ue),yt=_e.pos,Se=_e.inRange;Se||(_=Math.min(Math.abs(yt-X),Math.abs(_))*(_<0?-1:1))}}),this.dotsPos.map(function(X){return _})}},{key:"getLimitRangeChangePosArr",value:function(_,k,x){var X=this,ue=[{index:x,changePos:k}],_e=k;return[this.minRange,this.maxRange].forEach(function(yt,Se){if(!yt)return!1;var tt=Se===0,At=k>0,Gr=0;Gr=tt?At?1:-1:At?-1:1;for(var pr=function(Ss,Sn){var Ri=Math.abs(Ss-Sn);return tt?Ri<X.minRangeDir:Ri>X.maxRangeDir},Qr=x+Gr,Yr=X.dotsPos[Qr],Jr=_;X.isPos(Yr)&&pr(Yr,Jr);){var oa=X.getValidPos(Yr+_e,Qr),Rs=oa.pos;ue.push({index:Qr,changePos:Rs-Yr}),Qr+=Gr,Jr=Rs,Yr=X.dotsPos[Qr]}}),this.dotsPos.map(function(yt,Se){var tt=ue.filter(function(At){return At.index===Se});return tt.length?tt[0].changePos:0})}},{key:"isPos",value:function(_){return typeof _=="number"}},{key:"getValidPos",value:function(_,k){var x=this.valuePosRange[k],X=!0;return _<x[0]?(_=x[0],X=!1):_>x[1]&&(_=x[1],X=!1),{pos:_,inRange:X}}},{key:"parseValue",value:function(_){if(this.data)_=this.data.indexOf(_);else if(typeof _=="number"||typeof _=="string"){if(_=+_,_<this.min)return this.emitError(Ie.MIN),0;if(_>this.max)return this.emitError(Ie.MAX),0;if(typeof _!="number"||_!==_)return this.emitError(Ie.VALUE),0;_=new Ze(_).minus(this.min).divide(this.interval).toNumber()}var k=new Ze(_).multiply(this.gap).toNumber();return k<0?0:k>100?100:k}},{key:"parsePos",value:function(_){var k=Math.round(_/this.gap);return this.getValueByIndex(k)}},{key:"isActiveByPos",value:function(_){return this.processArray.some(function(k){var x=st(k,2),X=x[0],ue=x[1];return _>=X&&_<=ue})}},{key:"getValues",value:function(){if(this.data)return this.data;for(var _=[],k=0;k<=this.total;k++)_.push(new Ze(k).multiply(this.interval).plus(this.min).toNumber());return _}},{key:"getRangeDir",value:function(_){return _?new Ze(_).divide(new Ze(this.data?this.data.length-1:this.max).minus(this.data?0:this.min).toNumber()).multiply(100).toNumber():100}},{key:"emitError",value:function(_){this.onError&&this.onError(_,K[_])}},{key:"processArray",get:function(){if(this.process){if(typeof this.process=="function")return this.process(this.dotsPos);if(this.dotsPos.length===1)return[[0,this.dotsPos[0]]];if(this.dotsPos.length>1)return[[Math.min.apply(Math,W(this.dotsPos)),Math.max.apply(Math,W(this.dotsPos))]]}return[]}},{key:"total",get:function(){var _=0;return _=this.data?this.data.length-1:new Ze(this.max).minus(this.min).divide(this.interval).toNumber(),_-Math.floor(_)!==0?(this.emitError(Ie.INTERVAL),0):_}},{key:"gap",get:function(){return 100/this.total}},{key:"minRangeDir",get:function(){return this.cacheRangeDir[this.minRange]?this.cacheRangeDir[this.minRange]:this.cacheRangeDir[this.minRange]=this.getRangeDir(this.minRange)}},{key:"maxRangeDir",get:function(){return this.cacheRangeDir[this.maxRange]?this.cacheRangeDir[this.maxRange]:this.cacheRangeDir[this.maxRange]=this.getRangeDir(this.maxRange)}},{key:"getDotRange",value:function(_,k,x){if(!this.dotOptions)return x;var X=Array.isArray(this.dotOptions)?this.dotOptions[_]:this.dotOptions;return X&&X[k]!==void 0?this.parseValue(X[k]):x}},{key:"valuePosRange",get:function(){var _=this,k=this.dotsPos,x=[];return k.forEach(function(X,ue){x.push([Math.max(_.minRange?_.minRangeDir*ue:0,_.enableCross?0:k[ue-1]||0,_.getDotRange(ue,"min",0)),Math.min(_.minRange?100-_.minRangeDir*(k.length-1-ue):100,_.enableCross?100:k[ue+1]||100,_.getDotRange(ue,"max",100))])}),x}},{key:"dotsIndex",get:function(){var _=this;return this.dotsValue.map(function(k){return _.getIndexByValue(k)})}}]),m}();function se(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function te(m,_){for(var k=0;k<_.length;k++){var x=_[k];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}function ee(m,_,k){return _&&te(m.prototype,_),k&&te(m,k),Object.defineProperty(m,"prototype",{writable:!1}),m}function J(m,_,k){return _ in m?Object.defineProperty(m,_,{value:k,enumerable:!0,configurable:!0,writable:!0}):m[_]=k,m}var ge=function(){function m(_){se(this,m),J(this,"map",void 0),J(this,"states",0),this.map=_}return ee(m,[{key:"add",value:function(_){this.states|=_}},{key:"delete",value:function(_){this.states&=~_}},{key:"toggle",value:function(_){this.has(_)?this.delete(_):this.add(_)}},{key:"has",value:function(_){return!!(this.states&_)}}]),m}();i(631);function re(m){return ve(m)||we(m)||gn(m)||pe()}function pe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function we(m){if(typeof Symbol<"u"&&m[Symbol.iterator]!=null||m["@@iterator"]!=null)return Array.from(m)}function ve(m){if(Array.isArray(m))return Un(m)}function Pe(m){return Pe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},Pe(m)}function Ne(m,_){var k=Object.keys(m);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(m);_&&(x=x.filter(function(X){return Object.getOwnPropertyDescriptor(m,X).enumerable})),k.push.apply(k,x)}return k}function at(m){for(var _=1;_<arguments.length;_++){var k=arguments[_]!=null?arguments[_]:{};_%2?Ne(Object(k),!0).forEach(function(x){Ke(m,x,k[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(m,Object.getOwnPropertyDescriptors(k)):Ne(Object(k)).forEach(function(x){Object.defineProperty(m,x,Object.getOwnPropertyDescriptor(k,x))})}return m}function Ke(m,_,k){return _ in m?Object.defineProperty(m,_,{value:k,enumerable:!0,configurable:!0,writable:!0}):m[_]=k,m}function It(m,_){return Qt(m)||_t(m,_)||gn(m,_)||ut()}function ut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gn(m,_){if(m){if(typeof m=="string")return Un(m,_);var k=Object.prototype.toString.call(m).slice(8,-1);return k==="Object"&&m.constructor&&(k=m.constructor.name),k==="Map"||k==="Set"?Array.from(m):k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k)?Un(m,_):void 0}}function Un(m,_){(_==null||_>m.length)&&(_=m.length);for(var k=0,x=new Array(_);k<_;k++)x[k]=m[k];return x}function _t(m,_){var k=m==null?null:typeof Symbol<"u"&&m[Symbol.iterator]||m["@@iterator"];if(k!=null){var x,X,ue=[],_e=!0,yt=!1;try{for(k=k.call(m);!(_e=(x=k.next()).done)&&(ue.push(x.value),!(_&&ue.length===_));_e=!0);}catch(Se){yt=!0,X=Se}finally{try{_e||k.return==null||k.return()}finally{if(yt)throw X}}return ue}}function Qt(m){if(Array.isArray(m))return m}var lt={None:0,Drag:2,Focus:4},Rn=4,ia=(0,u.defineComponent)({name:"VueSlider",components:{VueSliderDot:V,VueSliderMark:w},emits:["change","drag-start","dragging","drag-end","error","update:modelValue"],data:function(){return{control:null,states:new ge(lt),scale:1,focusDotIndex:0}},props:{modelValue:{type:[Number,String,Array],default:0},silent:{type:Boolean,default:!1},direction:{type:String,default:"ltr",validator:function(m){return["ltr","rtl","ttb","btt"].indexOf(m)>-1}},width:{type:[Number,String]},height:{type:[Number,String]},dotSize:{type:[Number,Array],default:14},contained:{type:Boolean,default:!1},min:{type:Number,default:0},max:{type:Number,default:100},interval:{type:Number,default:1},disabled:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},dragOnClick:{type:Boolean,default:!1},duration:{type:Number,default:.5},vData:{type:[Object,Array]},dataValue:{type:String,default:"value"},dataLabel:{type:String,default:"label"},lazy:{type:Boolean,default:!1},tooltip:{type:String,default:"active",validator:function(m){return["none","always","focus","hover","active"].indexOf(m)>-1}},tooltipPlacement:{type:[String,Array],validator:function(m){return(Array.isArray(m)?m:[m]).every(function(_){return["top","right","bottom","left"].indexOf(_)>-1})}},tooltipFormatter:{type:[String,Array,Function]},useKeyboard:{type:Boolean,default:!0},keydownHook:{type:Function},enableCross:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},order:{type:Boolean,default:!0},minRange:{type:Number},maxRange:{type:Number},marks:{type:[Boolean,Object,Array,Function],default:!1},process:{type:[Boolean,Function],default:!0},included:{type:Boolean},adsorb:{type:Boolean},hideLabel:{type:Boolean},dotOptions:{type:[Object,Array]},dotAttrs:{type:Object},railStyle:{type:Object},processStyle:{type:Object},dotStyle:{type:Object},tooltipStyle:{type:Object},stepStyle:{type:Object},stepActiveStyle:{type:Object},labelStyle:{type:Object},labelActiveStyle:{type:Object}},computed:{isHorizontal:function(){return this.direction==="ltr"||this.direction==="rtl"},isReverse:function(){return this.direction==="rtl"||this.direction==="btt"},tailSize:function(){return I((this.isHorizontal?this.height:this.width)||Rn)},containerClasses:function(){return["vue-slider",["vue-slider-".concat(this.direction)],{"vue-slider-disabled":this.disabled}]},containerStyles:function(){var m=Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],_=It(m,2),k=_[0],x=_[1],X=this.width?I(this.width):this.isHorizontal?"auto":I(Rn),ue=this.height?I(this.height):this.isHorizontal?I(Rn):"auto";return{padding:this.contained?"".concat(x/2,"px ").concat(k/2,"px"):this.isHorizontal?"".concat(x/2,"px 0"):"0 ".concat(k/2,"px"),width:X,height:ue}},processArray:function(){var m=this;return this.control.processArray.map(function(_,k){var x,X=It(_,3),ue=X[0],_e=X[1],yt=X[2];if(ue>_e){var Se=[_e,ue];ue=Se[0],_e=Se[1]}var tt=m.isHorizontal?"width":"height";return{start:ue,end:_e,index:k,style:at(at((x={},Ke(x,m.isHorizontal?"height":"width","100%"),Ke(x,m.isHorizontal?"top":"left",0),Ke(x,m.mainDirection,"".concat(ue,"%")),Ke(x,tt,"".concat(_e-ue,"%")),Ke(x,"transitionProperty","".concat(tt,",").concat(m.mainDirection)),Ke(x,"transitionDuration","".concat(m.animateTime,"s")),x),m.processStyle),yt)}})},dotBaseStyle:function(){var m,_=Array.isArray(this.dotSize)?this.dotSize:[this.dotSize,this.dotSize],k=It(_,2),x=k[0],X=k[1];return m=this.isHorizontal?Ke({transform:"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),WebkitTransform:"translate(".concat(this.isReverse?"50%":"-50%",", -50%)"),top:"50%"},this.direction==="ltr"?"left":"right","0"):Ke({transform:"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),WebkitTransform:"translate(-50%, ".concat(this.isReverse?"50%":"-50%",")"),left:"50%"},this.direction==="btt"?"bottom":"top","0"),at({width:"".concat(x,"px"),height:"".concat(X,"px")},m)},mainDirection:function(){switch(this.direction){case"ltr":return"left";case"rtl":return"right";case"btt":return"bottom";case"ttb":return"top";default:return"left"}},tooltipDirections:function(){var m=this.tooltipPlacement||(this.isHorizontal?"top":"left");return Array.isArray(m)?m:this.dots.map(function(){return m})},dots:function(){var m=this;return this.control.dotsPos.map(function(_,k){return at({pos:_,index:k,value:m.control.dotsValue[k],focus:m.states.has(lt.Focus)&&m.focusDotIndex===k,disabled:m.disabled,style:m.dotStyle},(Array.isArray(m.dotOptions)?m.dotOptions[k]:m.dotOptions)||{})})},animateTime:function(){return this.states.has(lt.Drag)?0:this.duration},canSort:function(){return this.order&&!this.minRange&&!this.maxRange&&!this.fixed&&this.enableCross},sliderData:function(){var m=this;return this.isObjectArrayData(this.vData)?this.vData.map(function(_){return _[m.dataValue]}):this.isObjectData(this.vData)?Object.keys(this.vData):this.vData},sliderMarks:function(){var m=this;return this.marks?this.marks:this.isObjectArrayData(this.vData)?function(_){var k={label:_};return m.vData.some(function(x){return x[m.dataValue]===_&&(k.label=x[m.dataLabel],!0)}),k}:this.isObjectData(this.vData)?this.vData:void 0},sliderTooltipFormatter:function(){var m=this;if(this.tooltipFormatter)return this.tooltipFormatter;if(this.isObjectArrayData(this.vData))return function(k){var x=""+k;return m.vData.some(function(X){return X[m.dataValue]===k&&(x=X[m.dataLabel],!0)}),x};if(this.isObjectData(this.vData)){var _=this.vData;return function(k){return _[k]}}},isNotSync:function(){var m=this.control.dotsValue;return Array.isArray(this.modelValue)?this.modelValue.length!==m.length||this.modelValue.some(function(_,k){return _!==m[k]}):this.modelValue!==m[0]},dragRange:function(){var m=this.dots[this.focusDotIndex-1],_=this.dots[this.focusDotIndex+1];return[m?m.pos:-1/0,_?_.pos:1/0]}},watch:{modelValue:function(){this.control&&!this.states.has(lt.Drag)&&this.isNotSync&&this.control.setValue(this.modelValue)}},methods:{isObjectData:function(m){return!!m&&Object.prototype.toString.call(m)==="[object Object]"},isObjectArrayData:function(m){return!!m&&Array.isArray(m)&&m.length>0&&Pe(m[0])==="object"},bindEvent:function(){document.addEventListener("touchmove",this.dragMove,{passive:!1}),document.addEventListener("touchend",this.dragEnd,{passive:!1}),document.addEventListener("mousedown",this.blurHandle),document.addEventListener("mousemove",this.dragMove),document.addEventListener("mouseup",this.dragEnd),document.addEventListener("mouseleave",this.dragEnd),document.addEventListener("keydown",this.keydownHandle)},unbindEvent:function(){document.removeEventListener("touchmove",this.dragMove),document.removeEventListener("touchend",this.dragEnd),document.removeEventListener("mousedown",this.blurHandle),document.removeEventListener("mousemove",this.dragMove),document.removeEventListener("mouseup",this.dragEnd),document.removeEventListener("mouseleave",this.dragEnd),document.removeEventListener("keydown",this.keydownHandle)},setScale:function(){this.scale=new Ze(Math.floor(this.isHorizontal?this.$el.offsetWidth:this.$el.offsetHeight)).divide(100).toNumber()},initControl:function(){var m=this;this.control=new G({value:this.modelValue,data:this.sliderData,enableCross:this.enableCross,fixed:this.fixed,max:this.max,min:this.min,interval:this.interval,minRange:this.minRange,maxRange:this.maxRange,order:this.order,marks:this.sliderMarks,included:this.included,process:this.process,adsorb:this.adsorb,dotOptions:this.dotOptions,onError:this.emitError}),["data","enableCross","fixed","max","min","interval","minRange","maxRange","order","marks","process","adsorb","included","dotOptions"].forEach(function(_){m.$watch(_,function(k){if(_==="data"&&Array.isArray(m.control.data)&&Array.isArray(k)&&m.control.data.length===k.length&&k.every(function(x,X){return x===m.control.data[X]}))return!1;switch(_){case"data":case"dataLabel":case"dataValue":m.control.data=m.sliderData;break;case"mark":m.control.marks=m.sliderMarks;break;default:m.control[_]=k}["data","max","min","interval"].indexOf(_)>-1&&m.control.syncDotsPos()})})},syncValueByPos:function(){var m=this.control.dotsValue;if(this.isDiff(m,Array.isArray(this.modelValue)?this.modelValue:[this.modelValue])){var _=m.length===1?m[0]:re(m);this.$emit("change",_,this.focusDotIndex),this.$emit("update:modelValue",_)}},isDiff:function(m,_){return m.length!==_.length||m.some(function(k,x){return k!==_[x]})},emitError:function(m,_){this.silent||console.error("[VueSlider error]: ".concat(_)),this.$emit("error",m,_)},dragStartOnProcess:function(m){if(this.dragOnClick){this.setScale();var _=this.getPosByEvent(m),k=this.control.getRecentDot(_);if(this.dots[k].disabled)return;this.dragStart(k),this.control.setDotPos(_,this.focusDotIndex),this.lazy||this.syncValueByPos()}},dragStart:function(m){this.focusDotIndex=m,this.setScale(),this.states.add(lt.Drag),this.states.add(lt.Focus),this.$emit("drag-start",this.focusDotIndex)},dragMove:function(m){if(!this.states.has(lt.Drag))return!1;m.preventDefault();var _=this.getPosByEvent(m);this.isCrossDot(_),this.control.setDotPos(_,this.focusDotIndex),this.lazy||this.syncValueByPos();var k=this.control.dotsValue;this.$emit("dragging",k.length===1?k[0]:re(k),this.focusDotIndex)},isCrossDot:function(m){if(this.canSort){var _=this.focusDotIndex,k=m;if(k>this.dragRange[1]?(k=this.dragRange[1],this.focusDotIndex++):k<this.dragRange[0]&&(k=this.dragRange[0],this.focusDotIndex--),_!==this.focusDotIndex){var x=this.$refs["dot-".concat(this.focusDotIndex)];x&&x.$el&&x.$el.focus(),this.control.setDotPos(k,_)}}},dragEnd:function(m){var _=this;if(!this.states.has(lt.Drag))return!1;setTimeout(function(){_.lazy&&_.syncValueByPos(),_.included&&_.isNotSync?_.control.setValue(_.modelValue):_.control.syncDotsPos(),_.states.delete(lt.Drag),_.useKeyboard&&!("targetTouches"in m)||_.states.delete(lt.Focus),_.$emit("drag-end",_.focusDotIndex)})},blurHandle:function(m){if(!this.states.has(lt.Focus)||!this.$refs.container||this.$refs.container.contains(m.target))return!1;this.states.delete(lt.Focus)},clickHandle:function(m){if(!this.clickable||this.disabled)return!1;if(!this.states.has(lt.Drag)){this.setScale();var _=this.getPosByEvent(m);this.setValueByPos(_)}},focus:function(m){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;m.disabled||(this.states.add(lt.Focus),this.focusDotIndex=_)},blur:function(){this.states.delete(lt.Focus)},getValue:function(){var m=this.control.dotsValue;return m.length===1?m[0]:m},getIndex:function(){var m=this.control.dotsIndex;return m.length===1?m[0]:m},setValue:function(m){this.control.setValue(Array.isArray(m)?re(m):[m]),this.syncValueByPos()},setIndex:function(m){var _=this,k=Array.isArray(m)?m.map(function(x){return _.control.getValueByIndex(x)}):this.control.getValueByIndex(m);this.setValue(k)},setValueByPos:function(m){var _=this,k=this.control.getRecentDot(m);if(this.disabled||this.dots[k].disabled)return!1;this.focusDotIndex=k,this.control.setDotPos(m,k),this.syncValueByPos(),this.useKeyboard&&this.states.add(lt.Focus),setTimeout(function(){_.included&&_.isNotSync?_.control.setValue(_.modelValue):_.control.syncDotsPos()})},keydownHandle:function(m){var _=this;if(!this.useKeyboard||!this.states.has(lt.Focus))return!1;var k=this.included&&this.marks,x=T(m,{direction:this.direction,max:k?this.control.markList.length-1:this.control.total,min:0,hook:this.keydownHook});if(x){m.preventDefault();var X=-1,ue=0;k?(this.control.markList.some(function(_e,yt){return _e.value===_.control.dotsValue[_.focusDotIndex]&&(X=x(yt),!0)}),X<0?X=0:X>this.control.markList.length-1&&(X=this.control.markList.length-1),ue=this.control.markList[X].pos):(X=x(this.control.getIndexByValue(this.control.dotsValue[this.focusDotIndex])),ue=this.control.parseValue(this.control.getValueByIndex(X))),this.isCrossDot(ue),this.control.setDotPos(ue,this.focusDotIndex),this.syncValueByPos()}},getPosByEvent:function(m){return b(m,this.$el,this.isReverse)[this.isHorizontal?"x":"y"]/this.scale},renderSlot:function(m,_,k){var x=this.$slots[m];return x?x(_):k}},created:function(){this.initControl()},mounted:function(){this.bindEvent()},beforeUnmount:function(){this.unbindEvent()}}),Bn=(0,L.Z)(ia,[["render",y]]);Bn.VueSliderMark=w,Bn.VueSliderDot=V;var Ii=Bn,Ai=Ii}(),o=o.default,o}()})})(hE);var Jk=hE.exports;const Xk=Gk(Jk);const Zk={name:"Home",components:{VueSlider:Xk},data(){return{searchQuery:"",selectedCategory:"All",categories:["All","Vegetables","Fruits","Bakery","Dairy","Meat","Herbs"],filteredProducts:[],loading:!1,error:null,isAuthenticated:!1,cart:[],lastDoc:null,hasMore:!0,productListeners:{},priceRange:[0,25],maxPriceValue:25,minRating:0,cartUnwatch:null}},async mounted(){this.isAuthenticated=vc(),lE(t=>{this.isAuthenticated=!!t,this.isAuthenticated?this.setupCartWatcher():this.cartUnwatch&&(this.cartUnwatch(),this.cart=[])}),await this.applyFilters()},beforeUnmount(){for(const t in this.productListeners)this.productListeners[t]&&(this.productListeners[t](),delete this.productListeners[t]);this.cartUnwatch&&this.cartUnwatch()},methods:{async setupCartWatcher(){this.cart=await Wk(),this.updateProductQuantities(),this.cartUnwatch=Kk(t=>{this.cart=t,this.updateProductQuantities()})},updateProductQuantities(){this.filteredProducts.forEach(t=>{const e=this.cart.find(n=>n.id===t.id);t.quantity=e?e.quantity:0})},async handleCategoryFilter(t){this.selectedCategory=t,await this.applyFilters()},async addToCart(t){if(!this.isAuthenticated){alert("Please log in to add items to your cart.");return}try{const e=En();await addToCart(e,t),alert("Added to cart!")}catch(e){alert("Failed to add to cart. Please try again."),console.error("Error adding to cart:",e)}},async applyFilters(t=!1){this.loading=!0,this.error=null;const e={category:this.selectedCategory,minPrice:this.priceRange[0],maxPrice:this.priceRange[1],minRating:this.minRating};try{const n=await vk(e,t?this.lastDoc:null);this.filteredProducts=n.map(r=>({...r,quantity:0})),this.updateProductQuantities(),this.filteredProducts.forEach(r=>{this.productListeners[r.id]||(this.productListeners[r.id]=aE(r.id,s=>{const i=this.filteredProducts.findIndex(o=>o.id===s.id);i!==-1&&(s.stock===0?(this.filteredProducts.splice(i,1),this.productListeners[s.id]&&(this.productListeners[s.id](),delete this.productListeners[s.id])):this.filteredProducts[i].stock=s.stock)}))}),this.hasMore=n.length===20,n.length>0&&(this.lastDoc=n[n.length-1])}catch{this.error="Failed to load products. Please try again."}this.loading=!1},async incrementQuantity(t){t.quantity++,await cE(t)},async decrementQuantity(t){t.quantity>0&&(t.quantity--,await uE(t))}}},eO={class:"home"},tO={class:"filters mb-4"},nO={class:"category-filters"},rO=["onClick"],sO={class:"slider-filters"},iO={class:"form-group"},oO={class:"price-range-values"},aO={class:"form-group"},lO={class:"rating-value"},cO={key:0,class:"loading"},uO={key:1,class:"error"},hO={key:2,class:"products-grid"},dO={class:"product-image"},fO=["src","alt"],pO={class:"product-info"},mO={class:"product-name"},gO={class:"product-price"},_O={key:0,class:"product-rating"},yO={class:"product-description"},vO={class:"product-details"},EO={key:0,class:"stock"},wO={key:0,class:"quantity-controls"},TO=["onClick"],bO={class:"quantity"},IO=["onClick"],AO={key:3,class:"text-center mt-4"},RO={key:4,class:"no-products"};function SO(t,e,n,r,s,i){const o=Br("vue-slider"),l=Br("router-link");return Ee(),Ae("div",eO,[e[9]||(e[9]=D("div",{class:"hero"},[D("h1",null,"Fresh Local Food"),D("p",null,"Support local farmers, bakers, and artisans in your community")],-1)),D("div",tO,[D("div",nO,[(Ee(!0),Ae(it,null,ei(s.categories,c=>(Ee(),Ae("button",{key:c,onClick:h=>i.handleCategoryFilter(c),class:gi(["filter-btn",{active:s.selectedCategory===c}])},Te(c),11,rO))),128))]),D("div",sO,[D("div",iO,[e[2]||(e[2]=D("label",null,"Price Range",-1)),De(o,{modelValue:s.priceRange,"onUpdate:modelValue":e[0]||(e[0]=c=>s.priceRange=c),max:s.maxPriceValue,"enable-cross":!1,onMouseup:i.applyFilters},null,8,["modelValue","max","onMouseup"]),D("div",oO,[D("span",null,"Min: $"+Te(s.priceRange[0]),1),D("span",null,"Max: $"+Te(s.priceRange[1]),1)])]),D("div",aO,[e[3]||(e[3]=D("label",null,"Minimum Rating",-1)),De(o,{modelValue:s.minRating,"onUpdate:modelValue":e[1]||(e[1]=c=>s.minRating=c),max:5,interval:.1,onMouseup:i.applyFilters},null,8,["modelValue","onMouseup"]),D("div",lO,[D("span",null,"Min: "+Te(s.minRating),1)])])])]),s.loading?(Ee(),Ae("div",cO,e[4]||(e[4]=[D("p",null,"Loading products...",-1)]))):s.error?(Ee(),Ae("div",uO,[D("p",null,Te(s.error),1)])):(Ee(),Ae("div",hO,[De(l,{to:"/sell",class:"add-product-card card"},{default:cn(()=>e[5]||(e[5]=[D("div",{class:"add-product-card-content"},[D("span",{class:"plus-icon"},"+"),D("h3",null,"List Your Product"),D("p",null,"Join our community of sellers.")],-1)])),_:1,__:[5]}),(Ee(!0),Ae(it,null,ei(s.filteredProducts,c=>(Ee(),Ae("div",{key:c.id,class:"product-card card"},[D("div",dO,[D("img",{src:c.image,alt:c.name},null,8,fO)]),D("div",pO,[D("h3",mO,Te(c.name),1),D("p",gO,"$"+Te(c.price.toFixed(2)),1),c.avgRating?(Ee(),Ae("div",_O,[e[6]||(e[6]=D("i",{class:"fas fa-star"},null,-1)),D("span",null,"Rating: "+Te(c.avgRating.toFixed(1))+" ★",1)])):bt("",!0),D("p",yO,Te(c.description),1),D("div",vO,[D("div",null,[c.stock>0?(Ee(),Ae("p",EO,"In Stock: "+Te(c.stock),1)):bt("",!0),De(l,{to:`/seller/${c.sellerId}`,class:"seller-link"},{default:cn(()=>[mt(" By "+Te(c.sellerName),1)]),_:2},1032,["to"])]),s.isAuthenticated?(Ee(),Ae("div",wO,[D("button",{class:"btn btn-sm",onClick:kr(h=>i.decrementQuantity(c),["prevent","stop"])},"-",8,TO),D("span",bO,Te(c.quantity),1),D("button",{class:"btn btn-sm",onClick:kr(h=>i.incrementQuantity(c),["prevent","stop"])},"+",8,IO)])):bt("",!0)])])]))),128))])),s.hasMore&&s.filteredProducts.length>0?(Ee(),Ae("div",AO,e[7]||(e[7]=[D("button",{class:"btn"},"Load More",-1)]))):bt("",!0),s.filteredProducts.length===0&&!s.loading?(Ee(),Ae("div",RO,e[8]||(e[8]=[D("p",null,"No products found. Try adjusting your search or filters.",-1)]))):bt("",!0)])}const PO=bi(Zk,[["render",SO],["__scopeId","data-v-00793ba2"]]);const CO={name:"ProductDetail",data(){return{quantity:1,product:null,isAuthenticated:!1}},mounted(){this.isAuthenticated=vc();const t=this.$route.params.id;aE(t,e=>{this.product=e})},methods:{increaseQuantity(){this.quantity++},decreaseQuantity(){this.quantity>1&&this.quantity--},async addToCart(){if(!this.isAuthenticated){alert("Please log in to add items to your cart.");return}try{const t=En();await yc(t,this.product,this.quantity),alert(`Added ${this.quantity} ${this.product.unit||"item(s)"} to cart!`)}catch(t){console.error("Error adding to cart:",t),alert("Failed to add to cart. Please try again.")}}}},kO={key:0,class:"product-detail"},OO={class:"product-layout"},DO={class:"product-image-section"},VO=["src","alt"],NO={class:"product-info-section"},xO={key:0,class:"product-rating"},MO={class:"product-description"},LO={class:"product-badges"},FO={key:0,class:"badge badge-organic"},UO={key:1,class:"badge badge-local"},BO={key:2,class:"badge badge-fresh"},jO={class:"product-meta"},$O={class:"meta-item"},HO={class:"meta-item"},qO={class:"meta-item"},WO={class:"purchase-section"},KO={class:"price-section"},zO={class:"price"},GO={class:"unit"},QO={class:"quantity-section"},YO={class:"quantity-controls"},JO={class:"total-section"},XO={class:"additional-info"},ZO={class:"seller-info"},eD={key:1,class:"loading"};function tD(t,e,n,r,s,i){const o=Br("router-link");return s.product?(Ee(),Ae("div",kO,[D("div",OO,[D("div",DO,[D("img",{src:s.product.image,alt:s.product.name,class:"product-image"},null,8,VO)]),D("div",NO,[D("h1",null,Te(s.product.name),1),s.product.avgRating?(Ee(),Ae("div",xO,[e[4]||(e[4]=D("i",{class:"fas fa-star"},null,-1)),D("span",null,Te(s.product.avgRating.toFixed(1)),1)])):bt("",!0),D("p",MO,Te(s.product.description),1),D("div",LO,[s.product.organic?(Ee(),Ae("span",FO,"Organic")):bt("",!0),s.product.local?(Ee(),Ae("span",UO,"Local")):bt("",!0),s.product.fresh?(Ee(),Ae("span",BO,"Fresh")):bt("",!0)]),D("div",jO,[D("div",$O,[e[5]||(e[5]=D("strong",null,"Category:",-1)),mt(" "+Te(s.product.category),1)]),D("div",HO,[e[6]||(e[6]=D("strong",null,"Seller:",-1)),De(o,{to:`/seller/${s.product.sellerId}`,class:"seller-link"},{default:cn(()=>[mt(Te(s.product.sellerName),1)]),_:1},8,["to"])]),D("div",qO,[e[7]||(e[7]=D("strong",null,"Location:",-1)),mt(" "+Te(s.product.location||"Local Area"),1)])]),D("div",WO,[D("div",KO,[D("span",zO,"$"+Te(s.product.price),1),D("span",GO,"per "+Te(s.product.unit||"item"),1)]),D("div",QO,[e[8]||(e[8]=D("label",{for:"quantity"},"Quantity:",-1)),D("div",YO,[D("button",{onClick:e[0]||(e[0]=(...l)=>i.decreaseQuantity&&i.decreaseQuantity(...l)),class:"quantity-btn"},"-"),hn(D("input",{id:"quantity","onUpdate:modelValue":e[1]||(e[1]=l=>s.quantity=l),type:"number",min:"1",class:"quantity-input"},null,512),[[Zt,s.quantity,void 0,{number:!0}]]),D("button",{onClick:e[2]||(e[2]=(...l)=>i.increaseQuantity&&i.increaseQuantity(...l)),class:"quantity-btn"},"+")])]),D("div",JO,[D("strong",null,"Total: $"+Te((s.product.price*s.quantity).toFixed(2)),1)]),D("button",{onClick:e[3]||(e[3]=(...l)=>i.addToCart&&i.addToCart(...l)),class:"btn add-to-cart-btn"}," Add to Cart ")])])]),D("div",XO,[e[11]||(e[11]=D("h2",null,"About this product",-1)),D("p",null,Te(s.product.longDescription||"This is a high-quality local product sourced from trusted farmers and artisans in your community."),1),D("div",ZO,[e[10]||(e[10]=D("h3",null,"About the seller",-1)),D("p",null,Te(s.product.sellerDescription||`${s.product.sellerName} is a trusted local producer committed to quality and sustainability.`),1),De(o,{to:`/seller/${s.product.sellerId}`,class:"btn btn-secondary"},{default:cn(()=>e[9]||(e[9]=[mt(" View Seller Profile ",-1)])),_:1,__:[9]},8,["to"])])])])):(Ee(),Ae("div",eD,e[12]||(e[12]=[D("p",null,"Loading product...",-1)])))}const nD=bi(CO,[["render",tD],["__scopeId","data-v-ddd88316"]]);const rD={name:"Cart",data(){return{cartItems:[],deliveryFee:5.99,loading:!1,error:null,isAuthenticated:!1,cartUnsubscribe:null}},computed:{subtotal(){return this.cartItems.reduce((t,e)=>t+e.price*e.quantity,0)},total(){return this.subtotal+this.deliveryFee}},mounted(){if(this.isAuthenticated=vc(),this.isAuthenticated){this.loading=!0;const t=En();this.cartUnsubscribe=Cd(t,e=>{this.cartItems=e,this.loading=!1})}},unmounted(){this.cartUnsubscribe&&this.cartUnsubscribe()},methods:{increaseQuantity(t){cE(t)},decreaseQuantity(t){t.quantity>1&&uE(t)},async removeItem(t){try{const e=En();await yc(e,t,-t.quantity)}catch(e){alert("Failed to remove item. Please try again."),console.error("Error removing item:",e)}},async checkout(){alert("Checkout functionality would be integrated with a payment processor like Stripe or PayPal. For now, this is a demo.");try{const t=En();await wk(t)}catch(t){console.error("Error clearing cart:",t)}}}},sD={class:"cart"},iD={key:0,class:"auth-required"},oD={key:1,class:"loading"},aD={key:2,class:"error"},lD={key:3,class:"empty-cart"},cD={key:4,class:"cart-content"},uD={class:"cart-items"},hD={class:"item-image"},dD=["src","alt"],fD={class:"item-details"},pD={class:"item-price"},mD={class:"item-quantity"},gD={class:"quantity-controls"},_D={class:"quantity-display"},yD={class:"item-total"},vD={class:"total-price"},ED={class:"cart-summary card"},wD={class:"summary-item"},TD={class:"summary-item"},bD={class:"summary-item total"};function ID(t,e,n,r,s,i){const o=Br("router-link");return Ee(),Ae("div",sD,[e[13]||(e[13]=D("h1",null,"Shopping Cart",-1)),s.isAuthenticated?s.loading?(Ee(),Ae("div",oD,e[3]||(e[3]=[D("p",null,"Loading cart...",-1)]))):s.error?(Ee(),Ae("div",aD,[D("p",null,Te(s.error),1)])):s.cartItems.length===0?(Ee(),Ae("div",lD,[e[5]||(e[5]=D("p",null,"Your cart is empty",-1)),De(o,{to:"/",class:"btn"},{default:cn(()=>e[4]||(e[4]=[mt("Continue Shopping",-1)])),_:1,__:[4]})])):(Ee(),Ae("div",cD,[D("div",uD,[(Ee(!0),Ae(it,null,ei(s.cartItems,l=>(Ee(),Ae("div",{key:l.id,class:"cart-item card"},[D("div",hD,[D("img",{src:l.image,alt:l.name},null,8,dD)]),D("div",fD,[D("h3",null,Te(l.name),1),D("p",pD,"$"+Te(l.price)+" each",1)]),D("div",mD,[e[6]||(e[6]=D("label",null,"Quantity:",-1)),D("div",gD,[D("span",_D,Te(l.quantity),1)])]),D("div",yD,[D("span",vD,"$"+Te((l.price*l.quantity).toFixed(2)),1)])]))),128))]),D("div",ED,[e[11]||(e[11]=D("h2",null,"Order Summary",-1)),D("div",wD,[e[7]||(e[7]=D("span",null,"Subtotal:",-1)),D("span",null,"$"+Te(i.subtotal.toFixed(2)),1)]),D("div",TD,[e[8]||(e[8]=D("span",null,"Delivery:",-1)),D("span",null,"$"+Te(s.deliveryFee.toFixed(2)),1)]),D("div",bD,[e[9]||(e[9]=D("span",null,"Total:",-1)),D("span",null,"$"+Te(i.total.toFixed(2)),1)]),e[12]||(e[12]=D("div",{class:"delivery-info"},[D("h3",null,"Delivery Information"),D("p",null,"Local delivery within 24 hours"),D("p",null,"Free delivery on orders over $50")],-1)),D("button",{onClick:e[1]||(e[1]=(...l)=>i.checkout&&i.checkout(...l)),class:"btn checkout-btn"}," Proceed to Checkout "),De(o,{to:"/",class:"btn btn-secondary continue-shopping"},{default:cn(()=>e[10]||(e[10]=[mt(" Continue Shopping ",-1)])),_:1,__:[10]})])])):(Ee(),Ae("div",iD,[e[2]||(e[2]=D("p",null,"Please log in to view your cart",-1)),D("button",{onClick:e[0]||(e[0]=l=>t.$emit("show-login")),class:"btn"},"Login")]))])}const AD=bi(rD,[["render",ID],["__scopeId","data-v-18f74ecf"]]);const RD={name:"SellerProfile",data(){return{seller:null,sellers:[{id:1,name:"Green Valley Farm",description:"Organic produce grown with sustainable farming practices",longDescription:"Green Valley Farm has been growing organic produce for over 20 years. We believe in sustainable farming practices and providing the community with the freshest, most nutritious food possible. Our farm spans 50 acres of certified organic land where we grow a wide variety of vegetables, fruits, and herbs.",location:"Green Valley, 15 miles away",since:"2003",phone:"(555) 123-4567",email:"info@greenvalleyfarm.com",website:"https://greenvalleyfarm.com",address:"123 Farm Road, Green Valley, CA 90210",image:"https://images.unsplash.com/photo-1500382017468-9049fed747ef?w=400&h=300&fit=crop",organic:!0,local:!0,family:!0},{id:2,name:"Rustic Bakery",description:"Traditional bread-making with locally sourced ingredients",longDescription:"Rustic Bakery specializes in traditional bread-making techniques. We use only the finest ingredients and time-honored methods to create breads that are both delicious and nutritious. Our sourdough starter is over 100 years old and we source our flour from local mills.",location:"Downtown, 5 miles away",since:"2010",phone:"(555) 234-5678",email:"hello@rusticbakery.com",website:"https://rusticbakery.com",address:"456 Main Street, Downtown, CA 90211",image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?w=400&h=300&fit=crop",organic:!1,local:!0,family:!0},{id:3,name:"Happy Hen Farm",description:"Free-range eggs from humanely raised chickens",longDescription:"Happy Hen Farm raises chickens in a humane, sustainable way. Our birds have plenty of space to roam and access to fresh air and sunshine year-round. We feed them a natural diet of organic grains and allow them to forage for insects and greens.",location:"Happy Valley, 8 miles away",since:"2015",phone:"(555) 345-6789",email:"eggs@happyhenfarm.com",website:"https://happyhenfarm.com",address:"789 Chicken Lane, Happy Valley, CA 90212",image:"https://images.unsplash.com/photo-1569288063648-5d2194db4b13?w=400&h=300&fit=crop",organic:!0,local:!0,family:!0},{id:4,name:"Herb Garden Co",description:"Fresh culinary herbs grown without pesticides",longDescription:"Herb Garden Co grows a wide variety of culinary herbs using organic methods. We focus on flavor and freshness, ensuring you get the best herbs for your kitchen. Our greenhouse allows us to provide fresh herbs year-round.",location:"Herb Garden, 12 miles away",since:"2018",phone:"(555) 456-7890",email:"herbs@herbgardenco.com",website:"https://herbgardenco.com",address:"321 Herb Way, Herb Garden, CA 90213",image:"https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=400&h=300&fit=crop",organic:!0,local:!0,family:!1},{id:5,name:"Prairie Ranch",description:"Grass-fed beef from pasture-raised cattle",longDescription:"Prairie Ranch raises cattle using traditional ranching methods. Our animals graze on natural grasslands and are never given growth hormones or unnecessary antibiotics. We believe in raising animals the way nature intended.",location:"Prairie Ranch, 25 miles away",since:"2008",phone:"(555) 567-8901",email:"beef@prairieranch.com",website:"https://prairieranch.com",address:"654 Ranch Road, Prairie Ranch, CA 90214",image:"https://images.unsplash.com/photo-1544025162-d76694265947?w=400&h=300&fit=crop",organic:!1,local:!0,family:!0}],allProducts:[{id:1,name:"Fresh Organic Tomatoes",description:"Sweet, juicy tomatoes grown without pesticides",price:3.99,image:"https://images.unsplash.com/photo-1546094096-0df4bcaaa337?w=300&h=200&fit=crop",category:"Vegetables",organic:!0,local:!0,fresh:!0,sellerId:1},{id:2,name:"Artisan Sourdough Bread",description:"Traditional sourdough made with local flour",price:5.5,image:"https://images.unsplash.com/photo-1509440159596-0249088772ff?w=300&h=200&fit=crop",category:"Bakery",organic:!1,local:!0,fresh:!0,sellerId:2},{id:3,name:"Fresh Eggs",description:"Farm fresh eggs from free-range chickens",price:4.99,image:"https://images.unsplash.com/photo-1569288063648-5d2194db4b13?w=300&h=200&fit=crop",category:"Dairy",organic:!0,local:!0,fresh:!0,sellerId:3},{id:4,name:"Mixed Herbs Bundle",description:"Fresh basil, rosemary, and thyme",price:2.99,image:"https://images.unsplash.com/photo-1512621776951-a57141f2eefd?w=300&h=200&fit=crop",category:"Herbs",organic:!0,local:!0,fresh:!0,sellerId:4},{id:5,name:"Grass-Fed Beef",description:"Premium beef from pasture-raised cattle",price:12.99,image:"https://images.unsplash.com/photo-1544025162-d76694265947?w=300&h=200&fit=crop",category:"Meat",organic:!1,local:!0,fresh:!0,sellerId:5},{id:6,name:"Fresh Strawberries",description:"Sweet, ripe strawberries picked this morning",price:4.5,image:"https://images.unsplash.com/photo-1464965911861-746a04b4bca6?w=300&h=200&fit=crop",category:"Fruits",organic:!0,local:!0,fresh:!0,sellerId:1}]}},computed:{sellerProducts(){const t=parseInt(this.$route.params.id);return this.allProducts.filter(e=>e.sellerId===t)}},mounted(){const t=parseInt(this.$route.params.id);this.seller=this.sellers.find(e=>e.id===t)}},SD={key:0,class:"seller-profile"},PD={class:"seller-header"},CD={class:"seller-info"},kD={class:"seller-description"},OD={class:"seller-meta"},DD={class:"meta-item"},VD={class:"meta-item"},ND={class:"meta-item"},xD={class:"seller-badges"},MD={key:0,class:"badge badge-organic"},LD={key:1,class:"badge badge-local"},FD={key:2,class:"badge badge-fresh"},UD={class:"seller-image"},BD=["src","alt"],jD={class:"seller-content"},$D={class:"about-section"},HD={class:"contact-info"},qD={class:"contact-grid"},WD={class:"contact-item"},KD={class:"contact-item"},zD={class:"contact-item"},GD=["href"],QD={class:"contact-item"},YD={class:"products-section"},JD={key:0,class:"no-products"},XD={key:1,class:"products-grid"},ZD={class:"product-image"},eV=["src","alt"],tV={class:"product-info"},nV={class:"product-description"},rV={class:"product-badges"},sV={key:0,class:"badge badge-organic"},iV={key:1,class:"badge badge-local"},oV={key:2,class:"badge badge-fresh"},aV={class:"product-footer"},lV={class:"price"},cV={key:1,class:"loading"};function uV(t,e,n,r,s,i){const o=Br("router-link");return s.seller?(Ee(),Ae("div",SD,[D("div",PD,[D("div",CD,[D("h1",null,Te(s.seller.name),1),D("p",kD,Te(s.seller.description),1),D("div",OD,[D("span",DD,[e[0]||(e[0]=D("strong",null,"Location:",-1)),mt(" "+Te(s.seller.location),1)]),D("span",VD,[e[1]||(e[1]=D("strong",null,"Since:",-1)),mt(" "+Te(s.seller.since),1)]),D("span",ND,[e[2]||(e[2]=D("strong",null,"Products:",-1)),mt(" "+Te(i.sellerProducts.length),1)])]),D("div",xD,[s.seller.organic?(Ee(),Ae("span",MD,"Organic Certified")):bt("",!0),s.seller.local?(Ee(),Ae("span",LD,"Local Producer")):bt("",!0),s.seller.family?(Ee(),Ae("span",FD,"Family Owned")):bt("",!0)])]),D("div",UD,[D("img",{src:s.seller.image,alt:s.seller.name},null,8,BD)])]),D("div",jD,[D("div",$D,[D("h2",null,"About "+Te(s.seller.name),1),D("p",null,Te(s.seller.longDescription),1),D("div",HD,[e[7]||(e[7]=D("h3",null,"Contact Information",-1)),D("div",qD,[D("div",WD,[e[3]||(e[3]=D("strong",null,"Phone:",-1)),mt(" "+Te(s.seller.phone),1)]),D("div",KD,[e[4]||(e[4]=D("strong",null,"Email:",-1)),mt(" "+Te(s.seller.email),1)]),D("div",zD,[e[5]||(e[5]=D("strong",null,"Website:",-1)),D("a",{href:s.seller.website,target:"_blank"},Te(s.seller.website),9,GD)]),D("div",QD,[e[6]||(e[6]=D("strong",null,"Address:",-1)),mt(" "+Te(s.seller.address),1)])])])]),D("div",YD,[D("h2",null,"Products from "+Te(s.seller.name),1),i.sellerProducts.length===0?(Ee(),Ae("div",JD,e[8]||(e[8]=[D("p",null,"No products available at the moment.",-1)]))):(Ee(),Ae("div",XD,[(Ee(!0),Ae(it,null,ei(i.sellerProducts,l=>(Ee(),Ae("div",{key:l.id,class:"product-card card"},[D("div",ZD,[D("img",{src:l.image,alt:l.name},null,8,eV)]),D("div",tV,[D("h3",null,Te(l.name),1),D("p",nV,Te(l.description),1),D("div",rV,[l.organic?(Ee(),Ae("span",sV,"Organic")):bt("",!0),l.local?(Ee(),Ae("span",iV,"Local")):bt("",!0),l.fresh?(Ee(),Ae("span",oV,"Fresh")):bt("",!0)]),D("div",aV,[D("span",lV,"$"+Te(l.price),1),De(o,{to:`/product/${l.id}`,class:"btn"},{default:cn(()=>e[9]||(e[9]=[mt(" View Details ",-1)])),_:2,__:[9]},1032,["to"])])])]))),128))]))])])])):(Ee(),Ae("div",cV,e[10]||(e[10]=[D("p",null,"Loading seller information...",-1)])))}const hV=bi(RD,[["render",uV],["__scopeId","data-v-ceecd0fc"]]);const dV={name:"SellPage",data(){return{name:"",description:"",price:0,stock:0,category:"",categories:["Vegetables","Fruits","Bakery","Dairy","Meat","Herbs"],selectedFile:null}},methods:{getBase64(t){return new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>e(r.result),r.onerror=s=>n(s)})},handleFileUpload(t){this.selectedFile=t.target.files[0]},async addProduct(){const t=En();if(!t){alert("You must be logged in to list a product.");return}const e=bk();let n="";if(this.selectedFile)n=await this.getBase64(this.selectedFile);else{alert("Please select an image to upload.");return}const r={name:this.name,category:this.category,description:this.description,price:parseFloat(this.price),stock:parseInt(this.stock),image:n,numRatings:0,avgRating:0,sellerId:t,sellerName:e?e.displayName:"Unknown",sellerImage:e&&e.image?e.image:"https://www.gravatar.com/avatar/?d=mp"};await _k(r),this.$router.push("/")}}},fV={class:"sell-page"},pV={class:"form-group"},mV={class:"form-group"},gV={class:"form-group"},_V={class:"form-group"},yV={class:"form-group"},vV={class:"form-group"},EV=["value"];function wV(t,e,n,r,s,i){return Ee(),Ae("div",fV,[e[14]||(e[14]=D("h2",null,"List a New Product",-1)),D("form",{onSubmit:e[6]||(e[6]=kr((...o)=>i.addProduct&&i.addProduct(...o),["prevent"]))},[D("div",pV,[e[7]||(e[7]=D("label",{for:"name"},"Product Name",-1)),hn(D("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>s.name=o),required:""},null,512),[[Zt,s.name]])]),D("div",mV,[e[8]||(e[8]=D("label",{for:"description"},"Description",-1)),hn(D("textarea",{id:"description","onUpdate:modelValue":e[1]||(e[1]=o=>s.description=o),required:""},null,512),[[Zt,s.description]])]),D("div",gV,[e[9]||(e[9]=D("label",{for:"price"},"Price",-1)),hn(D("input",{type:"number",id:"price","onUpdate:modelValue":e[2]||(e[2]=o=>s.price=o),required:"",min:"0",step:"0.01"},null,512),[[Zt,s.price,void 0,{number:!0}]])]),D("div",_V,[e[10]||(e[10]=D("label",{for:"stock"},"Stock",-1)),hn(D("input",{type:"number",id:"stock","onUpdate:modelValue":e[3]||(e[3]=o=>s.stock=o),required:"",min:"0"},null,512),[[Zt,s.stock,void 0,{number:!0}]])]),D("div",yV,[e[11]||(e[11]=D("label",{for:"image"},"Product Image",-1)),D("input",{type:"file",id:"image",ref:"imageInput",accept:"image/*",onChange:e[4]||(e[4]=(...o)=>i.handleFileUpload&&i.handleFileUpload(...o)),required:""},null,544)]),D("div",vV,[e[12]||(e[12]=D("label",{for:"category"},"Category",-1)),hn(D("select",{id:"category","onUpdate:modelValue":e[5]||(e[5]=o=>s.category=o),required:""},[(Ee(!0),Ae(it,null,ei(s.categories,o=>(Ee(),Ae("option",{key:o,value:o},Te(o),9,EV))),128))],512),[[Ph,s.category]])]),e[13]||(e[13]=D("button",{type:"submit"},"List Product",-1))],32)])}const TV=bi(dV,[["render",wV],["__scopeId","data-v-8e348226"]]);const bV=[{path:"/",component:PO},{path:"/product/:id",component:nD},{path:"/cart",component:AD},{path:"/seller/:id",component:hV},{path:"/sell",name:"Sell",component:TV}],IV=yI({history:zb(),routes:bV});Tk.then(()=>{const t=dl(qk);t.use(IV),t.mount("#app")});
